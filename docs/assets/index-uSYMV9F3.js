(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Fc=!1;var To=Array.isArray,vd=Array.prototype.indexOf,Hu=Array.from,wf=Object.defineProperty,Ra=Object.getOwnPropertyDescriptor,xf=Object.getOwnPropertyDescriptors,gd=Object.prototype,md=Array.prototype,Wu=Object.getPrototypeOf,Ec=Object.isExtensible;const Ba=()=>{};function yd(t){return t()}function wu(t){for(var e=0;e<t.length;e++)t[e]()}const dn=2,_f=4,rl=8,Vu=16,li=32,Va=64,Ws=128,Zr=256,Vs=512,Or=1024,Wn=2048,Oi=4096,oi=8192,nl=16384,bd=32768,Gu=65536,Af=1<<17,wd=1<<19,Nf=1<<20,xu=1<<21,Ii=Symbol("$state"),xd=Symbol("legacy props");function Sf(t){return t===this.v}function Yu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function _d(t,e){return t!==e}function Ju(t){return!Yu(t,this.v)}function Ad(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Nd(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sd(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ld(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kd(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Pd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Cd(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Id(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ga=!1,Fd=!1;function Ed(){Ga=!0}const $u=1,Xu=2,Lf=4,jd=8,Dd=16,Od=1,qd=2,Rd=4,Bd=8,Td=16,Md=1,zd=2,Ir=Symbol(),Ud="http://www.w3.org/1999/xhtml";function kf(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Bt=null;function jc(t){Bt=t}function vn(t,e=!1,r){var n=Bt={p:Bt,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ga&&!e&&(Bt.l={s:null,u:null,r1:[],r2:Oo(!1)}),Ku(()=>{n.d=!0})}function gn(t){const e=Bt;if(e!==null){const s=e.e;if(s!==null){var r=Et,n=Ft;e.e=null;try{for(var a=0;a<s.length;a++){var i=s[a];Ei(i.effect),Vn(i.reaction),al(i.fn)}}finally{Ei(r),Vn(n)}}Bt=e.p,e.m=!0}return{}}function Ya(){return!Ga||Bt!==null&&Bt.l===null}function $i(t){if(typeof t!="object"||t===null||Ii in t)return t;const e=Wu(t);if(e!==gd&&e!==md)return t;var r=new Map,n=To(t),a=Ai(0),i=Ft,s=u=>{var c=Ft;Vn(i);var h=u();return Vn(c),h};return n&&r.set("length",Ai(t.length)),new Proxy(t,{defineProperty(u,c,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Pd();var v=r.get(c);return v===void 0?(v=s(()=>Ai(h.value)),r.set(c,v)):Fe(v,s(()=>$i(h.value))),!0},deleteProperty(u,c){var h=r.get(c);if(h===void 0)c in u&&(r.set(c,s(()=>Ai(Ir))),nu(a));else{if(n&&typeof c=="string"){var v=r.get("length"),g=Number(c);Number.isInteger(g)&&g<v.v&&Fe(v,g)}Fe(h,Ir),nu(a)}return!0},get(u,c,h){var p;if(c===Ii)return t;var v=r.get(c),g=c in u;if(v===void 0&&(!g||(p=Ra(u,c))!=null&&p.writable)&&(v=s(()=>Ai($i(g?u[c]:Ir))),r.set(c,v)),v!==void 0){var y=O(v);return y===Ir?void 0:y}return Reflect.get(u,c,h)},getOwnPropertyDescriptor(u,c){var h=Reflect.getOwnPropertyDescriptor(u,c);if(h&&"value"in h){var v=r.get(c);v&&(h.value=O(v))}else if(h===void 0){var g=r.get(c),y=g==null?void 0:g.v;if(g!==void 0&&y!==Ir)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return h},has(u,c){var y;if(c===Ii)return!0;var h=r.get(c),v=h!==void 0&&h.v!==Ir||Reflect.has(u,c);if(h!==void 0||Et!==null&&(!v||(y=Ra(u,c))!=null&&y.writable)){h===void 0&&(h=s(()=>Ai(v?$i(u[c]):Ir)),r.set(c,h));var g=O(h);if(g===Ir)return!1}return v},set(u,c,h,v){var E;var g=r.get(c),y=c in u;if(n&&c==="length")for(var p=h;p<g.v;p+=1){var S=r.get(p+"");S!==void 0?Fe(S,Ir):p in u&&(S=s(()=>Ai(Ir)),r.set(p+"",S))}g===void 0?(!y||(E=Ra(u,c))!=null&&E.writable)&&(g=s(()=>Ai(void 0)),Fe(g,s(()=>$i(h))),r.set(c,g)):(y=g.v!==Ir,Fe(g,s(()=>$i(h))));var L=Reflect.getOwnPropertyDescriptor(u,c);if(L!=null&&L.set&&L.set.call(v,h),!y){if(n&&typeof c=="string"){var P=r.get("length"),x=Number(c);Number.isInteger(x)&&x>=P.v&&Fe(P,x+1)}nu(a)}return!0},ownKeys(u){O(a);var c=Reflect.ownKeys(u).filter(g=>{var y=r.get(g);return y===void 0||y.v!==Ir});for(var[h,v]of r)v.v!==Ir&&!(h in u)&&c.push(h);return c},setPrototypeOf(){Cd()}})}function nu(t,e=1){Fe(t,t.v+e)}function Dc(t){try{if(t!==null&&typeof t=="object"&&Ii in t)return t[Ii]}catch{}return t}function Hd(t,e){return Object.is(Dc(t),Dc(e))}function jo(t){var e=dn|Wn,r=Ft!==null&&(Ft.f&dn)!==0?Ft:null;return Et===null||r!==null&&(r.f&Zr)!==0?e|=Zr:Et.f|=Nf,{ctx:Bt,deps:null,effects:null,equals:Sf,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Et}}function ar(t){const e=jo(t);return e.equals=Ju,e}function Pf(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Fi(e[r])}}function Wd(t){for(var e=t.parent;e!==null;){if((e.f&dn)===0)return e;e=e.parent}return null}function Cf(t){var e,r=Et;Ei(Wd(t));try{Pf(t),e=Vf(t)}finally{Ei(r)}return e}function If(t){var e=Cf(t),r=(Pi||(t.f&Zr)!==0)&&t.deps!==null?Oi:Or;pn(t,r),t.equals(e)||(t.v=e,t.wv=Hf())}const Do=new Map;function Oo(t,e){var r={f:0,v:t,reactions:null,equals:Sf,rv:0,wv:0};return r}function Ai(t,e){const r=Oo(t);return e1(r),r}function yt(t,e=!1){var n;const r=Oo(t);return e||(r.equals=Ju),Ga&&Bt!==null&&Bt.l!==null&&((n=Bt.l).s??(n.s=[])).push(r),r}function ni(t,e){return Fe(t,Cn(()=>O(t))),e}function Fe(t,e,r=!1){Ft!==null&&!Mn&&Ya()&&(Ft.f&(dn|Vu))!==0&&!(Er!=null&&Er.includes(t))&&Id();let n=r?$i(e):e;return qo(t,n)}function qo(t,e){if(!t.equals(e)){var r=t.v;zo?Do.set(t,e):Do.set(t,r),t.v=e,(t.f&dn)!==0&&((t.f&Wn)!==0&&Cf(t),pn(t,(t.f&Zr)===0?Or:Oi)),t.wv=Hf(),Ff(t,Wn),Ya()&&Et!==null&&(Et.f&Or)!==0&&(Et.f&(li|Va))===0&&(fn===null?t1([t]):fn.push(t))}return e}function Ff(t,e){var r=t.reactions;if(r!==null)for(var n=Ya(),a=r.length,i=0;i<a;i++){var s=r[i],u=s.f;(u&Wn)===0&&(!n&&s===Et||(pn(s,e),(u&(Or|Zr))!==0&&((u&dn)!==0?Ff(s,Oi):cl(s))))}}let Vd=!1;var Oc,Ef,jf,Df;function Gd(){if(Oc===void 0){Oc=window,Ef=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;jf=Ra(e,"firstChild").get,Df=Ra(e,"nextSibling").get,Ec(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ec(r)&&(r.__t=void 0)}}function Qu(t=""){return document.createTextNode(t)}function Gs(t){return jf.call(t)}function il(t){return Df.call(t)}function _e(t,e){return Gs(t)}function kn(t,e){{var r=Gs(t);return r instanceof Comment&&r.data===""?il(r):r}}function Ce(t,e=1,r=!1){let n=t;for(;e--;)n=il(n);return n}function Yd(t){t.textContent=""}function Of(t){Et===null&&Ft===null&&Sd(),Ft!==null&&(Ft.f&Zr)!==0&&Et===null&&Nd(),zo&&Ad()}function Jd(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ja(t,e,r,n=!0){var a=Et,i={ctx:Bt,deps:null,nodes_start:null,nodes_end:null,f:t|Wn,first:null,fn:e,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ul(i),i.f|=bd}catch(c){throw Fi(i),c}else e!==null&&cl(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Nf|Ws))===0;if(!s&&n&&(a!==null&&Jd(i,a),Ft!==null&&(Ft.f&dn)!==0)){var u=Ft;(u.effects??(u.effects=[])).push(i)}return i}function Ku(t){const e=Ja(rl,null,!1);return pn(e,Or),e.teardown=t,e}function _u(t){Of();var e=Et!==null&&(Et.f&li)!==0&&Bt!==null&&!Bt.m;if(e){var r=Bt;(r.e??(r.e=[])).push({fn:t,effect:Et,reaction:Ft})}else{var n=al(t);return n}}function $d(t){return Of(),Mo(t)}function Xd(t){const e=Ja(Va,t,!0);return(r={})=>new Promise(n=>{r.outro?Ro(e,()=>{Fi(e),n(void 0)}):(Fi(e),n(void 0))})}function al(t){return Ja(_f,t,!1)}function ii(t,e){var r=Bt,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Mo(()=>{t(),!n.ran&&(n.ran=!0,Fe(r.l.r2,!0),Cn(e))})}function ol(){var t=Bt;Mo(()=>{if(O(t.l.r2)){for(var e of t.l.r1){var r=e.effect;(r.f&Or)!==0&&pn(r,Oi),$a(r)&&ul(r),e.ran=!1}t.l.r2.v=!1}})}function Mo(t){return Ja(rl,t,!0)}function _t(t,e=[],r=jo){const n=e.map(r);return sl(()=>t(...n.map(O)))}function sl(t,e=0){return Ja(rl|Vu|e,t,!0)}function Wa(t,e=!0){return Ja(rl|li,t,!0,e)}function qf(t){var e=t.teardown;if(e!==null){const r=zo,n=Ft;qc(!0),Vn(null);try{e.call(null)}finally{qc(r),Vn(n)}}}function Rf(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&Va)!==0?r.parent=null:Fi(r,e),r=n}}function Qd(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&li)===0&&Fi(e),e=r}}function Fi(t,e=!0){var r=!1;(e||(t.f&wd)!==0)&&t.nodes_start!==null&&(Kd(t.nodes_start,t.nodes_end),r=!0),Rf(t,e&&!r),Qs(t,0),pn(t,nl);var n=t.transitions;if(n!==null)for(const i of n)i.stop();qf(t);var a=t.parent;a!==null&&a.first!==null&&Bf(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Kd(t,e){for(;t!==null;){var r=t===e?null:il(t);t.remove(),t=r}}function Bf(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Ro(t,e){var r=[];Zu(t,r,!0),Tf(r,()=>{Fi(t),e&&e()})}function Tf(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var a of t)a.out(n)}else e()}function Zu(t,e,r){if((t.f&oi)===0){if(t.f^=oi,t.transitions!==null)for(const s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var a=n.next,i=(n.f&Gu)!==0||(n.f&li)!==0;Zu(n,e,i?r:!1),n=a}}}function Ys(t){Mf(t,!0)}function Mf(t,e){if((t.f&oi)!==0){t.f^=oi,(t.f&Or)===0&&(t.f^=Or),$a(t)&&(pn(t,Wn),cl(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&Gu)!==0||(r.f&li)!==0;Mf(r,a?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let Js=[];function Zd(){var t=Js;Js=[],wu(t)}function zf(t){Js.length===0&&queueMicrotask(Zd),Js.push(t)}let Bs=!1,Au=!1,$s=null,Qi=!1,zo=!1;function qc(t){zo=t}let Ts=[];let Ft=null,Mn=!1;function Vn(t){Ft=t}let Et=null;function Ei(t){Et=t}let Er=null;function e1(t){Ft!==null&&Ft.f&xu&&(Er===null?Er=[t]:Er.push(t))}let Fr=null,Qr=0,fn=null;function t1(t){fn=t}let Uf=1,Xs=0,Pi=!1,ki=null;function Hf(){return++Uf}function $a(t){var g;var e=t.f;if((e&Wn)!==0)return!0;if((e&Oi)!==0){var r=t.deps,n=(e&Zr)!==0;if(r!==null){var a,i,s=(e&Vs)!==0,u=n&&Et!==null&&!Pi,c=r.length;if(s||u){var h=t,v=h.parent;for(a=0;a<c;a++)i=r[a],(s||!((g=i==null?void 0:i.reactions)!=null&&g.includes(h)))&&(i.reactions??(i.reactions=[])).push(h);s&&(h.f^=Vs),u&&v!==null&&(v.f&Zr)===0&&(h.f^=Zr)}for(a=0;a<c;a++)if(i=r[a],$a(i)&&If(i),i.wv>t.wv)return!0}(!n||Et!==null&&!Pi)&&pn(t,Or)}return!1}function r1(t,e){for(var r=e;r!==null;){if((r.f&Ws)!==0)try{r.fn(t);return}catch{r.f^=Ws}r=r.parent}throw Bs=!1,t}function Rc(t){return(t.f&nl)===0&&(t.parent===null||(t.parent.f&Ws)===0)}function ll(t,e,r,n){if(Bs){if(r===null&&(Bs=!1),Rc(e))throw t;return}if(r!==null&&(Bs=!0),r1(t,e),Rc(e))throw t}function Wf(t,e,r=!0){var n=t.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];Er!=null&&Er.includes(t)||((i.f&dn)!==0?Wf(i,e,!1):e===i&&(r?pn(i,Wn):(i.f&Or)!==0&&pn(i,Oi),cl(i)))}}function Vf(t){var p;var e=Fr,r=Qr,n=fn,a=Ft,i=Pi,s=Er,u=Bt,c=Mn,h=t.f;Fr=null,Qr=0,fn=null,Pi=(h&Zr)!==0&&(Mn||!Qi||Ft===null),Ft=(h&(li|Va))===0?t:null,Er=null,jc(t.ctx),Mn=!1,Xs++,t.f|=xu;try{var v=(0,t.fn)(),g=t.deps;if(Fr!==null){var y;if(Qs(t,Qr),g!==null&&Qr>0)for(g.length=Qr+Fr.length,y=0;y<Fr.length;y++)g[Qr+y]=Fr[y];else t.deps=g=Fr;if(!Pi)for(y=Qr;y<g.length;y++)((p=g[y]).reactions??(p.reactions=[])).push(t)}else g!==null&&Qr<g.length&&(Qs(t,Qr),g.length=Qr);if(Ya()&&fn!==null&&!Mn&&g!==null&&(t.f&(dn|Oi|Wn))===0)for(y=0;y<fn.length;y++)Wf(fn[y],t);return a!==null&&a!==t&&(Xs++,fn!==null&&(n===null?n=fn:n.push(...fn))),v}finally{Fr=e,Qr=r,fn=n,Ft=a,Pi=i,Er=s,jc(u),Mn=c,t.f^=xu}}function n1(t,e){let r=e.reactions;if(r!==null){var n=vd.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(e.f&dn)!==0&&(Fr===null||!Fr.includes(e))&&(pn(e,Oi),(e.f&(Zr|Vs))===0&&(e.f^=Vs),Pf(e),Qs(e,0))}function Qs(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)n1(t,r[n])}function ul(t){var e=t.f;if((e&nl)===0){pn(t,Or);var r=Et,n=Bt,a=Qi;Et=t,Qi=!0;try{(e&Vu)!==0?Qd(t):Rf(t),qf(t);var i=Vf(t);t.teardown=typeof i=="function"?i:null,t.wv=Uf;var s=t.deps,u;Fc&&Fd&&t.f&Wn}catch(c){ll(c,t,r,n||t.ctx)}finally{Qi=a,Et=r}}}function i1(){try{Ld()}catch(t){if($s!==null)ll(t,$s,null);else throw t}}function a1(){var t=Qi;try{var e=0;for(Qi=!0;Ts.length>0;){e++>1e3&&i1();var r=Ts,n=r.length;Ts=[];for(var a=0;a<n;a++){var i=s1(r[a]);o1(i)}Do.clear()}}finally{Au=!1,Qi=t,$s=null}}function o1(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(nl|oi))===0)try{$a(n)&&(ul(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Bf(n):n.fn=null))}catch(a){ll(a,n,null,n.ctx)}}}function cl(t){Au||(Au=!0,queueMicrotask(a1));for(var e=$s=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Va|li))!==0){if((r&Or)===0)return;e.f^=Or}}Ts.push(e)}function s1(t){for(var e=[],r=t;r!==null;){var n=r.f,a=(n&(li|Va))!==0,i=a&&(n&Or)!==0;if(!i&&(n&oi)===0){if((n&_f)!==0)e.push(r);else if(a)r.f^=Or;else try{$a(r)&&ul(r)}catch(c){ll(c,r,null,r.ctx)}var s=r.first;if(s!==null){r=s;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function O(t){var e=t.f,r=(e&dn)!==0;if(ki!==null&&ki.add(t),Ft!==null&&!Mn){if(!(Er!=null&&Er.includes(t))){var n=Ft.deps;t.rv<Xs&&(t.rv=Xs,Fr===null&&n!==null&&n[Qr]===t?Qr++:Fr===null?Fr=[t]:(!Pi||!Fr.includes(t))&&Fr.push(t))}}else if(r&&t.deps===null&&t.effects===null){var a=t,i=a.parent;i!==null&&(i.f&Zr)===0&&(a.f^=Zr)}return r&&(a=t,$a(a)&&If(a)),zo&&Do.has(t)?Do.get(t):t.v}function l1(t){var e=ki;ki=new Set;var r=ki,n;try{if(Cn(t),e!==null)for(n of ki)e.add(n)}finally{ki=e}return r}function iu(t){var e=l1(()=>Cn(t));for(var r of e)if((r.f&Af)!==0)for(const n of r.deps||[])(n.f&dn)===0&&qo(n,n.v);else qo(r,r.v)}function Cn(t){var e=Mn;try{return Mn=!0,t()}finally{Mn=e}}const u1=-7169;function pn(t,e){t.f=t.f&u1|e}function Pn(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ii in t)Nu(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Ii in r&&Nu(r)}}}function Nu(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Nu(t[n],e)}catch{}const r=Wu(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=xf(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const c1=["touchstart","touchmove"];function f1(t){return c1.includes(t)}let Bc=!1;function h1(){Bc||(Bc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Gf(t){var e=Ft,r=Et;Vn(null),Ei(null);try{return t()}finally{Vn(e),Ei(r)}}function ec(t,e,r,n=r){t.addEventListener(e,()=>Gf(r));const a=t.__on_r;a?t.__on_r=()=>{a(),n(!0)}:t.__on_r=()=>n(!0),h1()}const d1=new Set,Tc=new Set;function p1(t,e,r,n={}){function a(i){if(n.capture||Co.call(e,i),!i.cancelBubble)return Gf(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?zf(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function ct(t,e,r,n,a){var i={capture:n,passive:a},s=p1(t,e,r,i);(e===document.body||e===window||e===document)&&Ku(()=>{e.removeEventListener(t,s,i)})}function Co(t){var E;var e=this,r=e.ownerDocument,n=t.type,a=((E=t.composedPath)==null?void 0:E.call(t))||[],i=a[0]||t.target,s=0,u=t.__root;if(u){var c=a.indexOf(u);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var h=a.indexOf(e);if(h===-1)return;c<=h&&(s=c)}if(i=a[s]||t.target,i!==e){wf(t,"currentTarget",{configurable:!0,get(){return i||r}});var v=Ft,g=Et;Vn(null),Ei(null);try{for(var y,p=[];i!==null;){var S=i.assignedSlot||i.parentNode||i.host||null;try{var L=i["__"+n];if(L!=null&&(!i.disabled||t.target===i))if(To(L)){var[P,...x]=L;P.apply(i,[t,...x])}else L.call(i,t)}catch(U){y?p.push(U):y=U}if(t.cancelBubble||S===e||S===null)break;i=S}if(y){for(let U of p)queueMicrotask(()=>{throw U});throw y}}finally{t.__root=e,delete t.currentTarget,Vn(v),Ei(g)}}}function v1(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Su(t,e){var r=Et;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Ve(t,e){var r=(e&Md)!==0,n=(e&zd)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=v1(i?t:"<!>"+t),r||(a=Gs(a)));var s=n||Ef?document.importNode(a,!0):a.cloneNode(!0);if(r){var u=Gs(s),c=s.lastChild;Su(u,c)}else Su(s,s);return s}}function Ca(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Qu();return t.append(e,r),Su(e,r),t}function ze(t,e){t!==null&&t.before(e)}function ht(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function g1(t,e){return m1(t,e)}const Ia=new Map;function m1(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:s=!0}){Gd();var u=new Set,c=g=>{for(var y=0;y<g.length;y++){var p=g[y];if(!u.has(p)){u.add(p);var S=f1(p);e.addEventListener(p,Co,{passive:S});var L=Ia.get(p);L===void 0?(document.addEventListener(p,Co,{passive:S}),Ia.set(p,1)):Ia.set(p,L+1)}}};c(Hu(d1)),Tc.add(c);var h=void 0,v=Xd(()=>{var g=r??e.appendChild(Qu());return Wa(()=>{if(i){vn({});var y=Bt;y.c=i}a&&(n.$$events=a),h=t(g,n)||{},i&&gn()}),()=>{var S;for(var y of u){e.removeEventListener(y,Co);var p=Ia.get(y);--p===0?(document.removeEventListener(y,Co),Ia.delete(y)):Ia.set(y,p)}Tc.delete(c),g!==r&&((S=g.parentNode)==null||S.removeChild(g))}});return y1.set(h,v),h}let y1=new WeakMap;function pt(t,e,[r,n]=[0,0]){var a=t,i=null,s=null,u=Ir,c=r>0?Gu:0,h=!1;const v=(y,p=!0)=>{h=!0,g(p,y)},g=(y,p)=>{u!==(u=y)&&(u?(i?Ys(i):p&&(i=Wa(()=>p(a))),s&&Ro(s,()=>{s=null})):(s?Ys(s):p&&(s=Wa(()=>p(a,[r+1,n]))),i&&Ro(i,()=>{i=null})))};sl(()=>{h=!1,e(v),h||g(null,null)},c)}function b1(t,e,r){var n=t,a=Ir,i,s=Ya()?_d:Yu;sl(()=>{s(a,a=e())&&(i&&Ro(i),i=Wa(()=>r(n)))})}function jr(t,e){return e}function w1(t,e,r,n){for(var a=[],i=e.length,s=0;s<i;s++)Zu(e[s].e,a,!0);var u=i>0&&a.length===0&&r!==null;if(u){var c=r.parentNode;Yd(c),c.append(r),n.clear(),Li(t,e[0].prev,e[i-1].next)}Tf(a,()=>{for(var h=0;h<i;h++){var v=e[h];u||(n.delete(v.k),Li(t,v.prev,v.next)),Fi(v.e,!u)}})}function Dr(t,e,r,n,a,i=null){var s=t,u={flags:e,items:new Map,first:null},c=(e&Lf)!==0;if(c){var h=t;s=h.appendChild(Qu())}var v=null,g=!1,y=ar(()=>{var p=r();return To(p)?p:p==null?[]:Hu(p)});sl(()=>{var p=O(y),S=p.length;g&&S===0||(g=S===0,x1(p,u,s,a,e,n,r),i!==null&&(S===0?v?Ys(v):v=Wa(()=>i(s)):v!==null&&Ro(v,()=>{v=null})),O(y))})}function x1(t,e,r,n,a,i,s){var T,te,ae,$;var u=(a&jd)!==0,c=(a&($u|Xu))!==0,h=t.length,v=e.items,g=e.first,y=g,p,S=null,L,P=[],x=[],E,U,W,V;if(u)for(V=0;V<h;V+=1)E=t[V],U=i(E,V),W=v.get(U),W!==void 0&&((T=W.a)==null||T.measure(),(L??(L=new Set)).add(W));for(V=0;V<h;V+=1){if(E=t[V],U=i(E,V),W=v.get(U),W===void 0){var fe=y?y.e.nodes_start:r;S=A1(fe,e,S,S===null?e.first:S.next,E,U,V,n,a,s),v.set(U,S),P=[],x=[],y=S.next;continue}if(c&&_1(W,E,V,a),(W.e.f&oi)!==0&&(Ys(W.e),u&&((te=W.a)==null||te.unfix(),(L??(L=new Set)).delete(W))),W!==y){if(p!==void 0&&p.has(W)){if(P.length<x.length){var Z=x[0],B;S=Z.prev;var re=P[0],de=P[P.length-1];for(B=0;B<P.length;B+=1)Mc(P[B],Z,r);for(B=0;B<x.length;B+=1)p.delete(x[B]);Li(e,re.prev,de.next),Li(e,S,re),Li(e,de,Z),y=Z,S=de,V-=1,P=[],x=[]}else p.delete(W),Mc(W,y,r),Li(e,W.prev,W.next),Li(e,W,S===null?e.first:S.next),Li(e,S,W),S=W;continue}for(P=[],x=[];y!==null&&y.k!==U;)(y.e.f&oi)===0&&(p??(p=new Set)).add(y),x.push(y),y=y.next;if(y===null)continue;W=y}P.push(W),S=W,y=W.next}if(y!==null||p!==void 0){for(var I=p===void 0?[]:Hu(p);y!==null;)(y.e.f&oi)===0&&I.push(y),y=y.next;var F=I.length;if(F>0){var z=(a&Lf)!==0&&h===0?r:null;if(u){for(V=0;V<F;V+=1)(ae=I[V].a)==null||ae.measure();for(V=0;V<F;V+=1)($=I[V].a)==null||$.fix()}w1(e,I,z,v)}}u&&zf(()=>{var K;if(L!==void 0)for(W of L)(K=W.a)==null||K.apply()}),Et.first=e.first&&e.first.e,Et.last=S&&S.e}function _1(t,e,r,n){(n&$u)!==0&&qo(t.v,e),(n&Xu)!==0?qo(t.i,r):t.i=r}function A1(t,e,r,n,a,i,s,u,c,h){var v=(c&$u)!==0,g=(c&Dd)===0,y=v?g?yt(a):Oo(a):a,p=(c&Xu)===0?s:Oo(s),S={i:p,v:y,k:i,a:null,e:null,prev:r,next:n};try{return S.e=Wa(()=>u(t,y,p,h),Vd),S.e.prev=r&&r.e,S.e.next=n&&n.e,r===null?e.first=S:(r.next=S,r.e.next=S.e),n!==null&&(n.prev=S,n.e.prev=S.e),S}finally{}}function Mc(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,a=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==n;){var s=il(i);a.before(i),i=s}}function Li(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function N1(t,e,r,n,a){var u;var i=(u=e.$$slots)==null?void 0:u[r],s=!1;i===!0&&(i=e.children,s=!0),i===void 0||i(t,s?()=>n:n)}function S1(t,e,r){var n=t==null?"":""+t;return e&&(n=n?n+" "+e:e),n===""?null:n}function L1(t,e){return t==null?null:String(t)}function Ki(t,e,r,n,a,i){var s=t.__className;if(s!==r||s===void 0){var u=S1(r,n);u==null?t.removeAttribute("class"):t.className=u,t.__className=r}return i}function hn(t,e,r,n){var a=t.__style;if(a!==e){var i=L1(e);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}return n}const k1=Symbol("is custom element"),P1=Symbol("is html");function Yf(t,e,r,n){var a=C1(t);a[e]!==(a[e]=r)&&(r==null?t.removeAttribute(e):typeof r!="string"&&I1(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function C1(t){return t.__attributes??(t.__attributes={[k1]:t.nodeName.includes("-"),[P1]:t.namespaceURI===Ud})}var zc=new Map;function I1(t){var e=zc.get(t.nodeName);if(e)return e;zc.set(t.nodeName,e=[]);for(var r,n=t,a=Element.prototype;a!==n;){r=xf(n);for(var i in r)r[i].set&&e.push(i);n=Wu(n)}return e}function zn(t,e,r=e){var n=Ya();ec(t,"input",a=>{var i=a?t.defaultValue:t.value;if(i=au(t)?ou(i):i,r(i),n&&i!==(i=e())){var s=t.selectionStart,u=t.selectionEnd;t.value=i??"",u!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(u,t.value.length))}}),Cn(e)==null&&t.value&&r(au(t)?ou(t.value):t.value),Mo(()=>{var a=e();au(t)&&a===ou(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function F1(t,e,r=e){ec(t,"change",n=>{var a=n?t.defaultChecked:t.checked;r(a)}),Cn(e)==null&&r(t.checked),Mo(()=>{var n=e();t.checked=!!n})}function au(t){var e=t.type;return e==="number"||e==="range"}function ou(t){return t===""?null:+t}function Jf(t,e,r){if(t.multiple)return D1(t,e);for(var n of t.options){var a=Io(n);if(Hd(a,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function E1(t,e){al(()=>{var r=new MutationObserver(()=>{var n=t.__value;Jf(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function j1(t,e,r=e){var n=!0;ec(t,"change",a=>{var i=a?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(i),Io);else{var u=t.querySelector(i)??t.querySelector("option:not([disabled])");s=u&&Io(u)}r(s)}),al(()=>{var a=e();if(Jf(t,a,n),n&&a===void 0){var i=t.querySelector(":checked");i!==null&&(a=Io(i),r(a))}t.__value=a,n=!1}),E1(t)}function D1(t,e){for(var r of t.options)r.selected=~e.indexOf(Io(r))}function Io(t){return"__value"in t?t.__value:t.value}function In(t=!1){const e=Bt,r=e.l.u;if(!r)return;let n=()=>Pn(e.s);if(t){let a=0,i={};const s=jo(()=>{let u=!1;const c=e.s;for(const h in c)c[h]!==i[h]&&(i[h]=c[h],u=!0);return u&&a++,a});n=()=>O(s)}r.b.length&&$d(()=>{Uc(e,n),wu(r.b)}),_u(()=>{const a=Cn(()=>r.m.map(yd));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&_u(()=>{Uc(e,n),wu(r.a)})}function Uc(t,e){if(t.l.s)for(const r of t.l.s)O(r);e()}function Es(t,e){var i;var r=(i=t.$$events)==null?void 0:i[e.type],n=To(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function $f(t,e,r){if(t==null)return e(void 0),Ba;const n=Cn(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const Fa=[];function O1(t,e=Ba){let r=null;const n=new Set;function a(u){if(Yu(t,u)&&(t=u,r)){const c=!Fa.length;for(const h of n)h[1](),Fa.push(h,t);if(c){for(let h=0;h<Fa.length;h+=2)Fa[h][0](Fa[h+1]);Fa.length=0}}}function i(u){a(u(t))}function s(u,c=Ba){const h=[u,c];return n.add(h),n.size===1&&(r=e(a,i)||Ba),u(t),()=>{n.delete(h),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:s}}function q1(t){let e;return $f(t,r=>e=r)(),e}let js=!1,Lu=Symbol();function R1(t,e,r){const n=r[e]??(r[e]={store:null,source:yt(void 0),unsubscribe:Ba});if(n.store!==t&&!(Lu in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Ba;else{var a=!0;n.unsubscribe=$f(t,i=>{a?n.source.v=i:Fe(n.source,i)}),a=!1}return t&&Lu in r?q1(t):O(n.source)}function B1(){const t={};function e(){Ku(()=>{for(var r in t)t[r].unsubscribe();wf(t,Lu,{enumerable:!1,value:!0})})}return[t,e]}function T1(t){var e=js;try{return js=!1,[t(),js]}finally{js=e}}function Hc(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function It(t,e,r,n){var Z;var a=(r&Od)!==0,i=!Ga||(r&qd)!==0,s=(r&Bd)!==0,u=(r&Td)!==0,c=!1,h;s?[h,c]=T1(()=>t[e]):h=t[e];var v=Ii in t||xd in t,g=s&&(((Z=Ra(t,e))==null?void 0:Z.set)??(v&&e in t&&(B=>t[e]=B)))||void 0,y=n,p=!0,S=!1,L=()=>(S=!0,p&&(p=!1,u?y=Cn(n):y=n),y);h===void 0&&n!==void 0&&(g&&i&&kd(),h=L(),g&&g(h));var P;if(i)P=()=>{var B=t[e];return B===void 0?L():(p=!0,S=!1,B)};else{var x=(a?jo:ar)(()=>t[e]);x.f|=Af,P=()=>{var B=O(x);return B!==void 0&&(y=void 0),B===void 0?y:B}}if((r&Rd)===0)return P;if(g){var E=t.$$legacy;return function(B,re){return arguments.length>0?((!i||!re||E||c)&&g(re?P():B),B):P()}}var U=!1,W=!1,V=yt(h),fe=jo(()=>{var B=P(),re=O(V);return U?(U=!1,W=!0,re):(W=!1,V.v=B)});return s&&O(fe),a||(fe.equals=Ju),function(B,re){if(ki!==null&&(U=W,P(),O(V)),arguments.length>0){const de=re?O(fe):i&&s?$i(B):B;if(!fe.equals(de)){if(U=!0,Fe(V,de),S&&y!==void 0&&(y=de),Hc(fe))return B;Cn(()=>O(fe))}return B}return Hc(fe)?fe.v:O(fe)}}function M1(t){Bt===null&&kf(),Ga&&Bt.l!==null?U1(Bt).m.push(t):_u(()=>{const e=Cn(t);if(typeof e=="function")return e})}function z1(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function qi(){const t=Bt;return t===null&&kf(),(e,r,n)=>{var i;const a=(i=t.s.$$events)==null?void 0:i[e];if(a){const s=To(a)?a.slice():[a],u=z1(e,r,n);for(const c of s)c.call(t.x,u);return!u.defaultPrevented}return!0}}function U1(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const H1="5";var bf;typeof window<"u"&&((bf=window.__svelte??(window.__svelte={})).v??(bf.v=new Set)).add(H1);Ed();var W1=Ve('<div class="progress-container svelte-o93zow"><div class="progress-bar-container svelte-o93zow"><div class="progress-bar svelte-o93zow"></div></div> <span class="svelte-o93zow"> </span></div>'),V1=Ve('<header class="svelte-o93zow"><h1 class="svelte-o93zow">School Climate Assessment Tool</h1> <div class="actions-container svelte-o93zow"><!> <!></div></header>');function G1(t,e){let r=It(e,"progress",8,0);var n=V1(),a=Ce(_e(n),2),i=_e(a);N1(i,e,"default",{});var s=Ce(i,2);{var u=c=>{var h=W1(),v=_e(h),g=_e(v),y=Ce(v,2),p=_e(y);_t(()=>{hn(g,`width: ${r()??""}%;`),ht(p,`${r()??""}% Complete`)}),ze(c,h)};pt(s,c=>{r()>0&&c(u)})}ze(t,n)}var Y1=Ve('<div class="welcome-container svelte-7w3gni"><h2 class="svelte-7w3gni">Welcome to the School Climate Assessment Tool</h2> <p class="svelte-7w3gni">This tool helps education leaders assess climate-related risks in their schools. Based on your responses, it provides tailored recommendations for improvement. It is a beta version and for experimental purposes only.</p> <button class="svelte-7w3gni">Start Assessment</button></div>');function J1(t,e){vn(e,!1);const r=qi();function n(){r("start")}In();var a=Y1(),i=Ce(_e(a),4);ct("click",i,n),ze(t,a),gn()}const $1=JSON.parse(`{"rec_make_accessible":{"text":"Make water source accessible. Ensure the backup water supply can be easily accessed when needed.","icon":"💧","final":true},"rec_drill_borehole":{"text":"Drill borehole to access groundwater. This provides a reliable water source independent of municipal supply.","icon":"⚙️","final":true},"rec_increase_storage":{"text":"Increase water storage capacity. Install additional tanks to store water when it's available for use during periods of shortage.","icon":"🏺","final":true},"rec_reduce_flush":{"text":"Reduce flush capacity. Install water-saving devices in toilet cisterns to reduce water usage per flush.","icon":"🚽","final":true},"rec_composting_toilets":{"text":"Install composting toilets to reduce water demands. These systems require little to no water and can provide fertilizer for non-food plants.","icon":"♻️","final":true},"rec_grey_water":{"text":"Install grey water recycling system. Reuse water from handwashing and other clean sources for irrigation.","icon":"💧","final":true},"rec_plant_vegetation":{"text":"Plant drought-resistant vegetation and trees to prevent soil erosion within the site. This will stabilize the soil and reduce dust while ensuring ventilation and cooling aren't affected.","icon":"🌳","final":true},"rec_external_screen":{"text":"Install external screens or barriers to shield buildings from dust source. This could include fencing with climbing plants or purpose-built dust screens.","icon":"🏢","final":true},"rec_infrastructure":{"text":"Invest in infrastructure adjacent to site - e.g., paving dirt roads, planting vegetation buffers, or installing dust suppression systems.","icon":"🛣️","final":true},"rec_ventilation_openings":{"text":"Amend or add openings to allow ventilation while preventing dust entry. Install screened windows or vents positioned to maximize airflow while minimizing dust infiltration.","icon":"💨","final":true},"rec_ac_systems":{"text":"Consider installation of AC systems to maintain comfortable temperatures while keeping windows closed during dusty periods.","icon":"❄️","final":true},"rec_artificial_lighting":{"text":"Increase artificial lighting. Install energy-efficient lighting systems to compensate for closed windows during dusty periods.","icon":"💡","final":true},"rec_heat_wall_facing":{"text":"Consider heat reflection materials for wall and wall facing areas","icon":"🔆","final":true},"rec_off_setting":{"text":"Off-setting structure","icon":"🏗️","final":true},"rec_additional_structure":{"text":"Additional structure (beams required)","icon":"🏢","final":true},"rec_check_ventilation":{"text":"Check ventilation for issues","icon":"💨","final":true},"rec_check_natural_light":{"text":"Check natural light levels","icon":"☀️","final":true},"rec_paint_ceiling":{"text":"Add ceiling at high level with insulation on top","icon":"🖌️","final":true},"rec_add_vents":{"text":"Add vents in ceiling","icon":"💨","final":true},"rec_repair_ceiling":{"text":"Repair/replace damaged ceiling","icon":"🔧","final":true},"rec_cool_roof":{"text":"Cool roof shingles/sheet metal/white painted galvanized","icon":"❄️","final":true},"rec_ventilate_roof":{"text":"Ventilate roof (lift ridge tiles out of mortar)","icon":"💨","final":true},"rec_insulate_roof":{"text":"Insulate roof: sheep's wool or recycled plastic or straw","icon":"🧠","final":true},"rec_roof_monitor":{"text":"Roof monitor / ventilator / monitor roof","icon":"🏢","final":true},"rec_storm_roof":{"text":"Re-build roof with particular attention to truss design and roofage","icon":"🏗️","final":true},"rec_rotten_roof":{"text":"Re-build roof with particular attention to preventing rafter ingress","icon":"🏗️","final":true},"rec_disrepaired_roof":{"text":"Re-build roof with particular attention to weathering exposure","icon":"🏗️","final":true},"rec_insect_roof":{"text":"Re-build roof with particular attention to tying down and fixings","icon":"🏗️","final":true},"rec_treatment_roof":{"text":"Re-build roof with particular attention to treating wood and fixings","icon":"🏗️","final":true},"rec_lesson_failure":{"text":"Go to 'Lesson for failure'","icon":"📚","final":true},"rec_replace_sheets":{"text":"Replace roof sheets","icon":"🔧","final":true},"rec_reposition_sheets":{"text":"Re-position sheets with overlap of at least 6\\" (150mm)","icon":"🔧","final":true},"rec_correct_structure":{"text":"Correct structure to increase gradient to at least 20 degrees","icon":"🏗️","final":true},"rec_replace_ridge":{"text":"Replace ridge pieces","icon":"🔧","final":true},"rec_replace_washers":{"text":"Replace rubber washers or nails","icon":"🔧","final":true},"rec_extend_roof":{"text":"Extend roof overhangs","icon":"🏠","final":true},"rec_add_awnings":{"text":"Add awnings to windows (where applied as may)","icon":"🪟","final":true},"rec_add_sill":{"text":"Add / improve window sills","icon":"🪟","final":true},"rec_add_step":{"text":"Add step","icon":"🪜","final":true},"rec_add_drainage":{"text":"Add drain to protect / slope in front of doors draining away from door / building","icon":"🌊","final":true},"rec_terminal_drainage":{"text":"Terminal drainage channels at the site boundaries to point water flow away","icon":"🌊","final":true},"rec_infrastructure_project":{"text":"Larger infrastructure project required adjacent to the site","icon":"🏗️","final":true},"rec_rainwater_tank":{"text":"Rainwater collection tank","icon":"🏺","final":true},"rec_swaleways":{"text":"Swaleways","icon":"🌊","final":true},"rec_improve_drainage":{"text":"Improve drainage channels on site to allow faster run-off","icon":"🌊","final":true},"rec_raise_floor":{"text":"Raise floor level","icon":"🏠","final":true},"rec_add_floor_drainage":{"text":"Add floor drainage","icon":"🌊","final":true},"rec_electrical_protection":{"text":"Move electrical sockets and switches OR build defensive at doorways OR Provision of power boots and floors from wall damage","icon":"⚡","final":true},"rec_relocate_source":{"text":"Review location of water source","icon":"💧","final":true},"rec_drainage_clearing":{"text":"Drainage system enlarged beneath facility needs to be in place before facility interventions will be effective","icon":"🌊","final":true},"rec_waste_system":{"text":"Collection, removal/disposal at suitable time","icon":"🗑️","final":true},"rec_increase_capacity":{"text":"Increase capacity of trash cans","icon":"🗑️","final":true},"rec_protect_storage":{"text":"Protect storage that is protected from wind, floods and animals","icon":"🏠","final":true},"rec_increase_toilet_numbers":{"text":"Increase number of toilets","icon":"🚽","final":true},"rec_add_access":{"text":"Add raised access for maintenance vehicle access","icon":"🛣️","final":true},"rec_add_capacity":{"text":"Composting toilets","icon":"♻️","final":true},"rec_raise_lids":{"text":"Raise lids and manholes covers","icon":"🔧","final":true},"rec_early_warning":{"text":"Early warning system: go to recommendations","icon":"⚠️","final":true},"rec_signage_escape":{"text":"Signage for escape routes","icon":"🚶","final":true},"rec_escape_routes":{"text":"Escape route from buildings to the boundary","icon":"🚶","final":true},"rec_air_quality":{"text":"Go to 'Outcome: Air quality poor'","icon":"💨","final":true},"rec_buffer_zone":{"text":"Buffer zone?","icon":"🌳","final":true},"rec_signage":{"text":"Signage","icon":"🪧","final":true},"rec_hardstanding":{"text":"Creation of hardstanding on site","icon":"🛣️","final":true},"rec_protect_fuel":{"text":"Flattening with fire-retardant coatings","icon":"🧯","final":true},"rec_fire_retardant":{"text":"Flattening with fire-retardant coatings","icon":"🧯","final":true},"rec_increase_water_storage":{"text":"Increase water storage","icon":"🏺","final":true},"rec_protect_route":{"text":"Protect route to water source","icon":"🛣️","final":true},"rec_grid_connection":{"text":"National grid supply is reliable but too expensive to use","icon":"🔌","final":true},"rec_battery_installation":{"text":"Battery installation","icon":"🔋","final":true},"rec_solar_heaters":{"text":"Solar water heaters","icon":"☀️","final":true},"rec_efficient_devices":{"text":"Replace electrical devices for energy efficient models","icon":"💡","final":true},"rec_temperature_guidance":{"text":"Follow guidance on 'temperature is a problem'","icon":"🌡️","final":true},"rec_solar_fridges":{"text":"Solar fridges","icon":"❄️","final":true},"rec_efficient_lighting":{"text":"Layout and energy efficient bulbs and automatic operation","icon":"💡","final":true},"rec_window_improvements":{"text":"Window number/size/layout (check against ventilation/cooling/storms)","icon":"🪟","final":true},"rec_white_surfaces":{"text":"Internal painting white","icon":"🖌️","final":true},"rec_light_shelves":{"text":"Light shelves","icon":"☀️","final":true},"rec_light_tubes":{"text":"Light tubes","icon":"💡","final":true},"rec_change_surfaces":{"text":"Change surfaces adjacent to buildings","icon":"🖌️","final":true},"rec_relocate_generator":{"text":"Relocate generator","icon":"🔌","final":true},"rec_screens_trees":{"text":"Screens and trees","icon":"🌳","final":true},"rec_system_change":{"text":"System change: (convertible off-site? Flexible collection?)","icon":"🔄","final":true},"rec_improve_ventilation":{"text":"Improve ventilation of WASH system","icon":"💨","final":true},"rec_improve_air_movement":{"text":"Go to 'Improve air movement'","icon":"💨","final":true},"rec_replace_materials":{"text":"Replace man-made materials with natural materials","icon":"♻️","final":true},"rec_remove_materials":{"text":"Remove materials that are inappropriate / reduce drying out","icon":"♻️","final":true},"rec_air_filtration":{"text":"Filtration of air supply / AC?","icon":"💨","final":true},"check_natural_lighting":{"text":"Check natural lighting is maintained","icon":"☀️","final":true},"check_ventilation_cooling":{"text":"Check ventilation and cooling requirements","icon":"💨","final":true},"rec_add_insulated_ceilings":{"text":"Add insulated ceilings.","icon":"🏠","final":true},"rec_rearrange_site_layout":{"text":"Re-arrange site layout with car-parking facilities and metal structures away from main buildings.","icon":"🗺️","final":true},"rec_replace_hard_surfaces":{"text":"Replace hard ground surfaces with softer surfaces and vegetation.","icon":"🌳","final":true}}`),X1={"water-supply":[{id:"ws1",text:"Water supply doesn't meet demand (over a 3 day period)?",help:"Consider if your school's water supply is insufficient to meet basic needs over a 3-day period. This includes drinking water, sanitation, and other essential uses.",next:{yes:"ws2",no:"ws4"}},{id:"ws2",text:"Is there a back-up water supply nearby that can be made accessible?",help:"Is there an alternative water source (like a municipal connection, another well, or water delivery service) that could be accessed?",next:{yes:"rec_make_accessible",no:"rec_drill_borehole"}},{id:"ws4",text:"Water supply meets demand (quantity of water) but isn't available from the source or the times when it's required?",help:"Is water available in sufficient quantity overall, but not when you need it? For example, intermittent municipal supply or seasonal water source variations.",next:{yes:"rec_increase_storage",no:"end"}}],"water-demand":[{id:"wd1",text:"Are there flush toilets with cisterns?",help:"Does your school use conventional flush toilets that use a significant amount of water per flush?",next:{yes:"rec_reduce_flush",no:"wd2"}},{id:"wd2",text:"Are composting / dry toilets culturally feasible for this facility?",help:"Consider local cultural norms and acceptance. Would waterless toilet solutions be acceptable to students, staff, and the community?",next:{yes:"rec_composting_toilets",no:"wd3"}},{id:"wd3",text:"Is water used for irrigation?",help:"Is water being used for gardens, sports fields, or other landscaping purposes?",next:{yes:"rec_grey_water",no:"end"}}],"dust-impacts":[{id:"di1",text:"Is the ground surface within the facility site a source of dust? Is bare earth that turns to dust?",help:"Look for large areas of exposed soil within your school grounds that could be generating dust, especially during dry periods.",next:{yes:"rec_plant_vegetation",no:"di2"}},{id:"di2",text:"Is there a main source of dust from outside of the facility? (e.g., an adjacent dirt road or a direction from which the dust comes?)",help:"Identify if dust is primarily coming from external sources like unpaved roads, construction sites, or agricultural fields.",next:{yes:"di3",no:"di5"}},{id:"di3",text:"Is there at least 3m between the facility building and the source of the dust?",help:"Estimate the distance between your school buildings and the identified external dust source. Is there at least 3 meters (about 10 feet) of space?",next:{yes:"rec_external_screen",no:"rec_infrastructure"}},{id:"di5",text:"Are cooling and ventilation reduced when the openings are closed off to dust?",help:"When windows and doors are closed to prevent dust entry, does the building become significantly hotter or poorly ventilated?",next:{yes:"di6",no:"di7"}},{id:"di6",text:"Is electrical supply capacity sufficient for AC?",help:"Does your school have adequate electrical infrastructure to support air conditioning systems?",next:{yes:"rec_ac_systems",no:"rec_ventilation_openings"}},{id:"di7",text:"Is lighting insufficient when openings are closed off to dust?",help:"When windows are closed to prevent dust, do rooms become too dark for effective teaching and learning?",next:{yes:"rec_artificial_lighting",no:"end"}}],"heat-impacts":[{id:"hi1",text:"Is there direct sunlight on walls?",help:"Assess if direct sunlight hitting the exterior walls of the building is contributing to heat gain.",next:{yes:["hi2","hi3"],no:"end"}},{id:"hi2",text:"East and West walls?",help:"Determine if the east and west-facing walls are receiving direct sunlight, which can significantly increase heat gain.",next:{yes:"hi4",no:"end"}},{id:"hi3",text:"South and north walls?",help:"Assess if south and north-facing walls are receiving direct sunlight throughout the day.",next:{yes:"hi5",no:"end"}},{id:"hi4",text:"External shading device",help:"Consider external shading solutions for east and west walls to reduce direct sunlight exposure.",next:{notPossible:"rec_heat_wall_facing",yes:"check_natural_lighting"}},{id:"hi5",text:"Extend roof overhangs",help:"Extending roof overhangs can provide shading for walls, reducing heat gain.",next:{optionA:"rec_off_setting",optionB:"rec_additional_structure",yes:"check_ventilation_cooling"}},{id:"hi6",text:"Direct sunlight through windows?",help:"Assess if direct sunlight entering through windows is causing indoor heating.",next:{yes:["hi7","hi11"],no:"end"}},{id:"hi7",text:"External shading device at windows",help:"Consider external shading solutions for windows to reduce direct sunlight penetration.",next:{notPossible:"hi8",yes:"end"}},{id:"hi8",text:"Are windows glazed?",help:"Check if windows have glazing that helps control heat gain.",next:{yes:"hi9",no:"end"}},{id:"hi9",text:"Can glazing be improved with tinting?",help:"Consider whether adding window tinting could improve heat control.",next:{yes:"hi10",no:"end"}},{id:"hi10",text:"Is there a ceiling in good condition?",help:"Assess the condition of existing ceilings for potential heat insulation improvements.",next:{yes:"end",no:["rec_paint_ceiling","rec_add_vents","rec_repair_ceiling"]}},{id:"hi11",text:"Improved window design",help:"Consider redesigning windows to better control solar heat gain.",next:{yes:["rec_check_ventilation","rec_check_natural_light"],no:"end"}},{id:"hi12",text:"Heating through roof?",help:"Determine if significant heat gain is occurring through the roof structure.",next:{yes:"hi13",no:"end"}},{id:"hi13",text:"Is roof structure sound?",help:"Assess the structural integrity of the roof system.",next:{yes:"hi14",no:"hi15"}},{id:"hi14",text:"Are roof sheets in good condition?",help:"Check the condition of roof sheets or covering materials.",next:{yes:"end",no:["rec_cool_roof","rec_ventilate_roof","rec_insulate_roof","rec_roof_monitor"]}},{id:"hi15",text:"Reason for failure?",help:"Identify the primary cause of roof structure issues.",next:{stormDamage:"rec_storm_roof",rottenTrigrees:"rec_rotten_roof",rotDisrepaired:"rec_disrepaired_roof",insectAttack:"hi16"}},{id:"hi16",text:"Is insect-resistant timber species available?",help:"Determine if locally available timber species are naturally resistant to insect damage.",next:{yes:"rec_insect_roof",no:"hi17"}},{id:"hi17",text:"Is environmentally-friendly insect treatment available for timber?",help:"Check the availability of eco-friendly wood treatments for insect resistance.",next:{yes:"rec_treatment_roof",no:"end"}}],"rainwater-entry":[{id:"re1",text:"Rainwater enters through roof",help:"Assess if rainwater is penetrating through the roof structure.",next:{yes:"re2",no:"end"}},{id:"re2",text:"Is the roof structurally sound?",help:"Evaluate the overall structural integrity of the roof system.",next:{yes:"re3",no:"rec_lesson_failure"}},{id:"re3",text:"Are the roof sheets generally in good condition?",help:"Inspect the roof sheets for damage, deterioration, or improper installation.",next:{yes:"re4",no:"rec_replace_sheets"}},{id:"re4",text:"Is leaking only on the junction between sheets?",help:"Determine if leaks are primarily occurring at the seams or junctions between roof sheets.",next:{yes:"re5",no:"re6"}},{id:"re5",text:"Is the gradient of the roof greater than 20 degrees?",help:"Measure the slope of the roof to determine if it has adequate pitch for drainage.",next:{yes:"rec_reposition_sheets",no:"rec_correct_structure"}},{id:"re6",text:"Is the leaking only at the ridge?",help:"Identify if leaks are concentrated along the ridge of the roof.",next:{yes:"rec_replace_ridge",no:"re7"}},{id:"re7",text:"Is leaking in random, isolated locations?",help:"Determine if leaks appear in scattered locations with no clear pattern.",next:{yes:"rec_replace_washers",no:"end"}},{id:"re8",text:"Rainwater enters through windows",help:"Assess if rainwater penetration is occurring through windows.",next:{yes:"re9",no:"end"}},{id:"re9",text:"During heavy vertical rain?",help:"Determine if leakage happens primarily during intense downpours with little wind.",next:{yes:"rec_extend_roof",no:"re10"}},{id:"re10",text:"Only during storm events when there are strong winds too?",help:"Identify if leakage occurs mainly during windy rainstorms.",next:{yes:"rec_add_awnings",no:"end"}},{id:"re11",text:"Does water get in under the bottom of the window?",help:"Check if water is penetrating beneath the window sill or bottom frame.",next:{yes:"rec_add_sill",no:"end"}},{id:"re12",text:"Rainwater enters under doors",help:"Assess if rainwater is entering beneath doorways.",next:{yes:"re13",no:"end"}},{id:"re13",text:"Does the floor ground in front of the door rise from the building away from the floor?",help:"Check if the ground slopes toward the building instead of away from it.",next:{yes:"end",no:"re14"}},{id:"re14",text:`Is there a step of at least 1" (25mm) at the door that's visible and usable and raised?`,help:"Determine if doorways have an adequate threshold to prevent water entry.",next:{yes:"end",no:"rec_add_step"}}],"flood-management":[{id:"fm1",text:"The source of flood waters are external to the site",help:"Determine if flooding originates from beyond the school grounds.",next:{yes:"fm2",no:"end"}},{id:"fm2",text:"Is there a local drainage system with channels etc. in place where floodwater can be diverted into?",help:"Assess if local drainage infrastructure exists that could be utilized.",next:{yes:"rec_terminal_drainage",no:"fm3"}},{id:"fm3",text:"Is there space on the site for water collection (run away)?",help:"Evaluate if the site has adequate space for water detention or retention areas.",next:{yes:"fm4",no:"rec_infrastructure_project"}},{id:"fm4",text:"Water collection",help:"Consider implementing water collection solutions.",next:{optionA:"rec_rainwater_tank",optionB:"rec_swaleways",no:"end"}},{id:"fm5",text:"Drainage within the site is insufficient to drain rainwater",help:"Assess if on-site drainage systems are inadequate for managing rainwater.",next:{yes:"fm6",no:"end"}},{id:"fm6",text:"Is there a local drainage system nearby where surface runoff rainwater can be diverted into?",help:"Determine if existing drainage infrastructure is available near the site.",next:{yes:"rec_improve_drainage",no:"end"}},{id:"fm7",text:"Floods wash away soils from under buildings or damage them from floods",help:"Assess if flooding is causing soil erosion or structural damage to buildings.",next:{yes:"fm8",no:"end"}},{id:"fm8",text:"Can the floor level of the building be raised?",help:"Evaluate if it's feasible to elevate building floor levels above flood elevation.",next:{yes:"rec_raise_floor",no:"fm9"}},{id:"fm9",text:"Does the floor drain out of the building?",help:"Determine if water that enters the building can drain out easily.",next:{yes:"fm10",no:"rec_add_floor_drainage"}},{id:"fm10",text:'Are electrical sockets and switches at least 1" above the floor?',help:"Check if electrical fixtures are positioned at a safe height above potential flood levels.",next:{yes:"end",no:"rec_electrical_protection"}},{id:"fm11",text:"Water supply becomes contaminated during flooding",help:"Assess if flood events compromise water quality.",next:{yes:"fm12",no:"end"}},{id:"fm12",text:"Is water source at least 10m away from toilet areas or waste facilities (solid waste)?",help:"Determine if adequate separation exists between water sources and potential contamination sources.",next:{yes:"end",no:"rec_relocate_source"}},{id:"fm13",text:"Waste (rubbish) blocks drainage system",help:"Assess if solid waste is impeding drainage systems.",next:{yes:"fm14",no:"end"}},{id:"fm14",text:"Is there a system for removing rubbish from the facility site?",help:"Determine if waste management systems are in place.",next:{yes:"rec_drainage_clearing",no:"rec_waste_system"}},{id:"fm15",text:"Is there sufficient storage capacity for waste at the facility?",help:"Evaluate if adequate waste storage capacity exists on site.",next:{yes:"fm16",no:"rec_increase_capacity"}},{id:"fm16",text:"Is upslope storage protected from severe winds and storms?",help:"Assess if waste storage areas are secure during extreme weather.",next:{yes:"end",no:"rec_protect_storage"}},{id:"fm17",text:"Sewage system / foul water drainage - problems",help:"Assess issues with sewage or foul water drainage systems.",next:{yes:"fm18",no:"end"}},{id:"fm18",text:"Are the toilets above flood levels?",help:"Determine if toilet facilities are positioned above potential flood levels.",next:{yes:"end",no:"rec_increase_toilet_numbers"}},{id:"fm19",text:"Is there vehicle access to septic tanks for emptying?",help:"Assess if maintenance vehicles can access septic systems.",next:{yes:"fm20",no:"rec_add_access"}},{id:"fm20",text:"Is septic tank of sufficient volume for usage?",help:"Evaluate if septic tank capacity is adequate for the facility's needs.",next:{yes:"fm21",no:"rec_add_capacity"}},{id:"fm21",text:"Are the lids and manholes for the system above flood water levels?",help:"Check if system access points are positioned above flood levels to prevent infiltration.",next:{yes:"end",no:"rec_raise_lids"}},{id:"fm22",text:"Can the site facility be subjected to flash floods?",help:"Assess vulnerability to rapid-onset flooding events.",next:{yes:"fm23",no:"rec_early_warning"}},{id:"fm23",text:"Is there a safe escape route from the facility site (leading to higher land)?",help:"Identify evacuation routes to higher elevation areas.",next:{yes:"rec_signage_escape",no:"rec_escape_routes"}}],"wildfire-impacts":[{id:"wi1",text:"Wildfires impact air quality",help:"Assess how wildfire smoke affects indoor air quality at the facility.",next:{yes:"rec_air_quality",no:"end"}},{id:"wi2",text:"Reducing risk of fires spreading onto site",help:"Evaluate preventive measures to protect the site from approaching wildfires.",next:{yes:"rec_buffer_zone",no:"end"}},{id:"wi3",text:"Escape",help:"Assess evacuation procedures and infrastructure in case of wildfires.",next:{yes:["wi4","wi5"],no:"end"}},{id:"wi4",text:"Protected escape route",help:"Identify designated evacuation routes protected from fire exposure.",next:{yes:"rec_signage",no:"end"}},{id:"wi5",text:"Emergency Vehicle access",help:"Ensure emergency vehicles can access the facility during wildfire events.",next:{yes:"wi6",no:"end"}},{id:"wi6",text:"Roads to site accessible by fire truck?",help:"Evaluate if fire trucks can reach the facility via existing roads.",next:{yes:"end",no:"wi7"}},{id:"wi7",text:"Fire truck can get to within 90m of buildings (also on hoisty ground)?",help:"Determine if fire trucks can get close enough to buildings for effective firefighting.",next:{yes:"end",no:"rec_hardstanding"}},{id:"wi8",text:"Reducing spread on site / damage to buildings",help:"Implement measures to prevent fire spread on site and minimize building damage.",next:{yes:["wi9","wi10"],no:"end"}},{id:"wi9",text:"Fuel and gas storage protected?",help:"Ensure proper protection of fuel and gas storage areas from fire exposure.",next:{yes:"end",no:"rec_protect_fuel"}},{id:"wi10",text:"Protecting building materials",help:"Select and maintain fire-resistant building materials.",next:{yes:["rec_fire_retardant","wi11"],no:"end"}},{id:"wi11",text:"Is there a water supply for fire fighting?",help:"Ensure adequate water supply is available for firefighting purposes.",next:{yes:"wi12",no:"rec_increase_water_storage"}},{id:"wi12",text:"Is the route to and from this supply protected from fire?",help:"Ensure access to water supply remains available during fire events.",next:{yes:"end",no:"rec_protect_route"}}],"electricity-supply":[{id:"es1",text:"Increase electricity supply",help:"Evaluate options for enhancing electricity supply to the facility.",next:{yes:["es2","es3"],no:"end"}},{id:"es2",text:"Solar PV installation",help:"Consider implementing solar photovoltaic systems for electricity generation.",next:{yes:"es4",no:"end"}},{id:"es3",text:"National grid supply is either unavailable or unreliable",help:"Assess limitations of the existing electrical grid connection.",next:{yes:"rec_grid_connection",no:"end"}},{id:"es4",text:"Is electricity required during hours of darkness?",help:"Determine if nighttime electricity demand exists at the facility.",next:{yes:"rec_battery_installation",no:"end"}},{id:"es5",text:"Reduce electricity demand",help:"Implement strategies to lower overall electricity consumption.",next:{yes:["es6","es7","es8","es9"],no:"end"}},{id:"es6",text:"Are energy-efficient or passive water heaters used to heat water?",help:"Assess current water heating systems for energy efficiency.",next:{yes:"end",no:"rec_solar_heaters"}},{id:"es7",text:"Are energy-efficient devices used throughout?",help:"Evaluate if energy-efficient equipment and appliances are in use.",next:{yes:"end",no:"rec_efficient_devices"}},{id:"es8",text:"Are electric fans and / or AC systems used to maintain comfortable internal temperatures?",help:"Assess current cooling strategies and their energy consumption.",next:{yes:"rec_temperature_guidance",no:"end"}},{id:"es9",text:"Is refrigeration required?",help:"Determine if refrigeration is necessary for facility operations.",next:{yes:"rec_solar_fridges",no:"end"}},{id:"es10",text:"Is artificial lighting required during daylight hours?",help:"Evaluate daytime lighting needs and potential natural light utilization.",next:{yes:"end",no:"rec_efficient_lighting"}},{id:"es11",text:"Natural lighting is insufficient",help:"Assess inadequacies in natural lighting within the facility.",next:{yes:"es12",no:"end"}},{id:"es12",text:"Can the number, size and location of windows and doors be improved?",help:"Evaluate potential improvements to fenestration for better daylighting.",next:{yes:"rec_window_improvements",no:"es13"}},{id:"es13",text:"Can window reveals and internal walls be painted white?",help:"Consider light-colored surfaces to enhance light reflection.",next:{yes:"rec_white_surfaces",no:"es14"}},{id:"es14",text:"Can light shelves be added?",help:"Evaluate if light shelves could improve daylight penetration deeper into spaces.",next:{yes:"rec_light_shelves",no:"rec_light_tubes"}},{id:"es15",text:"Glare is a problem",help:"Assess issues with excessive brightness or contrast causing visual discomfort.",next:{yes:"es16",no:"end"}},{id:"es16",text:"Does sunlight enter the building through windows?",help:"Determine if direct sunlight penetration is causing glare issues.",next:{yes:"end",no:"es17"}},{id:"es17",text:"Are the windows / sources of light evenly distributed?",help:"Evaluate the distribution of light sources throughout the space.",next:{yes:"end",no:"es18"}},{id:"es18",text:"Are there reflective / white surfaces next to the building?",help:"Identify if external reflective surfaces are contributing to glare problems.",next:{yes:"rec_change_surfaces",no:"end"}}],"rain-noise":[{id:"rn1",text:"Does the noise from rain make the buildings unusable during rainy season / storms?",help:"Assess if the sound of rain inside the buildings is disruptive to the point of making them unusable.",next:{yes:"rn2",no:"end"}},{id:"rn2",text:"Do the buildings have insulated ceilings?",help:"Check if there are insulated ceilings installed in the buildings.",next:{yes:"rn3",no:"rec_add_insulated_ceilings"}},{id:"rn3",text:"Can car-parking and any other metal structures be moved away from the buildings?",help:"Evaluate if it's feasible to relocate car parking areas and other metal structures that might amplify rain noise away from the main buildings.",next:{yes:"rec_rearrange_site_layout",no:"rn4"}},{id:"rn4",text:"Are there hard surfaces next to buildings (for example concrete, tarmac) that can be replaced?",help:"Identify if hard ground surfaces like concrete or tarmac adjacent to the buildings could be replaced with softer, less reflective materials.",next:{yes:"rec_replace_hard_surfaces",no:"end"}}],"air-quality":[{id:"aq1",text:"Outdoor air quality is poor",help:"Assess external air quality issues affecting the facility.",next:{yes:"aq2",no:"end"}},{id:"aq2",text:"Source of air pollution are outside of the boundary of the facility site?",help:"Determine if air pollution originates from beyond the site boundaries.",next:{yes:"aq3",no:"aq4"}},{id:"aq3",text:"Exhaust from generators / sources of outdoor air pollution contribute to poor air quality",help:"Identify specific external pollution sources affecting air quality.",next:{yes:"aq5",no:"aq6"}},{id:"aq4",text:"Generator self-required to operate facility?",help:"Determine if on-site generators are necessary for facility operations.",next:{yes:"aq7",no:"end"}},{id:"aq5",text:"Fumes from generators / sources of outdoor air pollution contribute to poor air quality",help:"Assess the impact of exhaust fumes from generators or other external sources.",next:{yes:"end",no:"rec_relocate_generator"}},{id:"aq6",text:"Can screens / trees be added to protect the facility from sources of air pollution?",help:"Evaluate if natural barriers can help filter or block air pollutants.",next:{yes:"rec_screens_trees",no:"rec_system_change"}},{id:"aq7",text:"Generator self-required to operate facility?",help:"Determine if on-site generators are necessary for facility operations.",next:{yes:"aq8",no:"end"}},{id:"aq8",text:"Install generator with better air quality output",help:"Consider upgrading to generators with cleaner emissions.",next:{yes:"end",no:"rec_relocate_generator"}},{id:"aq9",text:"Indoor air quality is poor",help:"Assess internal air quality issues within the facility.",next:{yes:"aq10",no:"end"}},{id:"aq10",text:"The source of poor quality air is external",help:"Determine if poor indoor air quality stems from external sources.",next:{yes:"end",no:"aq11"}},{id:"aq11",text:"Air quality is affected by WASH facilities?",help:"Assess if water, sanitation, and hygiene facilities are contributing to air quality issues.",next:{yes:"rec_improve_ventilation",no:"aq12"}},{id:"aq12",text:"Poor air quality is due to build-up of CO2?",help:"Determine if carbon dioxide buildup from occupants is the main air quality concern.",next:{yes:"rec_improve_air_movement",no:"aq13"}},{id:"aq13",text:"Poor air quality is due to internal man-made building materials?",help:"Identify if building materials are off-gassing and affecting air quality.",next:{yes:"rec_replace_materials",no:"aq14"}},{id:"aq14",text:"Poor air quality is due to dampness and mold?",help:"Assess if moisture issues are causing mold and affecting air quality.",next:{yes:"rec_remove_materials",no:"end"}},{id:"aq15",text:"Is external air quality the same throughout the site?",help:"Determine if air quality varies across different areas of the site.",next:{yes:"end",no:"aq16"}},{id:"aq16",text:"Supply for ventilation and cooling system at the part of building with 'cleaner' air",help:"Consider strategic placement of ventilation intakes in areas with better air quality.",next:{yes:"end",no:"rec_air_filtration"}}],recommendations:$1},Yt=X1;function Q1(t,e,r){const n=Yt[t].find(s=>s.id===e);if(!n)return console.error(`Question with ID ${e} not found in category ${t}`),null;const a=n.next[r];if(Array.isArray(a)){const s=a[0];if(typeof s=="string"&&s.startsWith("rec_"))return{type:"recommendation",data:Yt.recommendations[s]};const u=Yt[t].find(c=>c.id===s);return u?{type:"question",data:u}:(console.error(`Next question with ID ${s} not found in category ${t}`),null)}if(typeof a=="string"&&a.startsWith("rec_"))return{type:"recommendation",data:Yt.recommendations[a]};if(a==="end")return{type:"end"};const i=Yt[t].find(s=>s.id===a);return i?{type:"question",data:i}:(console.error(`Next question with ID ${a} not found in category ${t}`),null)}function K1(t){return!Yt[t]||Yt[t].length===0?null:Yt[t][0]}var Z1=Ve('<div class="category-card svelte-1sh48qa"><div class="icon svelte-1sh48qa"> </div> <h3 class="svelte-1sh48qa"> </h3> <p class="svelte-1sh48qa"> </p></div>'),e2=Ve('<div class="categories-container svelte-1sh48qa"><h2 class="svelte-1sh48qa">Select Assessment Category</h2> <p class="svelte-1sh48qa">Choose one of the following categories to begin your assessment:</p> <div class="category-cards svelte-1sh48qa"></div></div>');function t2(t,e){vn(e,!1);const r={"water-supply":"💧","water-demand":"🚰","dust-impacts":"💨","heat-impacts":"🔆","rainwater-entry":"🌧️","flood-management":"🌊","wildfire-impacts":"🔥","electricity-supply":"⚡","air-quality":"🌬️","rain-noise":"🔊"},n={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"},a={"water-supply":"Assess if your water supply is sufficient and reliable.","water-demand":"Evaluate if water demand can be reduced or managed better.","dust-impacts":"Assess how airborne dust affects your school environment.","heat-impacts":"Evaluate heat issues and cooling solutions.","rainwater-entry":"Address problems with rainwater entering buildings.","flood-management":"Manage flood risks and mitigation strategies.","wildfire-impacts":"Assess wildfire risks and protection measures.","electricity-supply":"Evaluate electricity supply and consumption.","air-quality":"Address indoor and outdoor air quality issues.","rain-noise":"Evaluate and mitigate noise from rain impacting building usability."};let i=It(e,"categories",24,()=>Object.keys(Yt).filter(v=>v!=="recommendations").map(v=>({id:v,title:n[v]||v,description:a[v]||`Assess ${v.replace("-"," ")} issues.`,icon:r[v]||"📋"})));const s=qi();function u(v){s("select",{detail:v})}In();var c=e2(),h=Ce(_e(c),4);Dr(h,5,i,jr,(v,g)=>{var y=Z1(),p=_e(y),S=_e(p),L=Ce(p,2),P=_e(L),x=Ce(L,2),E=_e(x);_t(()=>{ht(S,O(g).icon),ht(P,O(g).title),ht(E,O(g).description)}),ct("click",y,()=>u(O(g).id)),ze(v,y)}),ze(t,c),gn()}var r2=Ve('<span class="completed-badge svelte-vpqirj">✓</span>'),n2=Ve('<div class="branch-card svelte-vpqirj"><div class="branch-header svelte-vpqirj"><h3 class="svelte-vpqirj"> </h3> <!></div> <p class="svelte-vpqirj"> </p></div>'),i2=Ve('<div class="branch-container svelte-vpqirj"><h2 class="svelte-vpqirj"> </h2> <p class="svelte-vpqirj">This area has multiple question paths. Select one to begin:</p> <div class="branch-list svelte-vpqirj"></div> <div class="action-buttons svelte-vpqirj"><button class="secondary-button svelte-vpqirj">Return to Categories</button></div></div>');function a2(t,e){vn(e,!1);let r=It(e,"category",8,""),n=It(e,"branches",24,()=>[]),a=It(e,"completedBranches",24,()=>[]);const i=qi(),s={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"};function u(L){i("select",{detail:L})}function c(){i("back")}In();var h=i2(),v=_e(h),g=_e(v),y=Ce(v,4);Dr(y,5,n,jr,(L,P)=>{var x=n2(),E=_e(x),U=_e(E),W=_e(U),V=Ce(U,2);{var fe=re=>{var de=r2();ze(re,de)};pt(V,re=>{a().includes(O(P).id)&&re(fe)})}var Z=Ce(E,2),B=_e(Z);_t(()=>{ht(W,O(P).title),ht(B,O(P).description)}),ct("click",x,()=>u(O(P).id)),ze(L,x)});var p=Ce(y,2),S=_e(p);_t(()=>ht(g,s[r()]||r())),ct("click",S,c),ze(t,h),gn()}var o2=Ve('<div class="help-text svelte-1hoic59"><p class="svelte-1hoic59"> </p></div>'),s2=Ve("<button> </button>"),l2=Ve('<div class="question-card svelte-1hoic59"><div class="question-content svelte-1hoic59"><h3 class="svelte-1hoic59"> </h3> <button class="help-button svelte-1hoic59"> </button></div> <!> <div></div></div>');function u2(t,e){vn(e,!1);let r=It(e,"question",8,""),n=It(e,"helpText",8,""),a=It(e,"showHelp",12,!1),i=It(e,"currentCategory",8,""),s=It(e,"questionId",8,"");const u=qi();let c=yt([]);function h(V){return{yes:"Yes",no:"No",optionA:"Option A",optionB:"Option B",stormDamage:"Storm Damage",rottenTrigrees:"Rotten Timber",rotDisrepaired:"Disrepair",insectAttack:"Insect Attack"}[V]||V.charAt(0).toUpperCase()+V.slice(1)}function v(){a(!a())}function g(V){u("answer",{answer:V})}ii(()=>(Pn(i()),Pn(s()),Yt),()=>{var V;if(i()&&s()){const fe=(V=Yt[i()])==null?void 0:V.find(Z=>Z.id===s());fe&&fe.next?Fe(c,Object.keys(fe.next)):Fe(c,["yes","no"])}else Fe(c,["yes","no"])}),ol(),In();var y=l2(),p=_e(y),S=_e(p),L=_e(S),P=Ce(S,2),x=_e(P),E=Ce(p,2);{var U=V=>{var fe=o2(),Z=_e(fe),B=_e(Z);_t(()=>ht(B,n())),ze(V,fe)};pt(E,V=>{a()&&V(U)})}var W=Ce(E,2);Dr(W,5,()=>O(c),jr,(V,fe)=>{var Z=s2(),B=_e(Z);_t(re=>{Ki(Z,1,`answer-button ${O(fe)==="yes"?"yes-button":O(fe)==="no"?"no-button":"option-button"}`,"svelte-1hoic59"),ht(B,re)},[()=>h(O(fe))],ar),ct("click",Z,()=>g(O(fe))),ze(V,Z)}),_t(()=>{ht(L,r()),ht(x,a()?"Hide Help":"Show Help"),Ki(W,1,`answer-buttons ${O(c).length>2?"multi-options":""}`,"svelte-1hoic59")}),ct("click",P,v),ze(t,y),gn()}var c2=Ve('<div class="recommendation-card svelte-wftzfa"><div class="icon svelte-wftzfa"> </div> <p class="svelte-wftzfa"> </p></div>');function f2(t,e){let r=It(e,"recommendation",8,""),n=It(e,"icon",8,"");var a=c2(),i=_e(a),s=_e(i),u=Ce(i,2),c=_e(u);_t(()=>{ht(s,n()),ht(c,r())}),ze(t,a)}var h2=Ve('<div class="no-results svelte-1afab5b"><p>No issues were identified in this category. Your school is doing well in this area!</p></div>'),d2=Ve('<p class="results-intro svelte-1afab5b">Based on your responses, we recommend the following interventions:</p> <div class="recommendations-list svelte-1afab5b"></div>',1),p2=Ve('<button class="secondary-button svelte-1afab5b">Return to Branches</button>'),v2=Ve('<button class="secondary-button svelte-1afab5b">Return to Categories</button>'),g2=Ve('<div class="results-container svelte-1afab5b"><h2 class="svelte-1afab5b"> </h2> <!> <div class="action-buttons svelte-1afab5b"><!> <button class="primary-button svelte-1afab5b">Export Results</button></div></div>');function m2(t,e){vn(e,!1);let r=It(e,"results",24,()=>[]),n=It(e,"category",8,""),a=It(e,"fromBranch",8,!1);const i=qi();function s(){i("categories")}function u(){i("branches")}function c(){i("export")}const h={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"};In();var v=g2(),g=_e(v),y=_e(g),p=Ce(g,2);{var S=V=>{var fe=h2();ze(V,fe)},L=V=>{var fe=d2(),Z=Ce(kn(fe),2);Dr(Z,5,r,jr,(B,re)=>{f2(B,{get recommendation(){return O(re).text},get icon(){return O(re).icon}})}),ze(V,fe)};pt(p,V=>{r().length===0?V(S):V(L,!1)})}var P=Ce(p,2),x=_e(P);{var E=V=>{var fe=p2();ct("click",fe,u),ze(V,fe)},U=V=>{var fe=v2();ct("click",fe,s),ze(V,fe)};pt(x,V=>{a()?V(E):V(U,!1)})}var W=Ce(x,2);_t(()=>ht(y,`Assessment Results: ${(h[n()]||n())??""}`)),ct("click",W,c),ze(t,v),gn()}var y2=Ve('<div class="p-3 rounded-lg border border-dashed mt-2 flex items-center"><span class="mr-2 text-xl"> </span> <span class="font-medium"> </span></div>'),b2=Ve('<button class="ml-2 p-1 hover:bg-gray-200 rounded-full flex-shrink-0" aria-label="Show help information"><svg class="w-4 h-4 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></button>'),w2=Ve('<div class="answer-branch mb-2 pl-2 border-l-2 border-gray-300 svelte-qegg60"><div class="answer-label flex items-center mb-1"><div class="answer-tag px-3 py-1 rounded bg-gray-200 text-gray-800 text-sm flex items-center"><svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> </div></div> <!></div>'),x2=Ve('<div class="answer-branch mb-2 pl-2 border-l-2 border-gray-300 svelte-qegg60"><div class="answer-label flex items-center mb-1"><div class="answer-tag px-3 py-1 rounded bg-gray-200 text-gray-800 text-sm flex items-center"><svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> </div></div> <div class="p-3 rounded-lg border border-dashed mt-1 flex items-center ml-2"><span class="font-medium">End of this path</span></div></div>'),_2=Ve('<div class="node-children pl-8 mt-2"><!></div>'),A2=Ve('<div class="decision-node mb-3 svelte-qegg60"><div class="node-header p-3 rounded-lg shadow-sm flex items-start cursor-pointer relative hover:bg-opacity-80 hover:shadow-md svelte-qegg60" role="button" tabindex="0"><div class="chevron-container flex-shrink-0 mr-2 flex items-center justify-center h-6 w-6"><svg class="h-5 w-5 transition-transform duration-200 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></div> <div class="flex-1"><div class="font-medium"> </div></div> <!></div> <!></div>');function ku(t,e){vn(e,!1);const r=yt(),n=yt(),a=yt(),i=yt();let s=It(e,"nodeId",8),u=It(e,"category",8),c=It(e,"level",8,0),h=It(e,"expandedNodes",24,()=>({})),v=It(e,"categoryColors",8);const g=qi();function y(W,V){return!Yt||!Yt[V]?null:Yt[V].find(fe=>fe.id===W)}function p(W){return!Yt||!Yt.recommendations?null:Yt.recommendations[W]}function S(W){W.stopPropagation(),console.log("Toggling node:",s(),"Current state:",O(a)),g("toggleNode",{nodeId:s()})}function L(W,V){W.preventDefault(),W.stopPropagation(),g("showTooltip",{e:W,helpText:V})}ii(()=>(Pn(s()),Pn(u())),()=>{Fe(r,y(s(),u()))}),ii(()=>(O(r),Pn(s())),()=>{Fe(n,O(r)?null:p(s()))}),ii(()=>(Pn(h()),Pn(s())),()=>{Fe(a,h()[s()])}),ii(()=>Pn(c()),()=>{Fe(i,c()*16)}),ol(),In();var P=Ca(),x=kn(P);{var E=W=>{},U=(W,V)=>{{var fe=B=>{var re=y2(),de=_e(re),I=_e(de),F=Ce(de,2),z=_e(F);_t(()=>{hn(re,`
      border-color: ${v()[u()]||"#CBD5E0"};
      margin-left: ${O(i)+24}px;
    `),ht(I,O(n).icon),ht(z,O(n).text)}),ze(B,re)},Z=(B,re)=>{{var de=I=>{var F=A2(),z=_e(F),T=_e(z),te=_e(T),ae=Ce(T,2),$=_e(ae),K=_e($),he=Ce(ae,2);{var pe=j=>{var q=b2();ct("click",q,H=>L(H,O(r).help)),ze(j,q)};pt(he,j=>{O(r).help&&j(pe)})}var Ie=Ce(z,2);{var N=j=>{var q=_2(),H=_e(q);{var X=ne=>{var le=Ca(),oe=kn(le);Dr(oe,1,()=>Object.entries(O(r).next),jr,(Pe,Se)=>{let je=()=>O(Se)[0],Ee=()=>O(Se)[1];var Ge=Ca(),me=kn(Ge);{var M=Be=>{var se=w2(),ve=_e(se),Ne=_e(ve),Le=Ce(_e(Ne)),De=Ce(ve,2);{var We=tt=>{var at=Ca(),dt=kn(at);Dr(dt,1,Ee,jr,(Ye,nt)=>{var qe=Ca(),er=kn(qe);const vt=ar(()=>c()+1);ku(er,{get nodeId(){return O(nt)},get category(){return u()},get level(){return O(vt)},get expandedNodes(){return h()},get categoryColors(){return v()},$$events:{toggleNode(hr){Es.call(this,e,hr)},showTooltip(hr){Es.call(this,e,hr)}}}),ze(Ye,qe)}),ze(tt,at)},et=tt=>{var at=Ca(),dt=kn(at);const Ye=ar(()=>c()+1);ku(dt,{get nodeId(){return Ee()},get category(){return u()},get level(){return O(Ye)},get expandedNodes(){return h()},get categoryColors(){return v()},$$events:{toggleNode(nt){Es.call(this,e,nt)},showTooltip(nt){Es.call(this,e,nt)}}}),ze(tt,at)};pt(De,tt=>{Array.isArray(Ee())?tt(We):tt(et,!1)})}_t(()=>ht(Le,` ${je()??""}`)),ze(Be,se)},Xe=Be=>{var se=x2(),ve=_e(se),Ne=_e(ve),Le=Ce(_e(Ne)),De=Ce(ve,2);_t(()=>{ht(Le,` ${je()??""}`),hn(De,`border-color: ${v()[u()]||"#CBD5E0"}`)}),ze(Be,se)};pt(me,Be=>{Ee()!=="end"?Be(M):Be(Xe,!1)})}ze(Pe,Ge)}),ze(ne,le)};pt(H,ne=>{typeof O(r).next=="object"&&ne(X)})}_t(()=>hn(q,`margin-left: ${O(i)+16}px;`)),ze(j,q)};pt(Ie,j=>{O(a)&&O(r).next&&j(N)})}_t(()=>{hn(z,`
        background-color: ${v()[u()]+"20"};
        border-left: 4px solid ${v()[u()]||"#CBD5E0"};
        margin-left: ${O(i)??""}px;
      `),hn(te,`transform: ${O(a)?"rotate(90deg)":"rotate(0deg)"}`),ht(K,O(r).text)}),ct("click",z,S),ct("keydown",z,j=>j.key==="Enter"&&S(j)),ze(I,F)};pt(B,I=>{O(r)&&I(de)},re)}};pt(W,B=>{!O(r)&&O(n)?B(fe):B(Z,!1)},V)}};pt(x,W=>{s()?W(U,!1):W(E)})}ze(t,P),gn()}var N2=Ve('<div><h2 class="text-lg font-semibold capitalize svelte-ppcgph"> </h2> <p class="text-sm text-gray-600 mt-1"> </p></div>'),S2=Ve('<div class="mt-6 border-t pt-4"><h2 class="text-xl font-semibold capitalize mb-4 svelte-ppcgph"> </h2> <div class="space-y-2"></div></div>'),L2=Ve('<div class="fixed bg-white p-3 rounded shadow-lg max-w-xs z-50 text-sm"> </div>'),k2=Ve('<div class="max-w-full"><h1 class="text-2xl font-bold mb-4 svelte-ppcgph">School Facility Management Decision Trees</h1> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"></div> <!> <!></div>');function P2(t,e){vn(e,!1);let r=yt(null),n=yt({}),a=yt({visible:!1,text:"",x:0,y:0});const i={"water-supply":"#2196F3","water-demand":"#4CAF50","dust-impacts":"#FFC107","heat-impacts":"#FF5722","rainwater-entry":"#3F51B5","flood-management":"#00BCD4","wildfire-impacts":"#F44336","electricity-supply":"#9C27B0","rain-noise":"#607D8B","air-quality":"#8BC34A"};function s(P){Fe(r,O(r)===P?null:P),Fe(n,{})}function u(P){const{nodeId:x}=P.detail;console.log("Handling toggle node:",x,"Current state:",O(n)[x]),Fe(n,{...O(n),[x]:!O(n)[x]}),console.log("Updated expandedNodes:",O(n),"New state for",x,":",!O(n)[x])}function c(P){const{e:x,helpText:E}=P.detail,U=x.clientX,W=x.clientY;Fe(a,{visible:!0,text:E,x:U,y:W})}function h(){Fe(a,{...O(a),visible:!1})}In();var v=k2(),g=Ce(_e(v),2);Dr(g,5,()=>Object.keys(Yt).filter(P=>P!=="recommendations"),jr,(P,x)=>{var E=N2(),U=_e(E),W=_e(U),V=Ce(U,2),fe=_e(V);_t(Z=>{Ki(E,1,`p-4 rounded-lg shadow cursor-pointer transition-all ${O(r)===O(x)?"ring-2 ring-offset-2":"hover:shadow-md"}`),hn(E,`
          background-color: ${i[O(x)]+"10"};
          border-left: 4px solid ${i[O(x)]||"#CBD5E0"};
          ${O(r)===O(x)?`ring-color: ${i[O(x)]};`:""}
        `),ht(W,Z),ht(fe,`${Yt[O(x)].length??""} decision points`)},[()=>O(x).replace(/-/g," ")],ar),ct("click",E,()=>s(O(x))),ze(P,E)});var y=Ce(g,2);{var p=P=>{var x=S2(),E=_e(x),U=_e(E),W=Ce(E,2);Dr(W,5,()=>Yt[O(r)].filter(V=>V.id.endsWith("1")),jr,(V,fe)=>{ku(V,{get nodeId(){return O(fe).id},get category(){return O(r)},level:0,get expandedNodes(){return O(n)},categoryColors:i,$$events:{toggleNode:u,showTooltip:c}})}),_t(V=>{hn(E,`color: ${i[O(r)]??""}`),ht(U,`${V??""} Decision Tree`)},[()=>O(r).replace(/-/g," ")],ar),ze(P,x)};pt(y,P=>{O(r)&&P(p)})}var S=Ce(y,2);{var L=P=>{var x=L2(),E=_e(x);_t(()=>{hn(x,`top: ${O(a).y+10}px; left: ${O(a).x+10}px;`),ht(E,O(a).text)}),ct("mouseleave",x,h),ze(P,x)};pt(S,P=>{O(a).visible&&P(L)})}ze(t,v),gn()}function C2(t){const e=JSON.stringify(t,null,2),r=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(r),a=document.createElement("a");return a.href=n,a.download="flowchart_data.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),e}function I2(t){try{const e=JSON.parse(t);if(!e||typeof e!="object")throw new Error("Invalid JSON format: Not an object");const r=Object.keys(e).some(a=>a!=="recommendations"&&Array.isArray(e[a])),n=e.recommendations&&typeof e.recommendations=="object";if(!r||!n)throw new Error("Invalid flowchart data: Missing categories or recommendations");return e}catch(e){return console.error("Error importing flowchart data:",e),null}}const en=O1(JSON.parse(JSON.stringify(Yt)));function F2(t,e,r){en.update(n=>{const a=n[t].findIndex(i=>i.id===e);return a!==-1&&(n[t][a]={...n[t][a],...r}),n})}function E2(t,e){en.update(r=>(r[t]=[...r[t],e],r))}function j2(t,e){en.update(r=>(r[t]=r[t].filter(n=>n.id!==e),r[t].forEach(n=>{n.next&&Object.entries(n.next).forEach(([a,i])=>{i===e?n.next[a]="end":Array.isArray(i)&&(n.next[a]=i.filter(s=>s!==e),i.length===0&&(n.next[a]="end"))})}),r))}function D2(t){en.update(e=>(e[t]||(e[t]=[]),e))}function O2(t){en.update(e=>{if(e[t]){const{[t]:r,...n}=e;return n}return e})}function q2(t,e){en.update(r=>(r.recommendations&&r.recommendations[t]&&(r.recommendations[t]={...r.recommendations[t],...e}),r))}function R2(t,e){en.update(r=>(r.recommendations||(r.recommendations={}),r.recommendations[t]=e,r))}function B2(t){en.update(e=>{if(e.recommendations&&e.recommendations[t]){const{[t]:r,...n}=e.recommendations;e.recommendations=n,Object.keys(e).forEach(a=>{a!=="recommendations"&&e[a].forEach(i=>{i.next&&Object.entries(i.next).forEach(([s,u])=>{u===t?i.next[s]="end":Array.isArray(u)&&(i.next[s]=u.filter(c=>c!==t),u.length===0&&(i.next[s]="end"))})})})}return e})}function T2(){let t;en.subscribe(r=>{t=JSON.stringify(r,null,2)})();try{return localStorage.setItem("flowchartData",t),console.log("Flowchart saved to localStorage"),!0}catch(r){return console.error("Failed to save to localStorage:",r),!1}}function M2(){try{const t=localStorage.getItem("flowchartData");return t?(en.set(JSON.parse(t)),!0):!1}catch(t){return console.error("Failed to load from localStorage:",t),!1}}function z2(){let t;return en.subscribe(r=>{t=r})(),C2(t)}function U2(t){try{const e=I2(t);return e?(en.set(e),!0):!1}catch(e){return console.error("Failed to parse JSON:",e),!1}}var H2=Ve('<p class="text-xs text-gray-500 mt-1">ID will be auto-generated if left blank</p>'),W2=Ve("<option> </option>"),V2=Ve("<option> </option>"),G2=Ve('<div class="flex items-center gap-2 mb-2"><input type="text" placeholder="Answer option (e.g., yes, no, maybe)" class="flex-1 p-2 border rounded"> <select class="p-2 border rounded w-60"><option>End (No next node)</option><optgroup label="Questions"></optgroup><optgroup label="Recommendations"></optgroup></select> <button class="p-1 text-red-500 hover:bg-red-100 rounded" aria-label="Remove answer"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div>'),Y2=Ve('<div class="bg-white p-4 rounded-lg shadow-lg max-w-2xl mx-auto"><h3 class="text-lg font-semibold mb-4"> </h3> <div class="mb-4"><label class="block text-sm font-medium mb-1">Node ID</label> <input type="text" class="w-full p-2 border rounded"> <!></div> <div class="mb-4"><label class="block text-sm font-medium mb-1">Question Text</label> <textarea class="w-full p-2 border rounded" rows="3" placeholder="Enter the question or decision point text"></textarea></div> <div class="mb-4"><label class="block text-sm font-medium mb-1">Help Text (Optional)</label> <textarea class="w-full p-2 border rounded" rows="2" placeholder="Additional context or help text for this question"></textarea></div> <div class="mb-4"><label class="block text-sm font-medium mb-2">Answers</label> <!> <button class="mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded flex items-center text-sm"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Answer</button></div> <div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 border rounded hover:bg-gray-100">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save Changes</button></div></div>');function J2(t,e){vn(e,!1);const r=yt(),n=yt();let a=It(e,"node",8),i=It(e,"category",8),s=It(e,"recommendations",8),u=It(e,"allNodes",24,()=>[]);const c=qi();let h=yt(JSON.parse(JSON.stringify(a()))),v=yt(Object.keys(O(h).next||{}).map($=>({text:$,nextId:O(h).next[$]})));function g($){const K=$.split("-").map(Ie=>Ie[0]).join(""),he=u().filter(Ie=>Ie.id.startsWith(K)).map(Ie=>{const N=parseInt(Ie.id.replace(/^[a-z]+/,""),10);return isNaN(N)?0:N}),pe=he.length>0?Math.max(...he):0;return`${K}${pe+1}`}function y(){Fe(v,[...O(v),{text:"",nextId:"end"}])}function p($){Fe(v,O(v).filter((K,he)=>he!==$))}function S(){ni(h,O(h).next={}),O(v).forEach($=>{$.text.trim()&&ni(h,O(h).next[$.text]=$.nextId)}),c("save",{category:i(),nodeId:O(h).id,updatedNode:O(h)})}function L(){c("cancel")}ii(()=>(Pn(u()),O(h)),()=>{Fe(r,u().filter($=>$.id!==O(h).id).map($=>({id:$.id,text:`${$.id}: ${$.text.substring(0,30)}${$.text.length>30?"...":""}`})))}),ii(()=>Pn(s()),()=>{Fe(n,Object.keys(s()||{}).map($=>({id:$,text:`${$}: ${s()[$].text.substring(0,30)}${s()[$].text.length>30?"...":""}`})))}),ol(),In();var P=Y2(),x=_e(P),E=_e(x),U=Ce(x,2),W=Ce(_e(U),2),V=Ce(W,2);{var fe=$=>{var K=H2();ze($,K)};pt(V,$=>{a().id||$(fe)})}var Z=Ce(U,2),B=Ce(_e(Z),2),re=Ce(Z,2),de=Ce(_e(re),2),I=Ce(re,2),F=Ce(_e(I),2);Dr(F,1,()=>O(v),jr,($,K,he)=>{var pe=G2(),Ie=_e(pe),N=Ce(Ie,2);_t(()=>{O(K),iu(()=>{O(r),O(n)})});var j=_e(N);j.value=j.__value="end";var q=Ce(j);Dr(q,5,()=>O(r),jr,(ne,le)=>{var oe=W2(),Pe={},Se=_e(oe);_t(()=>{Pe!==(Pe=O(le).id)&&(oe.value=(oe.__value=O(le).id)??""),ht(Se,O(le).text)}),ze(ne,oe)});var H=Ce(q);Dr(H,5,()=>O(n),jr,(ne,le)=>{var oe=V2(),Pe={},Se=_e(oe);_t(()=>{Pe!==(Pe=O(le).id)&&(oe.value=(oe.__value=O(le).id)??""),ht(Se,O(le).text)}),ze(ne,oe)});var X=Ce(N,2);zn(Ie,()=>O(K).text,ne=>(O(K).text=ne,iu(()=>O(v)))),j1(N,()=>O(K).nextId,ne=>(O(K).nextId=ne,iu(()=>O(v)))),ct("click",X,()=>p(he)),ze($,pe)});var z=Ce(F,2),T=Ce(I,2),te=_e(T),ae=Ce(te,2);_t($=>{ht(E,a().id?"Edit Node":"Create New Node"),W.disabled=!!a().id,Yf(W,"placeholder",$),ae.disabled=!O(h).text||!O(h).id},[()=>a().id?"":g(i())],ar),zn(W,()=>O(h).id,$=>ni(h,O(h).id=$)),zn(B,()=>O(h).text,$=>ni(h,O(h).text=$)),zn(de,()=>O(h).help,$=>ni(h,O(h).help=$)),ct("click",z,y),ct("click",te,L),ct("click",ae,S),ze(t,P),gn()}var $2=Ve('<p class="text-xs text-gray-500 mt-1">ID will be auto-generated if left blank (format: rec_XX)</p>'),X2=Ve("<button> </button>"),Q2=Ve('<div class="bg-white p-4 rounded-lg shadow-lg max-w-2xl mx-auto"><h3 class="text-lg font-semibold mb-4"> </h3> <div class="mb-4"><label class="block text-sm font-medium mb-1">Recommendation ID</label> <input type="text" class="w-full p-2 border rounded"> <!></div> <div class="mb-4"><label class="block text-sm font-medium mb-1">Recommendation Text</label> <textarea class="w-full p-2 border rounded" rows="3" placeholder="Enter the recommendation text"></textarea></div> <div class="mb-4"><label class="block text-sm font-medium mb-1">Icon</label> <div class="flex flex-wrap gap-2 mb-2 p-2 border rounded bg-gray-50"></div> <div class="flex items-center gap-2"><span class="text-sm">Custom:</span> <input type="text" class="p-2 border rounded w-20 text-center text-lg" maxlength="2"> <span class="text-xs text-gray-500">Emoji or 1-2 character symbol</span></div></div> <div class="mb-4"><label class="flex items-center"><input type="checkbox" class="mr-2"> <span class="text-sm font-medium">This is a final recommendation (end of path)</span></label></div> <div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 border rounded hover:bg-gray-100">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save Changes</button></div></div>');function K2(t,e){vn(e,!1);let r=It(e,"recommendation",8),n=It(e,"recommendationId",8),a=It(e,"allRecommendations",24,()=>({}));const i=qi();let s=yt(r()?JSON.parse(JSON.stringify(r())):{text:"",icon:"💡",final:!0}),u=yt(n()||"");const c=["💧","🚰","🌊","🚿","🚽","♻️","🏭","🌡️","❄️","🔥","💨","☁️","🌤️","🌧️","⚡","🔌","🔋","💡","🔍","🏠","🏢","🏫","🏥","🛠️","🔧","🧰","📝","📋","⚠️","🚨","🚫"];function h(){const te=Object.keys(a()).filter($=>$.startsWith("rec_")).map($=>{const K=parseInt($.replace("rec_",""),10);return isNaN(K)?0:K});return`rec_${(te.length>0?Math.max(...te):0)+1}`}function v(){const te=O(u)||h();i("save",{recommendationId:te,updatedRecommendation:O(s)})}function g(){i("cancel")}In();var y=Q2(),p=_e(y),S=_e(p),L=Ce(p,2),P=Ce(_e(L),2),x=Ce(P,2);{var E=te=>{var ae=$2();ze(te,ae)};pt(x,te=>{n()||te(E)})}var U=Ce(L,2),W=Ce(_e(U),2),V=Ce(U,2),fe=Ce(_e(V),2);Dr(fe,5,()=>c,jr,(te,ae)=>{var $=X2(),K=_e($);_t(()=>{Ki($,1,`w-8 h-8 flex items-center justify-center rounded ${O(s).icon===O(ae)?"bg-blue-100 ring-2 ring-blue-500":"hover:bg-gray-200"}`),ht(K,O(ae))}),ct("click",$,()=>ni(s,O(s).icon=O(ae))),ze(te,$)});var Z=Ce(fe,2),B=Ce(_e(Z),2),re=Ce(V,2),de=_e(re),I=_e(de),F=Ce(re,2),z=_e(F),T=Ce(z,2);_t(te=>{ht(S,n()?"Edit Recommendation":"Create New Recommendation"),P.disabled=!!n(),Yf(P,"placeholder",te),T.disabled=!O(s).text},[()=>n()?"":h()],ar),zn(P,()=>O(u),te=>Fe(u,te)),zn(W,()=>O(s).text,te=>ni(s,O(s).text=te)),zn(B,()=>O(s).icon,te=>ni(s,O(s).icon=te)),F1(I,()=>O(s).final,te=>ni(s,O(s).final=te)),ct("click",z,g),ct("click",T,v),ze(t,y),gn()}var Z2=Ve('<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 flex items-center"><svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Flowchart saved successfully!</span></div>'),ep=Ve('<div class="bg-white p-4 rounded-lg shadow-lg mb-4"><h3 class="text-lg font-semibold mb-2">Import Flowchart Data</h3> <textarea class="w-full p-2 border rounded" rows="8" placeholder="Paste JSON here..."></textarea> <div class="flex justify-end gap-2 mt-3"><button class="px-3 py-1 border rounded hover:bg-gray-100">Cancel</button> <button class="px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700">Import</button></div></div>'),tp=Ve('<div><h2 class="text-lg font-semibold capitalize svelte-ppcgph"> </h2> <p class="text-sm text-gray-600 mt-1"> </p></div>'),rp=Ve('<button class="px-3 py-1 bg-blue-100 text-blue-700 rounded flex items-center text-sm"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Node</button>'),np=Ve('<button class="px-3 py-1 bg-blue-100 text-blue-700 rounded flex items-center text-sm"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Recommendation</button>'),ip=Ve('<div class="text-xs text-gray-500 mt-1"> </div>'),ap=Ve('<div class="p-3 rounded-lg shadow-sm flex items-start relative hover:shadow-md"><div class="flex-1"><div class="font-medium"> </div> <div class="text-sm text-gray-500 mt-1"> </div> <!></div> <div class="flex"><button class="p-1.5 hover:bg-blue-100 rounded-full text-blue-600" title="Edit node"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="p-1.5 hover:bg-red-100 rounded-full text-red-600" title="Delete node"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div></div>'),op=Ve('<div class="p-4 text-center text-gray-500"> </div>'),sp=Ve('<div class="mb-4"><input type="text" placeholder="Search nodes..." class="w-full p-2 border rounded"></div> <div class="space-y-2"><!> <!></div>',1),lp=Ve('<div class="p-3 rounded-lg shadow-sm flex items-start relative hover:shadow-md" style="background-color: rgba(100, 100, 100, 0.05);"><div class="mr-3 text-2xl"> </div> <div class="flex-1"><div class="font-medium"> </div> <div class="text-sm text-gray-500 mt-1"> </div></div> <div class="flex"><button class="p-1.5 hover:bg-blue-100 rounded-full text-blue-600" title="Edit recommendation"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="p-1.5 hover:bg-red-100 rounded-full text-red-600" title="Delete recommendation"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div></div>'),up=Ve('<div class="p-4 text-center text-gray-500"> </div>'),cp=Ve('<div class="mb-4"><input type="text" placeholder="Search recommendations..." class="w-full p-2 border rounded"></div> <div class="space-y-2"><!> <!></div>',1),fp=Ve('<div class="mt-6 border-t pt-4"><div class="flex justify-between items-center mb-4"><div class="flex items-center"><h2 class="text-xl font-semibold capitalize svelte-ppcgph"> </h2> <button class="ml-2 p-1 text-red-500 hover:bg-red-100 rounded" title="Delete this category"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path></svg></button></div> <div class="flex gap-2"><div class="flex border rounded overflow-hidden"><button>Nodes</button> <button>Recommendations</button></div> <!></div></div> <!></div>'),hp=Ve('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="max-w-2xl w-full max-h-[90vh] overflow-y-auto"><!></div></div>'),dp=Ve('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="max-w-2xl w-full max-h-[90vh] overflow-y-auto"><!></div></div>'),pp=Ve('<div class="max-w-full"><div class="flex justify-between items-center mb-4"><h1 class="text-2xl font-bold svelte-ppcgph">Flowchart Editor</h1> <div class="flex gap-2"><button class="px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg> Save</button> <button class="px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Export</button> <button class="px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 flex items-center"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path><polyline points="17 10 12 15 7 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Import</button></div></div> <!> <!> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"><!> <div class="p-4 rounded-lg border-2 border-dashed flex items-center justify-center cursor-pointer hover:bg-gray-50"><div class="text-center"><svg class="w-8 h-8 mx-auto text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> <span class="block mt-1 text-sm text-gray-500">Add New Category</span></div></div></div> <!> <!> <!></div>');function vp(t,e){vn(e,!1);const[r,n]=B1(),a=()=>R1(en,"$flowchartStore",r);let i=yt(null),s=yt(null),u=yt(null),c=!1,h=!1,v=yt("nodes"),g=yt(!1),y=yt(""),p=yt([]),S=yt(""),L=yt(""),P=yt([]),x=yt(!1);const E={"water-supply":"#2196F3","water-demand":"#4CAF50","dust-impacts":"#FFC107","heat-impacts":"#FF5722","rainwater-entry":"#3F51B5","flood-management":"#00BCD4","wildfire-impacts":"#F44336","electricity-supply":"#9C27B0","rain-noise":"#607D8B","air-quality":"#8BC34A"};M1(()=>{M2()});function U(se){Fe(s,{node:JSON.parse(JSON.stringify(se)),category:O(i)}),c=!1}function W(){c=!0,Fe(s,{node:{id:"",text:"",help:"",next:{yes:"end",no:"end"}},category:O(i)})}function V(se,ve){Fe(u,{recommendationId:se,recommendation:JSON.parse(JSON.stringify(ve))}),h=!1}function fe(){h=!0,Fe(u,{recommendationId:"",recommendation:{text:"",icon:"💡",final:!0}})}function Z(se){const{category:ve,nodeId:Ne,updatedNode:Le}=se.detail;if(c){const De=Ne||K(ve),We={...Le,id:De};E2(ve,We)}else F2(ve,Ne,Le);Fe(s,null),c=!1}function B(se){const{recommendationId:ve,updatedRecommendation:Ne}=se.detail;h?R2(ve,Ne):q2(ve,Ne),Fe(u,null),h=!1}function re(){Fe(s,null),Fe(u,null),c=!1,h=!1}function de(se){confirm(`Are you sure you want to delete this node (${se})? This action cannot be undone.`)&&j2(O(i),se)}function I(se){confirm(`Are you sure you want to delete this recommendation (${se})? This action cannot be undone.`)&&B2(se)}function F(){const se=prompt('Enter new category name (use kebab-case, e.g., "my-category"):');if(se&&se.trim()){const ve=se.trim().toLowerCase().replace(/\s+/g,"-");D2(ve),Fe(i,ve)}}function z(){O(i)&&confirm(`Are you sure you want to delete the entire "${O(i)}" category? This action cannot be undone.`)&&(O2(O(i)),Fe(i,null))}function T(){T2()?(Fe(x,!0),setTimeout(()=>{Fe(x,!1)},3e3)):alert("Failed to save. This may be due to storage limitations in your browser.")}function te(){const se=z2();console.log("Exported JSON data:",se)}function ae(){Fe(g,!O(g)),Fe(y,"")}function $(){try{U2(O(y))?(alert("Flowchart imported successfully!"),Fe(g,!1)):alert("Failed to import flowchart. Please check the JSON format.")}catch(se){alert(`Error importing: ${se.message}`)}}function K(se){if(!se)return"";const ve=se.split("-").map(De=>De[0]).join(""),Ne=(a()[se]||[]).filter(De=>De.id.startsWith(ve)).map(De=>{const We=parseInt(De.id.replace(/^[a-z]+/,""),10);return isNaN(We)?0:We}),Le=Ne.length>0?Math.max(...Ne):0;return`${ve}${Le+1}`}function he(se){if(E[se])return E[se];let ve=0;for(let Le=0;Le<se.length;Le++)ve=se.charCodeAt(Le)+((ve<<5)-ve);return`hsl(${Math.abs(ve)%360}, 70%, 50%)`}ii(()=>(O(i),a(),O(S)),()=>{O(i)&&a()[O(i)]?Fe(p,a()[O(i)].filter(se=>O(S)===""||se.id.toLowerCase().includes(O(S).toLowerCase())||se.text.toLowerCase().includes(O(S).toLowerCase()))):Fe(p,[])}),ii(()=>(a(),O(L)),()=>{a().recommendations?Fe(P,Object.entries(a().recommendations).filter(([se,ve])=>O(L)===""||se.toLowerCase().includes(O(L).toLowerCase())||ve.text.toLowerCase().includes(O(L).toLowerCase())).map(([se,ve])=>({id:se,...ve}))):Fe(P,[])}),ol(),In();var pe=pp(),Ie=_e(pe),N=Ce(_e(Ie),2),j=_e(N),q=Ce(j,2),H=Ce(q,2),X=Ce(Ie,2);{var ne=se=>{var ve=Z2();ze(se,ve)};pt(X,se=>{O(x)&&se(ne)})}var le=Ce(X,2);{var oe=se=>{var ve=ep(),Ne=Ce(_e(ve),2),Le=Ce(Ne,2),De=_e(Le),We=Ce(De,2);zn(Ne,()=>O(y),et=>Fe(y,et)),ct("click",De,ae),ct("click",We,$),ze(se,ve)};pt(le,se=>{O(g)&&se(oe)})}var Pe=Ce(le,2),Se=_e(Pe);Dr(Se,1,()=>Object.keys(a()).filter(se=>se!=="recommendations"),jr,(se,ve)=>{var Ne=tp(),Le=_e(Ne),De=_e(Le),We=Ce(Le,2),et=_e(We);_t((tt,at,dt,Ye)=>{Ki(Ne,1,`p-4 rounded-lg shadow cursor-pointer transition-all ${O(i)===O(ve)?"ring-2 ring-offset-2":"hover:shadow-md"}`),hn(Ne,`
          background-color: ${tt??""};
          border-left: 4px solid ${at??""};
          ${dt??""}
        `),ht(De,Ye),ht(et,`${a()[O(ve)].length??""} decision points`)},[()=>he(O(ve))+"10",()=>he(O(ve)),()=>O(i)===O(ve)?`ring-color: ${he(O(ve))};`:"",()=>O(ve).replace(/-/g," ")],ar),ct("click",Ne,()=>Fe(i,O(ve))),ze(se,Ne)});var je=Ce(Se,2),Ee=Ce(Pe,2);{var Ge=se=>{var ve=fp(),Ne=_e(ve),Le=_e(Ne),De=_e(Le),We=_e(De),et=Ce(De,2),tt=Ce(Le,2),at=_e(tt),dt=_e(at),Ye=Ce(dt,2),nt=Ce(at,2);{var qe=ft=>{var Mt=rp();ct("click",Mt,W),ze(ft,Mt)},er=ft=>{var Mt=np();ct("click",Mt,fe),ze(ft,Mt)};pt(nt,ft=>{O(v)==="nodes"?ft(qe):ft(er,!1)})}var vt=Ce(Ne,2);{var hr=ft=>{var Mt=sp(),gt=kn(Mt),mn=_e(gt),jt=Ce(gt,2),dr=_e(jt);Dr(dr,1,()=>O(p),jr,(He,Ke)=>{var or=ap(),zt=_e(or),Nr=_e(zt),Sr=_e(Nr),Je=Ce(Nr,2),Lr=_e(Je),qr=Ce(Je,2);{var sr=tn=>{var Rr=ip(),Vr=_e(Rr);_t(Gr=>ht(Vr,`Options: ${Gr??""}`),[()=>Object.keys(O(Ke).next).join(", ")],ar),ze(tn,Rr)};pt(qr,tn=>{O(Ke).next&&tn(sr)})}var Ut=Ce(zt,2),Ot=_e(Ut),pr=Ce(Ot,2);_t((tn,Rr)=>{hn(or,`
                background-color: ${tn??""};
                border-left: 4px solid ${Rr??""};
              `),ht(Sr,O(Ke).text),ht(Lr,`ID: ${O(Ke).id??""}`)},[()=>he(O(i))+"20",()=>he(O(i))],ar),ct("click",Ot,()=>U(O(Ke))),ct("click",pr,()=>de(O(Ke).id)),ze(He,or)});var Wr=Ce(dr,2);{var Dt=He=>{var Ke=op(),or=_e(Ke);_t(()=>ht(or,O(S)?"No nodes matching your search":"No nodes in this category yet")),ze(He,Ke)};pt(Wr,He=>{O(p).length===0&&He(Dt)})}zn(mn,()=>O(S),He=>Fe(S,He)),ze(ft,Mt)},At=ft=>{var Mt=cp(),gt=kn(Mt),mn=_e(gt),jt=Ce(gt,2),dr=_e(jt);Dr(dr,1,()=>O(P),jr,(He,Ke)=>{var or=lp(),zt=_e(or),Nr=_e(zt),Sr=Ce(zt,2),Je=_e(Sr),Lr=_e(Je),qr=Ce(Je,2),sr=_e(qr),Ut=Ce(Sr,2),Ot=_e(Ut),pr=Ce(Ot,2);_t(()=>{ht(Nr,O(Ke).icon||"💡"),ht(Lr,O(Ke).text),ht(sr,`ID: ${O(Ke).id??""}`)}),ct("click",Ot,()=>V(O(Ke).id,O(Ke))),ct("click",pr,()=>I(O(Ke).id)),ze(He,or)});var Wr=Ce(dr,2);{var Dt=He=>{var Ke=up(),or=_e(Ke);_t(()=>ht(or,O(L)?"No recommendations matching your search":"No recommendations available yet")),ze(He,Ke)};pt(Wr,He=>{O(P).length===0&&He(Dt)})}zn(mn,()=>O(L),He=>Fe(L,He)),ze(ft,Mt)};pt(vt,ft=>{O(v)==="nodes"?ft(hr):ft(At,!1)})}_t((ft,Mt)=>{hn(De,`color: ${ft??""}`),ht(We,Mt),Ki(dt,1,`px-3 py-1 ${O(v)==="nodes"?"bg-blue-500 text-white":"bg-gray-100"}`),Ki(Ye,1,`px-3 py-1 ${O(v)==="recommendations"?"bg-blue-500 text-white":"bg-gray-100"}`)},[()=>he(O(i)),()=>O(i).replace(/-/g," ")],ar),ct("click",et,z),ct("click",dt,()=>Fe(v,"nodes")),ct("click",Ye,()=>Fe(v,"recommendations")),ze(se,ve)};pt(Ee,se=>{O(i)&&se(Ge)})}var me=Ce(Ee,2);{var M=se=>{var ve=hp(),Ne=_e(ve),Le=_e(Ne);const De=ar(()=>a().recommendations||{}),We=ar(()=>a()[O(i)]||[]);J2(Le,{get node(){return O(s).node},get category(){return O(s).category},get recommendations(){return O(De)},get allNodes(){return O(We)},$$events:{save:Z,cancel:re}}),ze(se,ve)};pt(me,se=>{O(s)&&se(M)})}var Xe=Ce(me,2);{var Be=se=>{var ve=dp(),Ne=_e(ve),Le=_e(Ne);const De=ar(()=>a().recommendations||{});K2(Le,{get recommendation(){return O(u).recommendation},get recommendationId(){return O(u).recommendationId},get allRecommendations(){return O(De)},$$events:{save:B,cancel:re}}),ze(se,ve)};pt(Xe,se=>{O(u)&&se(Be)})}ct("click",j,T),ct("click",q,te),ct("click",H,ae),ct("click",je,F),ze(t,pe),gn(),n()}const gp="modulepreload",mp=function(t){return"/school-climate-survey/"+t},Wc={},Pu=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(r.map(h=>{if(h=mp(h),h in Wc)return;Wc[h]=!0;const v=h.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":gp,v||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),v)return new Promise((p,S)=>{y.addEventListener("load",p),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function Lt(t){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}var Ar=Uint8Array,Kr=Uint16Array,tc=Int32Array,fl=new Ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hl=new Ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cu=new Ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xf=function(t,e){for(var r=new Kr(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new tc(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Qf=Xf(fl,2),Kf=Qf.b,Iu=Qf.r;Kf[28]=258,Iu[258]=28;var Zf=Xf(hl,0),yp=Zf.b,Vc=Zf.r,Fu=new Kr(32768);for(var Tt=0;Tt<32768;++Tt){var Ni=(Tt&43690)>>1|(Tt&21845)<<1;Ni=(Ni&52428)>>2|(Ni&13107)<<2,Ni=(Ni&61680)>>4|(Ni&3855)<<4,Fu[Tt]=((Ni&65280)>>8|(Ni&255)<<8)>>1}var Hn=function(t,e,r){for(var n=t.length,a=0,i=new Kr(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Kr(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var u;if(r){u=new Kr(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var h=a<<4|t[a],v=e-t[a],g=s[t[a]-1]++<<v,y=g|(1<<v)-1;g<=y;++g)u[Fu[g]>>c]=h}else for(u=new Kr(n),a=0;a<n;++a)t[a]&&(u[a]=Fu[s[t[a]-1]++]>>15-t[a]);return u},ji=new Ar(288);for(var Tt=0;Tt<144;++Tt)ji[Tt]=8;for(var Tt=144;Tt<256;++Tt)ji[Tt]=9;for(var Tt=256;Tt<280;++Tt)ji[Tt]=7;for(var Tt=280;Tt<288;++Tt)ji[Tt]=8;var Bo=new Ar(32);for(var Tt=0;Tt<32;++Tt)Bo[Tt]=5;var bp=Hn(ji,9,0),wp=Hn(ji,9,1),xp=Hn(Bo,5,0),_p=Hn(Bo,5,1),su=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Nn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},lu=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},rc=function(t){return(t+7)/8|0},eh=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ar(t.subarray(e,r))},Ap=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ln=function(t,e,r){var n=new Error(e||Ap[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ln),!r)throw n;return n},Np=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Ar(0);var s=!r,u=s||e.i!=2,c=e.i;s&&(r=new Ar(a*3));var h=function(Se){var je=r.length;if(Se>je){var Ee=new Ar(Math.max(je*2,Se));Ee.set(r),r=Ee}},v=e.f||0,g=e.p||0,y=e.b||0,p=e.l,S=e.d,L=e.m,P=e.n,x=a*8;do{if(!p){v=Nn(t,g,1);var E=Nn(t,g+1,3);if(g+=3,E)if(E==1)p=wp,S=_p,L=9,P=5;else if(E==2){var fe=Nn(t,g,31)+257,Z=Nn(t,g+10,15)+4,B=fe+Nn(t,g+5,31)+1;g+=14;for(var re=new Ar(B),de=new Ar(19),I=0;I<Z;++I)de[Cu[I]]=Nn(t,g+I*3,7);g+=Z*3;for(var F=su(de),z=(1<<F)-1,T=Hn(de,F,1),I=0;I<B;){var te=T[Nn(t,g,z)];g+=te&15;var U=te>>4;if(U<16)re[I++]=U;else{var ae=0,$=0;for(U==16?($=3+Nn(t,g,3),g+=2,ae=re[I-1]):U==17?($=3+Nn(t,g,7),g+=3):U==18&&($=11+Nn(t,g,127),g+=7);$--;)re[I++]=ae}}var K=re.subarray(0,fe),he=re.subarray(fe);L=su(K),P=su(he),p=Hn(K,L,1),S=Hn(he,P,1)}else Ln(1);else{var U=rc(g)+4,W=t[U-4]|t[U-3]<<8,V=U+W;if(V>a){c&&Ln(0);break}u&&h(y+W),r.set(t.subarray(U,V),y),e.b=y+=W,e.p=g=V*8,e.f=v;continue}if(g>x){c&&Ln(0);break}}u&&h(y+131072);for(var pe=(1<<L)-1,Ie=(1<<P)-1,N=g;;N=g){var ae=p[lu(t,g)&pe],j=ae>>4;if(g+=ae&15,g>x){c&&Ln(0);break}if(ae||Ln(2),j<256)r[y++]=j;else if(j==256){N=g,p=null;break}else{var q=j-254;if(j>264){var I=j-257,H=fl[I];q=Nn(t,g,(1<<H)-1)+Kf[I],g+=H}var X=S[lu(t,g)&Ie],ne=X>>4;X||Ln(3),g+=X&15;var he=yp[ne];if(ne>3){var H=hl[ne];he+=lu(t,g)&(1<<H)-1,g+=H}if(g>x){c&&Ln(0);break}u&&h(y+131072);var le=y+q;if(y<he){var oe=i-he,Pe=Math.min(he,le);for(oe+y<0&&Ln(3);y<Pe;++y)r[y]=n[oe+y]}for(;y<le;++y)r[y]=r[y-he]}}e.l=p,e.p=N,e.b=y,e.f=v,p&&(v=1,e.m=L,e.d=S,e.n=P)}while(!v);return y!=r.length&&s?eh(r,0,y):r.subarray(0,y)},ri=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ko=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},uu=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:rh,l:0};if(a==1){var s=new Ar(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(V,fe){return V.f-fe.f}),r.push({s:-1,f:25001});var u=r[0],c=r[1],h=0,v=1,g=2;for(r[0]={s:-1,f:u.f+c.f,l:u,r:c};v!=a-1;)u=r[r[h].f<r[g].f?h++:g++],c=r[h!=v&&r[h].f<r[g].f?h++:g++],r[v++]={s:-1,f:u.f+c.f,l:u,r:c};for(var y=i[0].s,n=1;n<a;++n)i[n].s>y&&(y=i[n].s);var p=new Kr(y+1),S=Eu(r[v-1],p,0);if(S>e){var n=0,L=0,P=S-e,x=1<<P;for(i.sort(function(fe,Z){return p[Z.s]-p[fe.s]||fe.f-Z.f});n<a;++n){var E=i[n].s;if(p[E]>e)L+=x-(1<<S-p[E]),p[E]=e;else break}for(L>>=P;L>0;){var U=i[n].s;p[U]<e?L-=1<<e-p[U]++-1:++n}for(;n>=0&&L;--n){var W=i[n].s;p[W]==e&&(--p[W],++L)}S=e}return{t:new Ar(p),l:S}},Eu=function(t,e,r){return t.s==-1?Math.max(Eu(t.l,e,r+1),Eu(t.r,e,r+1)):e[t.s]=r},Gc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Kr(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},u=1;u<=e;++u)if(t[u]==a&&u!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[u]}return{c:r.subarray(0,n),n:e}},Po=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},th=function(t,e,r){var n=r.length,a=rc(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},Yc=function(t,e,r,n,a,i,s,u,c,h,v){ri(e,v++,r),++a[256];for(var g=uu(a,15),y=g.t,p=g.l,S=uu(i,15),L=S.t,P=S.l,x=Gc(y),E=x.c,U=x.n,W=Gc(L),V=W.c,fe=W.n,Z=new Kr(19),B=0;B<E.length;++B)++Z[E[B]&31];for(var B=0;B<V.length;++B)++Z[V[B]&31];for(var re=uu(Z,7),de=re.t,I=re.l,F=19;F>4&&!de[Cu[F-1]];--F);var z=h+5<<3,T=Po(a,ji)+Po(i,Bo)+s,te=Po(a,y)+Po(i,L)+s+14+3*F+Po(Z,de)+2*Z[16]+3*Z[17]+7*Z[18];if(c>=0&&z<=T&&z<=te)return th(e,v,t.subarray(c,c+h));var ae,$,K,he;if(ri(e,v,1+(te<T)),v+=2,te<T){ae=Hn(y,p,0),$=y,K=Hn(L,P,0),he=L;var pe=Hn(de,I,0);ri(e,v,U-257),ri(e,v+5,fe-1),ri(e,v+10,F-4),v+=14;for(var B=0;B<F;++B)ri(e,v+3*B,de[Cu[B]]);v+=3*F;for(var Ie=[E,V],N=0;N<2;++N)for(var j=Ie[N],B=0;B<j.length;++B){var q=j[B]&31;ri(e,v,pe[q]),v+=de[q],q>15&&(ri(e,v,j[B]>>5&127),v+=j[B]>>12)}}else ae=bp,$=ji,K=xp,he=Bo;for(var B=0;B<u;++B){var H=n[B];if(H>255){var q=H>>18&31;ko(e,v,ae[q+257]),v+=$[q+257],q>7&&(ri(e,v,H>>23&31),v+=fl[q]);var X=H&31;ko(e,v,K[X]),v+=he[X],X>3&&(ko(e,v,H>>5&8191),v+=hl[X])}else ko(e,v,ae[H]),v+=$[H]}return ko(e,v,ae[256]),v+$[256]},Sp=new tc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rh=new Ar(0),Lp=function(t,e,r,n,a,i){var s=i.z||t.length,u=new Ar(n+s+5*(1+Math.ceil(s/7e3))+a),c=u.subarray(n,u.length-a),h=i.l,v=(i.r||0)&7;if(e){v&&(c[0]=i.r>>3);for(var g=Sp[e-1],y=g>>13,p=g&8191,S=(1<<r)-1,L=i.p||new Kr(32768),P=i.h||new Kr(S+1),x=Math.ceil(r/3),E=2*x,U=function(Ge){return(t[Ge]^t[Ge+1]<<x^t[Ge+2]<<E)&S},W=new tc(25e3),V=new Kr(288),fe=new Kr(32),Z=0,B=0,re=i.i||0,de=0,I=i.w||0,F=0;re+2<s;++re){var z=U(re),T=re&32767,te=P[z];if(L[T]=te,P[z]=T,I<=re){var ae=s-re;if((Z>7e3||de>24576)&&(ae>423||!h)){v=Yc(t,c,0,W,V,fe,B,de,F,re-F,v),de=Z=B=0,F=re;for(var $=0;$<286;++$)V[$]=0;for(var $=0;$<30;++$)fe[$]=0}var K=2,he=0,pe=p,Ie=T-te&32767;if(ae>2&&z==U(re-Ie))for(var N=Math.min(y,ae)-1,j=Math.min(32767,re),q=Math.min(258,ae);Ie<=j&&--pe&&T!=te;){if(t[re+K]==t[re+K-Ie]){for(var H=0;H<q&&t[re+H]==t[re+H-Ie];++H);if(H>K){if(K=H,he=Ie,H>N)break;for(var X=Math.min(Ie,H-2),ne=0,$=0;$<X;++$){var le=re-Ie+$&32767,oe=L[le],Pe=le-oe&32767;Pe>ne&&(ne=Pe,te=le)}}}T=te,te=L[T],Ie+=T-te&32767}if(he){W[de++]=268435456|Iu[K]<<18|Vc[he];var Se=Iu[K]&31,je=Vc[he]&31;B+=fl[Se]+hl[je],++V[257+Se],++fe[je],I=re+K,++Z}else W[de++]=t[re],++V[t[re]]}}for(re=Math.max(re,I);re<s;++re)W[de++]=t[re],++V[t[re]];v=Yc(t,c,h,W,V,fe,B,de,F,re-F,v),h||(i.r=v&7|c[v/8|0]<<3,v-=7,i.h=P,i.p=L,i.i=re,i.w=I)}else{for(var re=i.w||0;re<s+h;re+=65535){var Ee=re+65535;Ee>=s&&(c[v/8|0]=h,Ee=s),v=th(c,v+1,t.subarray(re,Ee))}i.i=s}return eh(u,0,n+rc(v)+a)},nh=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var u=Math.min(s+2655,i);s<u;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kp=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ar(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return Lp(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},ih=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Pp=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=nh();a.p(e.dictionary),ih(t,2,a.d())}},Cp=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ln(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ln(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function ju(t,e){e||(e={});var r=nh();r.p(t);var n=kp(t,e,e.dictionary?6:2,4);return Pp(n,e),ih(n,n.length-4,r.d()),n}function Ip(t,e){return Np(t.subarray(Cp(t),-4),{i:2},e,e)}var Fp=typeof TextDecoder<"u"&&new TextDecoder,Ep=0;try{Fp.decode(rh,{stream:!0}),Ep=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cu(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Ct={log:cu,warn:function(t){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):cu.call(null,arguments))},error:function(t){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):cu(t))}};function fu(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ji(n.response,e,r)},n.onerror=function(){Ct.error("could not download file")},n.send()}function Jc(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ds(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fo,Du,Ji=rt.saveAs||((typeof window>"u"?"undefined":Lt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Jc(a.href)?fu(t,e,r):Ds(a,a.target="_blank"):Ds(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ds(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Jc(t))fu(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ds(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Lt(i)!=="object"&&(Ct.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return fu(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Lt(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var v=u.result;v=s?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},u.readAsDataURL(t)}else{var c=rt.URL||rt.webkitURL,h=c.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ah(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hu(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=br(r,n,a,i,e[0],7,-680876936),i=br(i,r,n,a,e[1],12,-389564586),a=br(a,i,r,n,e[2],17,606105819),n=br(n,a,i,r,e[3],22,-1044525330),r=br(r,n,a,i,e[4],7,-176418897),i=br(i,r,n,a,e[5],12,1200080426),a=br(a,i,r,n,e[6],17,-1473231341),n=br(n,a,i,r,e[7],22,-45705983),r=br(r,n,a,i,e[8],7,1770035416),i=br(i,r,n,a,e[9],12,-1958414417),a=br(a,i,r,n,e[10],17,-42063),n=br(n,a,i,r,e[11],22,-1990404162),r=br(r,n,a,i,e[12],7,1804603682),i=br(i,r,n,a,e[13],12,-40341101),a=br(a,i,r,n,e[14],17,-1502002290),r=wr(r,n=br(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=wr(i,r,n,a,e[6],9,-1069501632),a=wr(a,i,r,n,e[11],14,643717713),n=wr(n,a,i,r,e[0],20,-373897302),r=wr(r,n,a,i,e[5],5,-701558691),i=wr(i,r,n,a,e[10],9,38016083),a=wr(a,i,r,n,e[15],14,-660478335),n=wr(n,a,i,r,e[4],20,-405537848),r=wr(r,n,a,i,e[9],5,568446438),i=wr(i,r,n,a,e[14],9,-1019803690),a=wr(a,i,r,n,e[3],14,-187363961),n=wr(n,a,i,r,e[8],20,1163531501),r=wr(r,n,a,i,e[13],5,-1444681467),i=wr(i,r,n,a,e[2],9,-51403784),a=wr(a,i,r,n,e[7],14,1735328473),r=xr(r,n=wr(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=xr(i,r,n,a,e[8],11,-2022574463),a=xr(a,i,r,n,e[11],16,1839030562),n=xr(n,a,i,r,e[14],23,-35309556),r=xr(r,n,a,i,e[1],4,-1530992060),i=xr(i,r,n,a,e[4],11,1272893353),a=xr(a,i,r,n,e[7],16,-155497632),n=xr(n,a,i,r,e[10],23,-1094730640),r=xr(r,n,a,i,e[13],4,681279174),i=xr(i,r,n,a,e[0],11,-358537222),a=xr(a,i,r,n,e[3],16,-722521979),n=xr(n,a,i,r,e[6],23,76029189),r=xr(r,n,a,i,e[9],4,-640364487),i=xr(i,r,n,a,e[12],11,-421815835),a=xr(a,i,r,n,e[15],16,530742520),r=_r(r,n=xr(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=_r(i,r,n,a,e[7],10,1126891415),a=_r(a,i,r,n,e[14],15,-1416354905),n=_r(n,a,i,r,e[5],21,-57434055),r=_r(r,n,a,i,e[12],6,1700485571),i=_r(i,r,n,a,e[3],10,-1894986606),a=_r(a,i,r,n,e[10],15,-1051523),n=_r(n,a,i,r,e[1],21,-2054922799),r=_r(r,n,a,i,e[8],6,1873313359),i=_r(i,r,n,a,e[15],10,-30611744),a=_r(a,i,r,n,e[6],15,-1560198380),n=_r(n,a,i,r,e[13],21,1309151649),r=_r(r,n,a,i,e[4],6,-145523070),i=_r(i,r,n,a,e[11],10,-1120210379),a=_r(a,i,r,n,e[2],15,718787259),n=_r(n,a,i,r,e[9],21,-343485551),t[0]=Ci(r,t[0]),t[1]=Ci(n,t[1]),t[2]=Ci(a,t[2]),t[3]=Ci(i,t[3])}function dl(t,e,r,n,a,i){return e=Ci(Ci(e,t),Ci(n,i)),Ci(e<<a|e>>>32-a,r)}function br(t,e,r,n,a,i,s){return dl(e&r|~e&n,t,e,a,i,s)}function wr(t,e,r,n,a,i,s){return dl(e&n|r&~n,t,e,a,i,s)}function xr(t,e,r,n,a,i,s){return dl(e^r^n,t,e,a,i,s)}function _r(t,e,r,n,a,i,s){return dl(r^(e|~n),t,e,a,i,s)}function oh(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hu(n,jp(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(hu(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,hu(n,a),n}function jp(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Fo=rt.atob.bind(rt),Du=rt.btoa.bind(rt);var $c="0123456789abcdef".split("");function Dp(t){for(var e="",r=0;r<4;r++)e+=$c[t>>8*r+4&15]+$c[t>>8*r&15];return e}function Op(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ou(t){return oh(t).map(Op).join("")}var qp=function(t){for(var e=0;e<t.length;e++)t[e]=Dp(t[e]);return t.join("")}(oh("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ci(t,e){if(qp){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function qu(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var v=u[c];h=(h+v+s.charCodeAt(c))%256,u[c]=u[h],u[h]=v}r=t,n=u}else u=n;var g=e.length,y=0,p=0,S="";for(c=0;c<g;c++)p=(p+(v=u[y=(y+1)%256]))%256,u[y]=u[p],u[p]=v,s=u[(u[y]+u[p])%256],S+=String.fromCharCode(e.charCodeAt(c)^s);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xc={print:4,modify:8,copy:16,"annot-forms":32};function Da(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(u){if(Xc.perm!==void 0)throw new Error("Invalid permission: "+u);a+=Xc[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Ou(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=qu(this.encryptionKey,this.padding)}function Oa(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Qc(t){if(Lt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(u){rt.console&&Ct.error("jsPDF PubSub Error",u.message,u)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ks(t){if(!(this instanceof Ks))return new Ks(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function sh(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xi(t,e,r,n,a){if(!(this instanceof Xi))return new Xi(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,sh.call(this,n,a)}function qa(t,e,r,n,a){if(!(this instanceof qa))return new qa(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,sh.call(this,n,a)}function Ze(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],u=1,c=16,h="S",v=null;Lt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(v=t.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=Qc;var S="1.3",L=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(f){S=f};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return P};var x=p.__private__.getPageFormat=function(f){return P[f]};a=a||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},U=E.COMPAT;function W(){this.saveGraphicsState(),M(new Je(qe,0,0,-qe,0,fi()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),h="n",U=E.ADVANCED}function V(){this.restoreGraphicsState(),h="S",U=E.COMPAT}var fe=p.__private__.combineFontStyleAndFontWeight=function(f,w){if(f=="bold"&&w=="normal"||f=="bold"&&w==400||f=="normal"&&w=="italic"||f=="bold"&&w=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return w&&(f=w==400||w==="normal"?f==="italic"?"italic":"normal":w!=700&&w!=="bold"||f!=="normal"?(w==700?"bold":w)+""+f:"bold"),f};p.advancedAPI=function(f){var w=U===E.COMPAT;return w&&W.call(this),typeof f!="function"||(f(this),w&&V.call(this)),this},p.compatAPI=function(f){var w=U===E.ADVANCED;return w&&V.call(this),typeof f!="function"||(f(this),w&&W.call(this)),this},p.isAdvancedAPI=function(){return U===E.ADVANCED};var Z,B=function(f){if(U!==E.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=p.roundToPrecision=p.__private__.roundToPrecision=function(f,w){var R=e||w;if(isNaN(f)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(R).replace(/0+$/,"")};Z=p.hpf=p.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return re(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return re(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return re(f,16)};var de=p.f2=p.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return re(f,2)},I=p.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return re(f,3)},F=p.scale=p.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return U===E.COMPAT?f*qe:U===E.ADVANCED?f:void 0},z=function(f){return U===E.COMPAT?fi()-f:U===E.ADVANCED?f:void 0},T=function(f){return F(z(f))};p.__private__.setPrecision=p.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var te,ae="00000000000000000000000000000000",$=p.__private__.getFileId=function(){return ae},K=p.__private__.setFileId=function(f){return ae=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(mr=new Da(v.userPermissions,v.userPassword,v.ownerPassword,ae)),ae};p.setFileId=function(f){return K(f),this},p.getFileId=function(){return $()};var he=p.__private__.convertDateToPDFDate=function(f){var w=f.getTimezoneOffset(),R=w<0?"+":"-",G=Math.floor(Math.abs(w/60)),ie=Math.abs(w%60),ye=[R,q(G),"'",q(ie),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),ye].join("")},pe=p.__private__.convertPDFDateToDate=function(f){var w=parseInt(f.substr(2,4),10),R=parseInt(f.substr(6,2),10)-1,G=parseInt(f.substr(8,2),10),ie=parseInt(f.substr(10,2),10),ye=parseInt(f.substr(12,2),10),ke=parseInt(f.substr(14,2),10);return new Date(w,R,G,ie,ye,ke,0)},Ie=p.__private__.setCreationDate=function(f){var w;if(f===void 0&&(f=new Date),f instanceof Date)w=he(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");w=f}return te=w},N=p.__private__.getCreationDate=function(f){var w=te;return f==="jsDate"&&(w=pe(te)),w};p.setCreationDate=function(f){return Ie(f),this},p.getCreationDate=function(f){return N(f)};var j,q=p.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},H=p.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},X=0,ne=[],le=[],oe=0,Pe=[],Se=[],je=!1,Ee=le,Ge=function(){X=0,oe=0,le=[],ne=[],Pe=[],Rr=Ot(),Vr=Ot()};p.__private__.setCustomOutputDestination=function(f){je=!0,Ee=f};var me=function(f){je||(Ee=f)};p.__private__.resetCustomOutputDestination=function(){je=!1,Ee=le};var M=p.__private__.out=function(f){return f=f.toString(),oe+=f.length+1,Ee.push(f),Ee},Xe=p.__private__.write=function(f){return M(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Be=p.__private__.getArrayBuffer=function(f){for(var w=f.length,R=new ArrayBuffer(w),G=new Uint8Array(R);w--;)G[w]=f.charCodeAt(w);return R},se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return se};var ve=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(f){return ve=U===E.ADVANCED?f/qe:f,this};var Ne,Le=p.__private__.getFontSize=p.getFontSize=function(){return U===E.COMPAT?ve:ve*qe},De=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(f){return De=f,this},p.__private__.getR2L=p.getR2L=function(){return De};var We,et=p.__private__.setZoomMode=function(f){var w=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Ne=f;else if(isNaN(f)){if(w.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Ne=f}else Ne=parseInt(f,10)};p.__private__.getZoomMode=function(){return Ne};var tt,at=p.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');We=f};p.__private__.getPageMode=function(){return We};var dt=p.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');tt=f};p.__private__.getLayoutMode=function(){return tt},p.__private__.setDisplayMode=p.setDisplayMode=function(f,w,R){return et(f),dt(w),at(R),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(f){if(Object.keys(Ye).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[f]},p.__private__.getDocumentProperties=function(){return Ye},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(f){for(var w in Ye)Ye.hasOwnProperty(w)&&f[w]&&(Ye[w]=f[w]);return this},p.__private__.setDocumentProperty=function(f,w){if(Object.keys(Ye).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[f]=w};var nt,qe,er,vt,hr,At={},ft={},Mt=[],gt={},mn={},jt={},dr={},Wr=null,Dt=0,He=[],Ke=new Qc(p),or=t.hotfixes||[],zt={},Nr={},Sr=[],Je=function f(w,R,G,ie,ye,ke){if(!(this instanceof f))return new f(w,R,G,ie,ye,ke);isNaN(w)&&(w=1),isNaN(R)&&(R=0),isNaN(G)&&(G=0),isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),this._matrix=[w,R,G,ie,ye,ke]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(f)},Je.prototype.multiply=function(f){var w=f.sx*this.sx+f.shy*this.shx,R=f.sx*this.shy+f.shy*this.sy,G=f.shx*this.sx+f.sy*this.shx,ie=f.shx*this.shy+f.sy*this.sy,ye=f.tx*this.sx+f.ty*this.shx+this.tx,ke=f.tx*this.shy+f.ty*this.sy+this.ty;return new Je(w,R,G,ie,ye,ke)},Je.prototype.decompose=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,ye=this.ty,ke=Math.sqrt(f*f+w*w),Te=(f/=ke)*R+(w/=ke)*G;R-=f*Te,G-=w*Te;var $e=Math.sqrt(R*R+G*G);return Te/=$e,f*(G/=$e)<w*(R/=$e)&&(f=-f,w=-w,Te=-Te,ke=-ke),{scale:new Je(ke,0,0,$e,0,0),translate:new Je(1,0,0,1,ie,ye),rotate:new Je(f,w,-w,f,0,0),skew:new Je(1,0,Te,1,0,0)}},Je.prototype.toString=function(f){return this.join(" ")},Je.prototype.inversed=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,ye=this.ty,ke=1/(f*G-w*R),Te=G*ke,$e=-w*ke,lt=-R*ke,ot=f*ke;return new Je(Te,$e,lt,ot,-Te*ie-lt*ye,-$e*ie-ot*ye)},Je.prototype.applyToPoint=function(f){var w=f.x*this.sx+f.y*this.shx+this.tx,R=f.x*this.shy+f.y*this.sy+this.ty;return new da(w,R)},Je.prototype.applyToRectangle=function(f){var w=this.applyToPoint(f),R=this.applyToPoint(new da(f.x+f.w,f.y+f.h));return new oo(w.x,w.y,R.x-w.x,R.y-w.y)},Je.prototype.clone=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,ye=this.ty;return new Je(f,w,R,G,ie,ye)},p.Matrix=Je;var Lr=p.matrixMult=function(f,w){return w.multiply(f)},qr=new Je(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=qr;var sr=function(f,w){if(!mn[f]){var R=(w instanceof Xi?"Sh":"P")+(Object.keys(gt).length+1).toString(10);w.id=R,mn[f]=R,gt[R]=w,Ke.publish("addPattern",w)}};p.ShadingPattern=Xi,p.TilingPattern=qa,p.addShadingPattern=function(f,w){return B("addShadingPattern()"),sr(f,w),this},p.beginTilingPattern=function(f){B("beginTilingPattern()"),os(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},p.endTilingPattern=function(f,w){B("endTilingPattern()"),w.stream=Se[j].join(`
`),sr(f,w),Ke.publish("endTilingPattern",w),Sr.pop().restore()};var Ut=p.__private__.newObject=function(){var f=Ot();return pr(f,!0),f},Ot=p.__private__.newObjectDeferred=function(){return X++,ne[X]=function(){return oe},X},pr=function(f,w){return w=typeof w=="boolean"&&w,ne[f]=oe,w&&M(f+" 0 obj"),f},tn=p.__private__.newAdditionalObject=function(){var f={objId:Ot(),content:""};return Pe.push(f),f},Rr=Ot(),Vr=Ot(),Gr=p.__private__.decodeColorString=function(f){var w=f.split(" ");if(w.length!==2||w[1]!=="g"&&w[1]!=="G")w.length===5&&(w[4]==="k"||w[4]==="K")&&(w=[(1-w[0])*(1-w[3]),(1-w[1])*(1-w[3]),(1-w[2])*(1-w[3]),"r"]);else{var R=parseFloat(w[0]);w=[R,R,R,"r"]}for(var G="#",ie=0;ie<3;ie++)G+=("0"+Math.floor(255*parseFloat(w[ie])).toString(16)).slice(-2);return G},yn=p.__private__.encodeColorString=function(f){var w;typeof f=="string"&&(f={ch1:f});var R=f.ch1,G=f.ch2,ie=f.ch3,ye=f.ch4,ke=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof R=="string"&&R.charAt(0)!=="#"){var Te=new ah(R);if(Te.ok)R=Te.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if(typeof R=="string"&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),typeof R=="string"&&/^#[0-9A-Fa-f]{6}$/.test(R)){var $e=parseInt(R.substr(1),16);R=$e>>16&255,G=$e>>8&255,ie=255&$e}if(G===void 0||ye===void 0&&R===G&&G===ie)if(typeof R=="string")w=R+" "+ke[0];else switch(f.precision){case 2:w=de(R/255)+" "+ke[0];break;case 3:default:w=I(R/255)+" "+ke[0]}else if(ye===void 0||Lt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return w=["1.","1.","1.",ke[1]].join(" ");if(typeof R=="string")w=[R,G,ie,ke[1]].join(" ");else switch(f.precision){case 2:w=[de(R/255),de(G/255),de(ie/255),ke[1]].join(" ");break;default:case 3:w=[I(R/255),I(G/255),I(ie/255),ke[1]].join(" ")}}else if(typeof R=="string")w=[R,G,ie,ye,ke[2]].join(" ");else switch(f.precision){case 2:w=[de(R),de(G),de(ie),de(ye),ke[2]].join(" ");break;case 3:default:w=[I(R),I(G),I(ie),I(ye),ke[2]].join(" ")}return w},jn=p.__private__.getFilters=function(){return s},rn=p.__private__.putStream=function(f){var w=(f=f||{}).data||"",R=f.filters||jn(),G=f.alreadyAppliedFilters||[],ie=f.addLength1||!1,ye=w.length,ke=f.objectId,Te=function(yr){return yr};if(v!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(Te=mr.encryptor(ke,0));var $e={};R===!0&&(R=["FlateEncode"]);var lt=f.additionalKeyValues||[],ot=($e=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(w,R):{data:w,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if($e.data.length!==0&&(lt.push({key:"Length",value:$e.data.length}),ie===!0&&lt.push({key:"Length1",value:ye})),ot.length!=0)if(ot.split("/").length-1==1)lt.push({key:"Filter",value:ot});else{lt.push({key:"Filter",value:"["+ot+"]"});for(var bt=0;bt<lt.length;bt+=1)if(lt[bt].key==="DecodeParms"){for(var Ht=[],Wt=0;Wt<$e.reverseChain.split("/").length-1;Wt+=1)Ht.push("null");Ht.push(lt[bt].value),lt[bt].value="["+Ht.join(" ")+"]"}}M("<<");for(var tr=0;tr<lt.length;tr++)M("/"+lt[tr].key+" "+lt[tr].value);M(">>"),$e.data.length!==0&&(M("stream"),M(Te($e.data)),M("endstream"))},Dn=p.__private__.putPage=function(f){var w=f.number,R=f.data,G=f.objId,ie=f.contentsObjId;pr(G,!0),M("<</Type /Page"),M("/Parent "+f.rootDictionaryObjId+" 0 R"),M("/Resources "+f.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(Z(f.mediaBox.bottomLeftX))+" "+parseFloat(Z(f.mediaBox.bottomLeftY))+" "+Z(f.mediaBox.topRightX)+" "+Z(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&M("/CropBox ["+Z(f.cropBox.bottomLeftX)+" "+Z(f.cropBox.bottomLeftY)+" "+Z(f.cropBox.topRightX)+" "+Z(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&M("/BleedBox ["+Z(f.bleedBox.bottomLeftX)+" "+Z(f.bleedBox.bottomLeftY)+" "+Z(f.bleedBox.topRightX)+" "+Z(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&M("/TrimBox ["+Z(f.trimBox.bottomLeftX)+" "+Z(f.trimBox.bottomLeftY)+" "+Z(f.trimBox.topRightX)+" "+Z(f.trimBox.topRightY)+"]"),f.artBox!==null&&M("/ArtBox ["+Z(f.artBox.bottomLeftX)+" "+Z(f.artBox.bottomLeftY)+" "+Z(f.artBox.topRightX)+" "+Z(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&M("/UserUnit "+f.userUnit),Ke.publish("putPage",{objId:G,pageContext:He[w],pageNumber:w,page:R}),M("/Contents "+ie+" 0 R"),M(">>"),M("endobj");var ye=R.join(`
`);return U===E.ADVANCED&&(ye+=`
Q`),pr(ie,!0),rn({data:ye,filters:jn(),objectId:ie}),M("endobj"),G},Ri=p.__private__.putPages=function(){var f,w,R=[];for(f=1;f<=Dt;f++)He[f].objId=Ot(),He[f].contentsObjId=Ot();for(f=1;f<=Dt;f++)R.push(Dn({number:f,data:Se[f],objId:He[f].objId,contentsObjId:He[f].contentsObjId,mediaBox:He[f].mediaBox,cropBox:He[f].cropBox,bleedBox:He[f].bleedBox,trimBox:He[f].trimBox,artBox:He[f].artBox,userUnit:He[f].userUnit,rootDictionaryObjId:Rr,resourceDictionaryObjId:Vr}));pr(Rr,!0),M("<</Type /Pages");var G="/Kids [";for(w=0;w<Dt;w++)G+=R[w]+" 0 R ";M(G+"]"),M("/Count "+Dt),M(">>"),M("endobj"),Ke.publish("postPutPages")},ta=function(f){Ke.publish("putFont",{font:f,out:M,newObject:Ut,putStream:rn}),f.isAlreadyPutted!==!0&&(f.objectNumber=Ut(),M("<<"),M("/Type /Font"),M("/BaseFont /"+Oa(f.postScriptName)),M("/Subtype /Type1"),typeof f.encoding=="string"&&M("/Encoding /"+f.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},ra=function(){for(var f in At)At.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&ta(At[f])},na=function(f){f.objectNumber=Ut();var w=[];w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Form"}),w.push({key:"BBox",value:"["+[Z(f.x),Z(f.y),Z(f.x+f.width),Z(f.y+f.height)].join(" ")+"]"}),w.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var R=f.pages[1].join(`
`);rn({data:R,additionalKeyValues:w,objectId:f.objectNumber}),M("endobj")},ia=function(){for(var f in zt)zt.hasOwnProperty(f)&&na(zt[f])},Uo=function(f,w){var R,G=[],ie=1/(w-1);for(R=0;R<1;R+=ie)G.push(R);if(G.push(1),f[0].offset!=0){var ye={offset:0,color:f[0].color};f.unshift(ye)}if(f[f.length-1].offset!=1){var ke={offset:1,color:f[f.length-1].color};f.push(ke)}for(var Te="",$e=0,lt=0;lt<G.length;lt++){for(R=G[lt];R>f[$e+1].offset;)$e++;var ot=f[$e].offset,bt=(R-ot)/(f[$e+1].offset-ot),Ht=f[$e].color,Wt=f[$e+1].color;Te+=H(Math.round((1-bt)*Ht[0]+bt*Wt[0]).toString(16))+H(Math.round((1-bt)*Ht[1]+bt*Wt[1]).toString(16))+H(Math.round((1-bt)*Ht[2]+bt*Wt[2]).toString(16))}return Te.trim()},vl=function(f,w){w||(w=21);var R=Ut(),G=Uo(f.colors,w),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+w+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rn({data:G,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),M("endobj"),f.objectNumber=Ut(),M("<< /ShadingType "+f.type),M("/ColorSpace /DeviceRGB");var ye="/Coords ["+Z(parseFloat(f.coords[0]))+" "+Z(parseFloat(f.coords[1]))+" ";f.type===2?ye+=Z(parseFloat(f.coords[2]))+" "+Z(parseFloat(f.coords[3])):ye+=Z(parseFloat(f.coords[2]))+" "+Z(parseFloat(f.coords[3]))+" "+Z(parseFloat(f.coords[4]))+" "+Z(parseFloat(f.coords[5])),M(ye+="]"),f.matrix&&M("/Matrix ["+f.matrix.toString()+"]"),M("/Function "+R+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},gl=function(f,w){var R=Ot(),G=Ut();w.push({resourcesOid:R,objectOid:G}),f.objectNumber=G;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+f.boundingBox.map(Z).join(" ")+"]"}),ie.push({key:"XStep",value:Z(f.xStep)}),ie.push({key:"YStep",value:Z(f.yStep)}),ie.push({key:"Resources",value:R+" 0 R"}),f.matrix&&ie.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),rn({data:f.stream,additionalKeyValues:ie,objectId:f.objectNumber}),M("endobj")},aa=function(f){var w;for(w in gt)gt.hasOwnProperty(w)&&(gt[w]instanceof Xi?vl(gt[w]):gt[w]instanceof qa&&gl(gt[w],f))},Ho=function(f){for(var w in f.objectNumber=Ut(),M("<<"),f)switch(w){case"opacity":M("/ca "+de(f[w]));break;case"stroke-opacity":M("/CA "+de(f[w]))}M(">>"),M("endobj")},ml=function(){var f;for(f in jt)jt.hasOwnProperty(f)&&Ho(jt[f])},Xa=function(){for(var f in M("/XObject <<"),zt)zt.hasOwnProperty(f)&&zt[f].objectNumber>=0&&M("/"+f+" "+zt[f].objectNumber+" 0 R");Ke.publish("putXobjectDict"),M(">>")},yl=function(){mr.oid=Ut(),M("<<"),M("/Filter /Standard"),M("/V "+mr.v),M("/R "+mr.r),M("/U <"+mr.toHexString(mr.U)+">"),M("/O <"+mr.toHexString(mr.O)+">"),M("/P "+mr.P),M(">>"),M("endobj")},Wo=function(){for(var f in M("/Font <<"),At)At.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&M("/"+f+" "+At[f].objectNumber+" 0 R");M(">>")},bl=function(){if(Object.keys(gt).length>0){for(var f in M("/Shading <<"),gt)gt.hasOwnProperty(f)&&gt[f]instanceof Xi&&gt[f].objectNumber>=0&&M("/"+f+" "+gt[f].objectNumber+" 0 R");Ke.publish("putShadingPatternDict"),M(">>")}},oa=function(f){if(Object.keys(gt).length>0){for(var w in M("/Pattern <<"),gt)gt.hasOwnProperty(w)&&gt[w]instanceof p.TilingPattern&&gt[w].objectNumber>=0&&gt[w].objectNumber<f&&M("/"+w+" "+gt[w].objectNumber+" 0 R");Ke.publish("putTilingPatternDict"),M(">>")}},wl=function(){if(Object.keys(jt).length>0){var f;for(f in M("/ExtGState <<"),jt)jt.hasOwnProperty(f)&&jt[f].objectNumber>=0&&M("/"+f+" "+jt[f].objectNumber+" 0 R");Ke.publish("putGStateDict"),M(">>")}},Jt=function(f){pr(f.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wo(),bl(),oa(f.objectOid),wl(),Xa(),M(">>"),M("endobj")},Vo=function(){var f=[];ra(),ml(),ia(),aa(f),Ke.publish("putResources"),f.forEach(Jt),Jt({resourcesOid:Vr,objectOid:Number.MAX_SAFE_INTEGER}),Ke.publish("postPutResources")},Go=function(){Ke.publish("putAdditionalObjects");for(var f=0;f<Pe.length;f++){var w=Pe[f];pr(w.objId,!0),M(w.content),M("endobj")}Ke.publish("postPutAdditionalObjects")},Yo=function(f){ft[f.fontName]=ft[f.fontName]||{},ft[f.fontName][f.fontStyle]=f.id},Qa=function(f,w,R,G,ie){var ye={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:f,fontName:w,fontStyle:R,encoding:G,isStandardFont:ie||!1,metadata:{}};return Ke.publish("addFont",{font:ye,instance:this}),At[ye.id]=ye,Yo(ye),ye.id},xl=function(f){for(var w=0,R=se.length;w<R;w++){var G=Qa.call(this,f[w][0],f[w][1],f[w][2],se[w][3],!0);g===!1&&(y[G]=!0);var ie=f[w][0].split("-");Yo({id:G,fontName:ie[0],fontStyle:ie[1]||""})}Ke.publish("addFonts",{fonts:At,dictionary:ft})},bn=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(G){var w=G.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var R="Error in function "+w.split(`
`)[0].split("<")[0]+": "+G.message;if(!rt.console)throw new Error(R);rt.console.error(R,G),rt.alert&&alert(R)}},f.foo.bar=f,f.foo},sa=function(f,w){var R,G,ie,ye,ke,Te,$e,lt,ot;if(ie=(w=w||{}).sourceEncoding||"Unicode",ke=w.outputEncoding,(w.autoencode||ke)&&At[nt].metadata&&At[nt].metadata[ie]&&At[nt].metadata[ie].encoding&&(ye=At[nt].metadata[ie].encoding,!ke&&At[nt].encoding&&(ke=At[nt].encoding),!ke&&ye.codePages&&(ke=ye.codePages[0]),typeof ke=="string"&&(ke=ye[ke]),ke)){for($e=!1,Te=[],R=0,G=f.length;R<G;R++)(lt=ke[f.charCodeAt(R)])?Te.push(String.fromCharCode(lt)):Te.push(f[R]),Te[R].charCodeAt(0)>>8&&($e=!0);f=Te.join("")}for(R=f.length;$e===void 0&&R!==0;)f.charCodeAt(R-1)>>8&&($e=!0),R--;if(!$e)return f;for(Te=w.noBOM?[]:[254,255],R=0,G=f.length;R<G;R++){if((ot=(lt=f.charCodeAt(R))>>8)>>8)throw new Error("Character at position "+R+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Te.push(ot),Te.push(lt-(ot<<8))}return String.fromCharCode.apply(void 0,Te)},Br=p.__private__.pdfEscape=p.pdfEscape=function(f,w){return sa(f,w).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ka=p.__private__.beginPage=function(f){Se[++Dt]=[],He[Dt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},$o(Dt),me(Se[j])},Jo=function(f,w){var R,G,ie;switch(r=w||r,typeof f=="string"&&(R=x(f.toLowerCase()),Array.isArray(R)&&(G=R[0],ie=R[1])),Array.isArray(f)&&(G=f[0]*qe,ie=f[1]*qe),isNaN(G)&&(G=a[0],ie=a[1]),(G>14400||ie>14400)&&(Ct.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),ie=Math.min(14400,ie)),a=[G,ie],r.substr(0,1)){case"l":ie>G&&(a=[ie,G]);break;case"p":G>ie&&(a=[ie,G])}Ka(a),ts(ro),M(wn),io!==0&&M(io+" J"),ao!==0&&M(ao+" j"),Ke.publish("addPage",{pageNumber:Dt})},_l=function(f){f>0&&f<=Dt&&(Se.splice(f,1),He.splice(f,1),Dt--,j>Dt&&(j=Dt),this.setPage(j))},$o=function(f){f>0&&f<=Dt&&(j=f)},Al=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},Xo=function(f,w,R){var G,ie=void 0;return R=R||{},f=f!==void 0?f:At[nt].fontName,w=w!==void 0?w:At[nt].fontStyle,G=f.toLowerCase(),ft[G]!==void 0&&ft[G][w]!==void 0?ie=ft[G][w]:ft[f]!==void 0&&ft[f][w]!==void 0?ie=ft[f][w]:R.disableWarning===!1&&Ct.warn("Unable to look up font label for font '"+f+"', '"+w+"'. Refer to getFontList() for available fonts."),ie||R.noFallback||(ie=ft.times[w])==null&&(ie=ft.times.normal),ie},Nl=p.__private__.putInfo=function(){var f=Ut(),w=function(G){return G};for(var R in v!==null&&(w=mr.encryptor(f,0)),M("<<"),M("/Producer ("+Br(w("jsPDF "+Ze.version))+")"),Ye)Ye.hasOwnProperty(R)&&Ye[R]&&M("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+Br(w(Ye[R]))+")");M("/CreationDate ("+Br(w(te))+")"),M(">>"),M("endobj")},Za=p.__private__.putCatalog=function(f){var w=(f=f||{}).rootDictionaryObjId||Rr;switch(Ut(),M("<<"),M("/Type /Catalog"),M("/Pages "+w+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+Ne;R.substr(R.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&M("/OpenAction [3 0 R /XYZ null null "+de(Ne)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}We&&M("/PageMode /"+We),Ke.publish("putCatalog"),M(">>"),M("endobj")},Sl=p.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(X+1)),M("/Root "+X+" 0 R"),M("/Info "+(X-1)+" 0 R"),v!==null&&M("/Encrypt "+mr.oid+" 0 R"),M("/ID [ <"+ae+"> <"+ae+"> ]"),M(">>")},Ll=p.__private__.putHeader=function(){M("%PDF-"+S),M("%ºß¬à")},kl=p.__private__.putXRef=function(){var f="0000000000";M("xref"),M("0 "+(X+1)),M("0000000000 65535 f ");for(var w=1;w<=X;w++)typeof ne[w]=="function"?M((f+ne[w]()).slice(-10)+" 00000 n "):ne[w]!==void 0?M((f+ne[w]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},Yn=p.__private__.buildDocument=function(){Ge(),me(le),Ke.publish("buildDocument"),Ll(),Ri(),Go(),Vo(),v!==null&&yl(),Nl(),Za();var f=oe;return kl(),Sl(),M("startxref"),M(""+f),M("%%EOF"),me(Se[j]),le.join(`
`)},la=p.__private__.getBlob=function(f){return new Blob([Be(f)],{type:"application/pdf"})},ua=p.output=p.__private__.output=bn(function(f,w){switch(typeof(w=w||{})=="string"?w={filename:w}:w.filename=w.filename||"generated.pdf",f){case void 0:return Yn();case"save":p.save(w.filename);break;case"arraybuffer":return Be(Yn());case"blob":return la(Yn());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(la(Yn()))||void 0;Ct.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",G=Yn();try{R=Du(G)}catch{R=Du(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+w.filename+";base64,"+R;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';w.pdfObjectUrl&&(ie=w.pdfObjectUrl,ye="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(w)+");<\/script></body></html>",Te=rt.open();return Te!==null&&Te.document.write(ke),Te}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(w.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+w.filename+'" width="500px" height="400px" /></body></html>',lt=rt.open();if(lt!==null){lt.document.write($e);var ot=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=w.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ot.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",w)+'"></iframe></body></html>',Ht=rt.open();if(Ht!==null&&(Ht.document.write(bt),Ht.document.title=w.filename),Ht||typeof safari>"u")return Ht;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",w);default:return null}}),Qo=function(f){return Array.isArray(or)===!0&&or.indexOf(f)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=Qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var mr=null;Ie(),K();var Pl=function(f){return v!==null?mr.encryptor(f,0):function(w){return w}},Ko=p.__private__.getPageInfo=p.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:He[f].objId,pageNumber:f,pageContext:He[f]}},it=p.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var w in He)if(He[w].objId===f)break;return Ko(w)},Cl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:He[j].objId,pageNumber:j,pageContext:He[j]}};p.addPage=function(){return Jo.apply(this,arguments),this},p.setPage=function(){return $o.apply(this,arguments),me.call(this,Se[j]),this},p.insertPage=function(f){return this.addPage(),this.movePage(j,f),this},p.movePage=function(f,w){var R,G;if(f>w){R=Se[f],G=He[f];for(var ie=f;ie>w;ie--)Se[ie]=Se[ie-1],He[ie]=He[ie-1];Se[w]=R,He[w]=G,this.setPage(w)}else if(f<w){R=Se[f],G=He[f];for(var ye=f;ye<w;ye++)Se[ye]=Se[ye+1],He[ye]=He[ye+1];Se[w]=R,He[w]=G,this.setPage(w)}return this},p.deletePage=function(){return _l.apply(this,arguments),this},p.__private__.text=p.text=function(f,w,R,G,ie){var ye,ke,Te,$e,lt,ot,bt,Ht,Wt,tr=(G=G||{}).scope||this;if(typeof f=="number"&&typeof w=="number"&&(typeof R=="string"||Array.isArray(R))){var yr=R;R=w,w=f,f=yr}if(arguments[3]instanceof Je?(B("The transform parameter of text() with a Matrix value"),Wt=ie):(Te=arguments[4],$e=arguments[5],Lt(bt=arguments[3])==="object"&&bt!==null||(typeof Te=="string"&&($e=Te,Te=null),typeof bt=="string"&&($e=bt,bt=null),typeof bt=="number"&&(Te=bt,bt=null),G={flags:bt,angle:Te,align:$e})),isNaN(w)||isNaN(R)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return tr;var lr="",xn=!1,Yr=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:Ti,Rn=tr.internal.scaleFactor;function ss(qt){return qt=qt.split("	").join(Array(G.TabLen||9).join(" ")),Br(qt,bt)}function co(qt){for(var Rt,Xt=qt.concat(),ir=[],Kn=Xt.length;Kn--;)typeof(Rt=Xt.shift())=="string"?ir.push(Rt):Array.isArray(qt)&&(Rt.length===1||Rt[1]===void 0&&Rt[2]===void 0)?ir.push(Rt[0]):ir.push([Rt[0],Rt[1],Rt[2]]);return ir}function fo(qt,Rt){var Xt;if(typeof qt=="string")Xt=Rt(qt)[0];else if(Array.isArray(qt)){for(var ir,Kn,wo=qt.concat(),Na=[],hs=wo.length;hs--;)typeof(ir=wo.shift())=="string"?Na.push(Rt(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(Kn=Rt(ir[0],ir[1],ir[2]),Na.push([Kn[0],Kn[1],Kn[2]]));Xt=Na}return Xt}var va=!1,ho=!0;if(typeof f=="string")va=!0;else if(Array.isArray(f)){var po=f.concat();ke=[];for(var ga,vr=po.length;vr--;)(typeof(ga=po.shift())!="string"||Array.isArray(ga)&&typeof ga[0]!="string")&&(ho=!1);va=ho}if(va===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var ma=ve/tr.internal.scaleFactor,ya=ma*(Yr-1);switch(G.baseline){case"bottom":R-=ya;break;case"top":R+=ma-ya;break;case"hanging":R+=ma-2*ya;break;case"middle":R+=ma/2-ya}if((ot=G.maxWidth||0)>0&&(typeof f=="string"?f=tr.splitTextToSize(f,ot):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(qt,Rt){return qt.concat(tr.splitTextToSize(Rt,ot))},[]))),ye={text:f,x:w,y:R,options:G,mutex:{pdfEscape:Br,activeFontKey:nt,fonts:At,activeFontSize:ve}},Ke.publish("preProcessText",ye),f=ye.text,Te=(G=ye.options).angle,!(Wt instanceof Je)&&Te&&typeof Te=="number"){Te*=Math.PI/180,G.rotationDirection===0&&(Te=-Te),U===E.ADVANCED&&(Te=-Te);var ba=Math.cos(Te),vo=Math.sin(Te);Wt=new Je(ba,vo,-vo,ba,0,0)}else Te&&Te instanceof Je&&(Wt=Te);U!==E.ADVANCED||Wt||(Wt=qr),(lt=G.charSpace||ha)!==void 0&&(lr+=Z(F(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ht=G.horizontalScale)!==void 0&&(lr+=Z(100*Ht)+` Tz
`),G.lang;var Tr=-1,Tl=G.renderingMode!==void 0?G.renderingMode:G.stroke,go=tr.internal.getCurrentPageInfo().pageContext;switch(Tl){case 0:case!1:case"fill":Tr=0;break;case 1:case!0:case"stroke":Tr=1;break;case 2:case"fillThenStroke":Tr=2;break;case 3:case"invisible":Tr=3;break;case 4:case"fillAndAddForClipping":Tr=4;break;case 5:case"strokeAndAddPathForClipping":Tr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Tr=6;break;case 7:case"addToPathForClipping":Tr=7}var ls=go.usedRenderingMode!==void 0?go.usedRenderingMode:-1;Tr!==-1?lr+=Tr+` Tr
`:ls!==-1&&(lr+=`0 Tr
`),Tr!==-1&&(go.usedRenderingMode=Tr),$e=G.align||"left";var nn,wa=ve*Yr,us=tr.internal.pageSize.getWidth(),cs=At[nt];lt=G.charSpace||ha,ot=G.maxWidth||0,bt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var hi=[],Ui=function(qt){return tr.getStringUnitWidth(qt,{font:cs,charSpace:lt,fontSize:ve,doKerning:!1})*ve/Rn};if(Object.prototype.toString.call(f)==="[object Array]"){var Mr;ke=co(f),$e!=="left"&&(nn=ke.map(Ui));var kr,di=0;if($e==="right"){w-=nn[0],f=[],vr=ke.length;for(var $n=0;$n<vr;$n++)$n===0?(kr=qn(w),Mr=Jn(R)):(kr=F(di-nn[$n]),Mr=-wa),f.push([ke[$n],kr,Mr]),di=nn[$n]}else if($e==="center"){w-=nn[0]/2,f=[],vr=ke.length;for(var Xn=0;Xn<vr;Xn++)Xn===0?(kr=qn(w),Mr=Jn(R)):(kr=F((di-nn[Xn])/2),Mr=-wa),f.push([ke[Xn],kr,Mr]),di=nn[Xn]}else if($e==="left"){f=[],vr=ke.length;for(var xa=0;xa<vr;xa++)f.push(ke[xa])}else if($e==="justify"&&cs.encoding==="Identity-H"){f=[],vr=ke.length,ot=ot!==0?ot:us;for(var Qn=0,$t=0;$t<vr;$t++)if(Mr=$t===0?Jn(R):-wa,kr=$t===0?qn(w):Qn,$t<vr-1){var mo=F((ot-nn[$t])/(ke[$t].split(" ").length-1)),Pr=ke[$t].split(" ");f.push([Pr[0]+" ",kr,Mr]),Qn=0;for(var an=1;an<Pr.length;an++){var _a=(Ui(Pr[an-1]+" "+Pr[an])-Ui(Pr[an]))*Rn+mo;an==Pr.length-1?f.push([Pr[an],_a,0]):f.push([Pr[an]+" ",_a,0]),Qn-=_a}}else f.push([ke[$t],kr,Mr]);f.push(["",Qn,0])}else{if($e!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],vr=ke.length,ot=ot!==0?ot:us,$t=0;$t<vr;$t++)Mr=$t===0?Jn(R):-wa,kr=$t===0?qn(w):0,$t<vr-1?hi.push(Z(F((ot-nn[$t])/(ke[$t].split(" ").length-1)))):hi.push(0),f.push([ke[$t],kr,Mr])}}var fs=typeof G.R2L=="boolean"?G.R2L:De;fs===!0&&(f=fo(f,function(qt,Rt,Xt){return[qt.split("").reverse().join(""),Rt,Xt]})),ye={text:f,x:w,y:R,options:G,mutex:{pdfEscape:Br,activeFontKey:nt,fonts:At,activeFontSize:ve}},Ke.publish("postProcessText",ye),f=ye.text,xn=ye.mutex.isHex||!1;var yo=At[nt].encoding;yo!=="WinAnsiEncoding"&&yo!=="StandardEncoding"||(f=fo(f,function(qt,Rt,Xt){return[ss(qt),Rt,Xt]})),ke=co(f),f=[];for(var Hi,Wi,pi,Vi=0,Aa=1,Gi=Array.isArray(ke[0])?Aa:Vi,vi="",bo=function(qt,Rt,Xt){var ir="";return Xt instanceof Je?(Xt=typeof G.angle=="number"?Lr(Xt,new Je(1,0,0,1,qt,Rt)):Lr(new Je(1,0,0,1,qt,Rt),Xt),U===E.ADVANCED&&(Xt=Lr(new Je(1,0,0,-1,0,0),Xt)),ir=Xt.join(" ")+` Tm
`):ir=Z(qt)+" "+Z(Rt)+` Td
`,ir},on=0;on<ke.length;on++){switch(vi="",Gi){case Aa:pi=(xn?"<":"(")+ke[on][0]+(xn?">":")"),Hi=parseFloat(ke[on][1]),Wi=parseFloat(ke[on][2]);break;case Vi:pi=(xn?"<":"(")+ke[on]+(xn?">":")"),Hi=qn(w),Wi=Jn(R)}hi!==void 0&&hi[on]!==void 0&&(vi=hi[on]+` Tw
`),on===0?f.push(vi+bo(Hi,Wi,Wt)+pi):Gi===Vi?f.push(vi+pi):Gi===Aa&&f.push(vi+bo(Hi,Wi,Wt)+pi)}f=Gi===Vi?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var sn=`BT
/`;return sn+=nt+" "+ve+` Tf
`,sn+=Z(ve*Yr)+` TL
`,sn+=Mi+`
`,sn+=lr,sn+=f,M(sn+="ET"),y[nt]=!0,tr};var Il=p.__private__.clip=p.clip=function(f){return M(f==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Il("evenodd")},p.__private__.discardPath=p.discardPath=function(){return M("n"),this};var On=p.__private__.isValidStyle=function(f){var w=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(w=!0),w};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(f){return On(f)&&(h=f),this};var Zo=p.__private__.getStyle=p.getStyle=function(f){var w=h;switch(f){case"D":case"S":w="S";break;case"F":w="f";break;case"FD":case"DF":w="B";break;case"f":case"f*":case"B":case"B*":w=f}return w},es=p.close=function(){return M("h"),this};p.stroke=function(){return M("S"),this},p.fill=function(f){return ca("f",f),this},p.fillEvenOdd=function(f){return ca("f*",f),this},p.fillStroke=function(f){return ca("B",f),this},p.fillStrokeEvenOdd=function(f){return ca("B*",f),this};var ca=function(f,w){Lt(w)==="object"?El(w,f):M(f)},eo=function(f){f===null||U===E.ADVANCED&&f===void 0||(f=Zo(f),M(f))};function Fl(f,w,R,G,ie){var ye=new qa(w||this.boundingBox,R||this.xStep,G||this.yStep,this.gState,ie||this.matrix);ye.stream=this.stream;var ke=f+"$$"+this.cloneIndex+++"$$";return sr(ke,ye),ye}var El=function(f,w){var R=mn[f.key],G=gt[R];if(G instanceof Xi)M("q"),M(jl(w)),G.gState&&p.setGState(G.gState),M(f.matrix.toString()+" cm"),M("/"+R+" sh"),M("Q");else if(G instanceof qa){var ie=new Je(1,0,0,-1,0,fi());f.matrix&&(ie=ie.multiply(f.matrix||qr),R=Fl.call(G,f.key,f.boundingBox,f.xStep,f.yStep,ie).id),M("q"),M("/Pattern cs"),M("/"+R+" scn"),G.gState&&p.setGState(G.gState),M(w),M("Q")}},jl=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},to=p.moveTo=function(f,w){return M(Z(F(f))+" "+Z(T(w))+" m"),this},Bi=p.lineTo=function(f,w){return M(Z(F(f))+" "+Z(T(w))+" l"),this},ui=p.curveTo=function(f,w,R,G,ie,ye){return M([Z(F(f)),Z(T(w)),Z(F(R)),Z(T(G)),Z(F(ie)),Z(T(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!On(ie))throw new Error("Invalid arguments passed to jsPDF.line");return U===E.COMPAT?this.lines([[R-f,G-w]],f,w,[1,1],ie||"S"):this.lines([[R-f,G-w]],f,w,[1,1]).stroke()},p.__private__.lines=p.lines=function(f,w,R,G,ie,ye){var ke,Te,$e,lt,ot,bt,Ht,Wt,tr,yr,lr,xn;if(typeof f=="number"&&(xn=R,R=w,w=f,f=xn),G=G||[1,1],ye=ye||!1,isNaN(w)||isNaN(R)||!Array.isArray(f)||!Array.isArray(G)||!On(ie)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(to(w,R),ke=G[0],Te=G[1],lt=f.length,yr=w,lr=R,$e=0;$e<lt;$e++)(ot=f[$e]).length===2?(yr=ot[0]*ke+yr,lr=ot[1]*Te+lr,Bi(yr,lr)):(bt=ot[0]*ke+yr,Ht=ot[1]*Te+lr,Wt=ot[2]*ke+yr,tr=ot[3]*Te+lr,yr=ot[4]*ke+yr,lr=ot[5]*Te+lr,ui(bt,Ht,Wt,tr,yr,lr));return ye&&es(),eo(ie),this},p.path=function(f){for(var w=0;w<f.length;w++){var R=f[w],G=R.c;switch(R.op){case"m":to(G[0],G[1]);break;case"l":Bi(G[0],G[1]);break;case"c":ui.apply(this,G);break;case"h":es()}}return this},p.__private__.rect=p.rect=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!On(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return U===E.COMPAT&&(G=-G),M([Z(F(f)),Z(T(w)),Z(F(R)),Z(F(G)),"re"].join(" ")),eo(ie),this},p.__private__.triangle=p.triangle=function(f,w,R,G,ie,ye,ke){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||isNaN(ie)||isNaN(ye)||!On(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-f,G-w],[ie-R,ye-G],[f-ie,w-ye]],f,w,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(f,w,R,G,ie,ye,ke){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||isNaN(ie)||isNaN(ye)||!On(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Te=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*R),ye=Math.min(ye,.5*G),this.lines([[R-2*ie,0],[ie*Te,0,ie,ye-ye*Te,ie,ye],[0,G-2*ye],[0,ye*Te,-ie*Te,ye,-ie,ye],[2*ie-R,0],[-ie*Te,0,-ie,-ye*Te,-ie,-ye],[0,2*ye-G],[0,-ye*Te,ie*Te,-ye,ie,-ye]],f+ie,w,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!On(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*R,ke=4/3*(Math.SQRT2-1)*G;return to(f+R,w),ui(f+R,w-ke,f+ye,w-G,f,w-G),ui(f-ye,w-G,f-R,w-ke,f-R,w),ui(f-R,w+ke,f-ye,w+G,f,w+G),ui(f+ye,w+G,f+R,w+ke,f+R,w),eo(ie),this},p.__private__.circle=p.circle=function(f,w,R,G){if(isNaN(f)||isNaN(w)||isNaN(R)||!On(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,w,R,R,G)},p.setFont=function(f,w,R){return R&&(w=fe(w,R)),nt=Xo(f,w,{disableWarning:!1}),this};var Dl=p.__private__.getFont=p.getFont=function(){return At[Xo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var f,w,R={};for(f in ft)if(ft.hasOwnProperty(f))for(w in R[f]=[],ft[f])ft[f].hasOwnProperty(w)&&R[f].push(w);return R},p.addFont=function(f,w,R,G,ie){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(R=fe(R,G)),ie=ie||"Identity-H",Qa.call(this,f,w,R,ie)};var Ti,ro=t.lineWidth||.200025,fa=p.__private__.getLineWidth=p.getLineWidth=function(){return ro},ts=p.__private__.setLineWidth=p.setLineWidth=function(f){return ro=f,M(Z(F(f))+" w"),this};p.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(f,w){if(f=f||[],w=w||0,isNaN(w)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(R){return Z(F(R))}).join(" "),w=Z(F(w)),M("["+f+"] "+w+" d"),this};var rs=p.__private__.getLineHeight=p.getLineHeight=function(){return ve*Ti};p.__private__.getLineHeight=p.getLineHeight=function(){return ve*Ti};var ns=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(Ti=f),this},is=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ti};ns(t.lineHeight);var qn=p.__private__.getHorizontalCoordinate=function(f){return F(f)},Jn=p.__private__.getVerticalCoordinate=function(f){return U===E.ADVANCED?f:He[j].mediaBox.topRightY-He[j].mediaBox.bottomLeftY-F(f)},Ol=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(f){return Z(qn(f))},ci=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(f){return Z(Jn(f))},wn=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Gr(wn)},p.__private__.setStrokeColor=p.setDrawColor=function(f,w,R,G){return wn=yn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"draw",precision:2}),M(wn),this};var no=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Gr(no)},p.__private__.setFillColor=p.setFillColor=function(f,w,R,G){return no=yn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"fill",precision:2}),M(no),this};var Mi=t.textColor||"0 g",ql=p.__private__.getTextColor=p.getTextColor=function(){return Gr(Mi)};p.__private__.setTextColor=p.setTextColor=function(f,w,R,G){return Mi=yn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"text",precision:3}),this};var ha=t.charSpace,Rl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ha||0)};p.__private__.setCharSpace=p.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=f,this};var io=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return io=w,M(w+" J"),this};var ao=0;p.__private__.setLineJoin=p.setLineJoin=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ao=w,M(w+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(Z(F(f))+" M"),this},p.GState=Ks,p.setGState=function(f){(f=typeof f=="string"?jt[dr[f]]:as(null,f)).equals(Wr)||(M("/"+f.id+" gs"),Wr=f)};var as=function(f,w){if(!f||!dr[f]){var R=!1;for(var G in jt)if(jt.hasOwnProperty(G)&&jt[G].equals(w)){R=!0;break}if(R)w=jt[G];else{var ie="GS"+(Object.keys(jt).length+1).toString(10);jt[ie]=w,w.id=ie}return f&&(dr[f]=w.id),Ke.publish("addGState",w),w}};p.addGState=function(f,w){return as(f,w),this},p.saveGraphicsState=function(){return M("q"),Mt.push({key:nt,size:ve,color:Mi}),this},p.restoreGraphicsState=function(){M("Q");var f=Mt.pop();return nt=f.key,ve=f.size,Mi=f.color,Wr=null,this},p.setCurrentTransformationMatrix=function(f){return M(f.toString()+" cm"),this},p.comment=function(f){return M("#"+f),this};var da=function(f,w){var R=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(ye){isNaN(ye)||(R=parseFloat(ye))}});var G=w||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(ye){isNaN(ye)||(G=parseFloat(ye))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(ye){ie=ye.toString()}}),this},oo=function(f,w,R,G){da.call(this,f,w),this.type="rect";var ie=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(ke){isNaN(ke)||(ie=parseFloat(ke))}});var ye=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(ke){isNaN(ke)||(ye=parseFloat(ke))}}),this},so=function(){this.page=Dt,this.currentPage=j,this.pages=Se.slice(0),this.pagesContext=He.slice(0),this.x=er,this.y=vt,this.matrix=hr,this.width=zi(j),this.height=fi(j),this.outputDestination=Ee,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Dt=this.page,j=this.currentPage,He=this.pagesContext,Se=this.pages,er=this.x,vt=this.y,hr=this.matrix,lo(j,this.width),uo(j,this.height),Ee=this.outputDestination};var os=function(f,w,R,G,ie){Sr.push(new so),Dt=j=0,Se=[],er=f,vt=w,hr=ie,Ka([R,G])},Bl=function(f){if(Nr[f])Sr.pop().restore();else{var w=new so,R="Xo"+(Object.keys(zt).length+1).toString(10);w.id=R,Nr[f]=R,zt[R]=w,Ke.publish("addFormObject",w),Sr.pop().restore()}};for(var pa in p.beginFormObject=function(f,w,R,G,ie){return os(f,w,R,G,ie),this},p.endFormObject=function(f){return Bl(f),this},p.doFormObject=function(f,w){var R=zt[Nr[f]];return M("q"),M(w.toString()+" cm"),M("/"+R.id+" Do"),M("Q"),this},p.getFormObject=function(f){var w=zt[Nr[f]];return{x:w.x,y:w.y,width:w.width,height:w.height,matrix:w.matrix}},p.save=function(f,w){return f=f||"generated.pdf",(w=w||{}).returnPromise=w.returnPromise||!1,w.returnPromise===!1?(Ji(la(Yn()),f),typeof Ji.unload=="function"&&rt.setTimeout&&setTimeout(Ji.unload,911),this):new Promise(function(R,G){try{var ie=Ji(la(Yn()),f);typeof Ji.unload=="function"&&rt.setTimeout&&setTimeout(Ji.unload,911),R(ie)}catch(ye){G(ye.message)}})},Ze.API)Ze.API.hasOwnProperty(pa)&&(pa==="events"&&Ze.API.events.length?function(f,w){var R,G,ie;for(ie=w.length-1;ie!==-1;ie--)R=w[ie][0],G=w[ie][1],f.subscribe.apply(f,[R].concat(typeof G=="function"?[G]:G))}(Ke,Ze.API.events):p[pa]=Ze.API[pa]);var zi=p.getPageWidth=function(f){return(He[f=f||j].mediaBox.topRightX-He[f].mediaBox.bottomLeftX)/qe},lo=p.setPageWidth=function(f,w){He[f].mediaBox.topRightX=w*qe+He[f].mediaBox.bottomLeftX},fi=p.getPageHeight=function(f){return(He[f=f||j].mediaBox.topRightY-He[f].mediaBox.bottomLeftY)/qe},uo=p.setPageHeight=function(f,w){He[f].mediaBox.topRightY=w*qe+He[f].mediaBox.bottomLeftY};return p.internal={pdfEscape:Br,getStyle:Zo,getFont:Dl,getFontSize:Le,getCharSpace:Rl,getTextColor:ql,getLineHeight:rs,getLineHeightFactor:is,getLineWidth:fa,write:Xe,getHorizontalCoordinate:qn,getVerticalCoordinate:Jn,getCoordinateString:Ol,getVerticalCoordinateString:ci,collections:{},newObject:Ut,newAdditionalObject:tn,newObjectDeferred:Ot,newObjectDeferredBegin:pr,getFilters:jn,putStream:rn,events:Ke,scaleFactor:qe,pageSize:{getWidth:function(){return zi(j)},setWidth:function(f){lo(j,f)},getHeight:function(){return fi(j)},setHeight:function(f){uo(j,f)}},encryptionOptions:v,encryption:mr,getEncryptor:Pl,output:ua,getNumberOfPages:Al,pages:Se,out:M,f2:de,f3:I,getPageInfo:Ko,getPageInfoByObjId:it,getCurrentPageInfo:Cl,getPDFVersion:L,Point:da,Rectangle:oo,Matrix:Je,hasHotfix:Qo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zi(j)},set:function(f){lo(j,f)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return fi(j)},set:function(f){uo(j,f)},enumerable:!0,configurable:!0}),xl.call(p,se),nt="F1",Jo(a,r),Ke.publish("initialized"),p}Da.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Da.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Da.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Da.prototype.processOwnerPassword=function(t,e){return qu(Ou(e).substr(0,5),t)},Da.prototype.encryptor=function(t,e){var r=Ou(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return qu(r,n)}},Ks.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Lt(t)!==Lt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ze.API={events:[]},Ze.version="3.0.1";var Gt=Ze.API,nc=1,ea=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ea=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},st=function(t){return t.toFixed(2)},Si=function(t){return t.toFixed(5)};Gt.__acroform__={};var Hr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Kc=function(t){return t*nc},Tn=function(t){var e=new uh,r=Ue.internal.getHeight(t)||0,n=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(st(n)),Number(st(r))],e},Rp=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Bp=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Tp=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Qt=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tp(t,e-1)},Kt=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rp(t,e-1)},Zt=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bp(t,e-1)},Mp=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],u=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+u)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(st(c.lowerLeft_X)),Number(st(c.lowerLeft_Y)),Number(st(c.upperRight_X)),Number(st(c.upperRight_Y))]},zp=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Ru(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+st(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Tn(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Ru=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,s=Ue.internal.getHeight(t)||0;s=s<0?-s:s;var u=Ue.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(I,F,z){if(I+1<a.length){var T=F+" "+a[I+1][0];return Os(T,t,z).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var h,v,g=Os("3",t,i).height,y=t.multiline?s-i:(s-g)/2,p=y+=2,S=0,L=0,P=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Os(e,t,i=12).width+", FieldWidth:"+u+`
`;break}for(var x="",E=0,U=0;U<a.length;U++)if(a.hasOwnProperty(U)){var W=!1;if(a[U].length!==1&&P!==a[U].length-1){if((g+2)*(E+2)+2>s)continue e;x+=a[U][P],W=!0,L=U,U--}else{x=(x+=a[U][P]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var V=parseInt(U),fe=c(V,x,i),Z=U>=a.length-1;if(fe&&!Z){x+=" ",P=0;continue}if(fe||Z){if(Z)L=V;else if(t.multiline&&(g+2)*(E+2)+2>s)continue e}else{if(!t.multiline||(g+2)*(E+2)+2>s)continue e;L=V}}for(var B="",re=S;re<=L;re++){var de=a[re];if(t.multiline){if(re===L){B+=de[P]+" ",P=(P+1)%de.length;continue}if(re===S){B+=de[de.length-1]+" ";continue}}B+=de[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,v=Os(B,t,i).width,t.textAlign){case"right":h=u-v-2;break;case"center":h=(u-v)/2;break;case"left":default:h=2}e+=st(h)+" "+st(p)+` Td
`,e+="("+ea(B)+`) Tj
`,e+=-st(h)+` 0 Td
`,p=-(i+2),v=0,S=W?L:L+1,E++,x=""}break}return n.text=e,n.fontSize=i,n},Os=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Up={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hp=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Wp=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Lt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},Vp=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fn.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Up)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nc=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ch,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Hp(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var u=n[s],c=[],h=u.Rect;if(u.Rect&&(u.Rect=Mp(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Ue.createDefaultAppearanceStream(u),Lt(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var v=zp(u);c.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var p=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var S=p[s];typeof S=="function"&&(S=S.call(a,u)),g+="/"+s+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(a,u)),g+="/"+s+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:u.objId}),a.internal.out("endobj")}i&&Wp(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},lh=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Lt(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+ea(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},du=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ea(n(t))+")"},Un=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Un.prototype.toString=function(){return this.objId+" 0 R"},Un.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Un.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:lh(a,this.objId,this.scope)}):a instanceof Un?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var uh=function(){Un.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Hr(uh,Un);var ch=function(){Un.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ea(r(t))+")"}},set:function(r){t=r}})};Hr(ch,Un);var Fn=function t(){Un.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qt(e,3)},set:function(x){x?this.F=Kt(e,3):this.F=Zt(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Zs)return;i="FieldObject"+t.FieldNum++}var x=function(E){return E};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+ea(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/nc:h},set:function(x){h=x}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){v=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Zs||this instanceof Zi))return du(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof fr?y:du(y,this.objId,this.scope)},set:function(x){x=x.toString(),y=this instanceof fr?x:x.substr(0,1)==="("?Ea(x.substr(1,x.length-2)):Ea(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?Ea(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof fr?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fr?p:du(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof fr?x:x.substr(0,1)==="("?Ea(x.substr(1,x.length-2)):Ea(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?Ea(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof fr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(x){x=!!x,L=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(x){S=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,1)},set:function(x){x?this.Ff=Kt(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,2)},set:function(x){x?this.Ff=Kt(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,3)},set:function(x){x?this.Ff=Kt(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');P=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(P){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Hr(Fn,Un);var Ta=function(){Fn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lh(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,u){u||(u=1);for(var c,h=[];c=s.exec(i);)h.push(c[u]);return h}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,18)},set:function(r){r?this.Ff=Kt(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Kt(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,20)},set:function(r){r?(this.Ff=Kt(this.Ff,20),e.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,22)},set:function(r){r?this.Ff=Kt(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,23)},set:function(r){r?this.Ff=Kt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,27)},set:function(r){r?this.Ff=Kt(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};Hr(Ta,Fn);var Ma=function(){Ta.call(this),this.fontName="helvetica",this.combo=!1};Hr(Ma,Ta);var za=function(){Ma.call(this),this.combo=!0};Hr(za,Ma);var Ms=function(){za.call(this),this.edit=!0};Hr(Ms,za);var fr=function(){Fn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,15)},set:function(r){r?this.Ff=Kt(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,16)},set:function(r){r?this.Ff=Kt(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,17)},set:function(r){r?this.Ff=Kt(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,26)},set:function(r){r?this.Ff=Kt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ea(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Lt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Hr(fr,Fn);var zs=function(){fr.call(this),this.pushButton=!0};Hr(zs,fr);var Ua=function(){fr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hr(Ua,fr);var Zs=function(){var t,e;Fn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ea(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Lt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hr(Zs,Fn),Ua.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ua.prototype.createOption=function(t){var e=new Zs;return e.Parent=this,e.optionName=t,this.Kids.push(e),Gp.call(this.scope,e),e};var Us=function(){fr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};Hr(Us,fr);var Zi=function(){Fn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,13)},set:function(e){e?this.Ff=Kt(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,21)},set:function(e){e?this.Ff=Kt(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,23)},set:function(e){e?this.Ff=Kt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,24)},set:function(e){e?this.Ff=Kt(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,25)},set:function(e){e?this.Ff=Kt(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,26)},set:function(e){e?this.Ff=Kt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hr(Zi,Fn);var Hs=function(){Zi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qt(this.Ff,14)},set:function(t){t?this.Ff=Kt(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};Hr(Hs,Zi);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=Ru(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+st(Ue.internal.getWidth(t))+" "+st(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+st(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Tn(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Ue.internal.getHeight(t),s=Ue.internal.getWidth(t),u=Ru(t,t.caption);return a.push("1 g"),a.push("0 0 "+st(s)+" "+st(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+st(s-1)+" "+st(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+st(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(Ue.internal.getWidth(t))+" "+st(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Tn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Ue.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Si(Ue.internal.getWidth(t)/2)+" "+Si(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ue.internal.Bezier_C).toFixed(5)),s=Number((n*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Si(Ue.internal.getWidth(t)/2)+" "+Si(Ue.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Si(Ue.internal.getWidth(t)/2)+" "+Si(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Si(Ue.internal.getWidth(t)/2)+" "+Si(Ue.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Tn(t);e.scope=t.scope;var r=[],n=Ue.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+st(Ue.internal.getWidth(t)-2)+" "+st(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(st(n.x1.x)+" "+st(n.x1.y)+" m"),r.push(st(n.x2.x)+" "+st(n.x2.y)+" l"),r.push(st(n.x4.x)+" "+st(n.x4.y)+" m"),r.push(st(n.x3.x)+" "+st(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=Ue.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+st(Ue.internal.getWidth(t))+" "+st(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+st(Ue.internal.getWidth(t)-2)+" "+st(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(st(r.x1.x)+" "+st(r.x1.y)+" m"),n.push(st(r.x2.x)+" "+st(r.x2.y)+" l"),n.push(st(r.x4.x)+" "+st(r.x4.y)+" m"),n.push(st(r.x3.x)+" "+st(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Tn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(Ue.internal.getWidth(t))+" "+st(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),r=Ue.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ue.internal.getWidth=function(t){var e=0;return Lt(t)==="object"&&(e=Kc(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return Lt(t)==="object"&&(e=Kc(t.Rect[3])),e};var Gp=Gt.addField=function(t){if(Vp(this,t),!(t instanceof Fn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=Ta,Gt.AcroFormListBox=Ma,Gt.AcroFormComboBox=za,Gt.AcroFormEditBox=Ms,Gt.AcroFormButton=fr,Gt.AcroFormPushButton=zs,Gt.AcroFormRadioButton=Ua,Gt.AcroFormCheckBox=Us,Gt.AcroFormTextField=Zi,Gt.AcroFormPasswordField=Hs,Gt.AcroFormAppearance=Ue,Gt.AcroForm={ChoiceField:Ta,ListBox:Ma,ComboBox:za,EditBox:Ms,Button:fr,PushButton:zs,RadioButton:Ua,CheckBox:Us,TextField:Zi,PasswordField:Hs,Appearance:Ue},Ze.AcroForm={ChoiceField:Ta,ListBox:Ma,ComboBox:za,EditBox:Ms,Button:fr,PushButton:zs,RadioButton:Ua,CheckBox:Us,TextField:Zi,PasswordField:Hs,Appearance:Ue};Ze.AcroForm;function fh(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,F){var z,T,te,ae,$,K=e;if((F=F||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(fe(I))for($ in r)for(te=r[$],z=0;z<te.length;z+=1){for(ae=!0,T=0;T<te[z].length;T+=1)if(te[z][T]!==void 0&&te[z][T]!==I[T]){ae=!1;break}if(ae===!0){K=$;break}}else for($ in r)for(te=r[$],z=0;z<te.length;z+=1){for(ae=!0,T=0;T<te[z].length;T+=1)if(te[z][T]!==void 0&&te[z][T]!==I.charCodeAt(T)){ae=!1;break}if(ae===!0){K=$;break}}return K===e&&F!==e&&(K=F),K},a=function I(F){for(var z=this.internal.write,T=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:F.width}),ae.push({key:"Height",value:F.height}),F.colorSpace===P.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===P.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var $="",K=0,he=F.transparency.length;K<he;K++)$+=F.transparency[K]+" "+F.transparency[K]+" ";ae.push({key:"Mask",value:"["+$+"]"})}F.sMask!==void 0&&ae.push({key:"SMask",value:F.objectId+1+" 0 R"});var pe=F.filter!==void 0?["/"+F.filter]:void 0;if(T({data:F.data,additionalKeyValues:ae,alreadyAppliedFilters:pe,objectId:F.objectId}),z("endobj"),"sMask"in F&&F.sMask!==void 0){var Ie="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,N={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Ie,data:F.sMask};"filter"in F&&(N.filter=F.filter),I.call(this,N)}if(F.colorSpace===P.INDEXED){var j=this.internal.newObject();T({data:B(new Uint8Array(F.palette)),objectId:j}),z("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var F in I)a.call(this,I[F])},s=function(){var I,F=this.internal.collections.addImage_images,z=this.internal.write;for(var T in F)z("/I"+(I=F[T]).index,I.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var I=this.internal.collections.addImage_images;return u.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(I){return typeof t["process"+I.toUpperCase()]=="function"},g=function(I){return Lt(I)==="object"&&I.nodeType===1},y=function(I,F){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var z=""+I.getAttribute("src");if(z.indexOf("data:image/")===0)return Fo(unescape(z).split("base64,").pop());var T=t.loadFile(z,!0);if(T!==void 0)return T}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var te;switch(F){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return Fo(I.toDataURL(te,1).split("base64,").pop())}},p=function(I){var F=this.internal.collections.addImage_images;if(F){for(var z in F)if(I===F[z].alias)return F[z]}},S=function(I,F,z){return I||F||(I=-96,F=-96),I<0&&(I=-1*z.width*72/I/this.internal.scaleFactor),F<0&&(F=-1*z.height*72/F/this.internal.scaleFactor),I===0&&(I=F*z.width/z.height),F===0&&(F=I*z.height/z.width),[I,F]},L=function(I,F,z,T,te,ae){var $=S.call(this,z,T,te),K=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,pe=c.call(this);if(z=$[0],T=$[1],pe[te.index]=te,ae){ae*=Math.PI/180;var Ie=Math.cos(ae),N=Math.sin(ae),j=function(H){return H.toFixed(4)},q=[j(Ie),j(N),j(-1*N),j(Ie),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,K(I),he(F+T),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([K(z),"0","0",K(T),"0","0","cm"].join(" "))):this.internal.write([K(z),"0","0",K(T),K(I),he(F+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(I){var F,z,T=0;if(typeof I=="string")for(z=I.length,F=0;F<z;F++)T=(T<<5)-T+I.charCodeAt(F),T|=0;else if(fe(I))for(z=I.byteLength/2,F=0;F<z;F++)T=(T<<5)-T+I[F],T|=0;return T},U=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var F=!0;return I.length===0&&(F=!1),I.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(F=!1),F},W=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var F=I.indexOf(",");return F<0?null:I.substring(0,F).trim().endsWith("base64")?I.substring(F+1):null},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return V()&&I instanceof ArrayBuffer};var fe=t.__addimage__.isArrayBufferView=function(I){return V()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},Z=t.__addimage__.binaryStringToUint8Array=function(I){for(var F=I.length,z=new Uint8Array(F),T=0;T<F;T++)z[T]=I.charCodeAt(T);return z},B=t.__addimage__.arrayBufferToBinaryString=function(I){for(var F="",z=fe(I)?I:new Uint8Array(I),T=0;T<z.length;T+=8192)F+=String.fromCharCode.apply(null,z.subarray(T,T+8192));return F};t.addImage=function(){var I,F,z,T,te,ae,$,K,he;if(typeof arguments[1]=="number"?(F=e,z=arguments[1],T=arguments[2],te=arguments[3],ae=arguments[4],$=arguments[5],K=arguments[6],he=arguments[7]):(F=arguments[1],z=arguments[2],T=arguments[3],te=arguments[4],ae=arguments[5],$=arguments[6],K=arguments[7],he=arguments[8]),Lt(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var pe=I;I=pe.imageData,F=pe.format||F||e,z=pe.x||z||0,T=pe.y||T||0,te=pe.w||pe.width||te,ae=pe.h||pe.height||ae,$=pe.alias||$,K=pe.compression||K,he=pe.rotation||pe.angle||he}var Ie=this.internal.getFilters();if(K===void 0&&Ie.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(z)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=re.call(this,I,F,$,K);return L.call(this,z,T,te,ae,N,he),this};var re=function(I,F,z,T){var te,ae,$;if(typeof I=="string"&&n(I)===e){I=unescape(I);var K=de(I,!1);(K!==""||(K=t.loadFile(I,!0))!==void 0)&&(I=K)}if(g(I)&&(I=y(I,F)),F=n(I,F),!v(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if((($=z)==null||$.length===0)&&(z=function(he){return typeof he=="string"||fe(he)?E(he):fe(he.data)?E(he.data):null}(I)),(te=p.call(this,z))||(V()&&(I instanceof Uint8Array||F==="RGBA"||(ae=I,I=Z(I))),te=this["process"+F.toUpperCase()](I,h.call(this),z,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in t.image_compression?he:x.NONE}(T),ae)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},de=t.__addimage__.convertBase64ToBinaryString=function(I,F){F=typeof F!="boolean"||F;var z,T="";if(typeof I=="string"){var te;z=(te=W(I))!==null&&te!==void 0?te:I;try{T=Fo(z)}catch(ae){if(F)throw U(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};t.getImageProperties=function(I){var F,z,T="";if(g(I)&&(I=y(I)),typeof I=="string"&&n(I)===e&&((T=de(I,!1))===""&&(T=t.loadFile(I)||""),I=T),z=n(I),!v(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!V()||I instanceof Uint8Array||(I=Z(I)),!(F=this["process"+z.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=z,F}})(Ze.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ze.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,v=!1,g=0;g<h.length&&!v;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(L.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",i+=" /Popup "+P.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(x(E))+") >>",L.content=i;var U=L.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(i+=" /Open true"),i+=" >>",P.content=i,this.internal.write(L.objId,"0 R",P.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var W=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var fe=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+fe+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(r),y:h(n),w:c(r+a),h:h(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,u,c=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var v=this.splitTextToSize(r,u).length;s=Math.ceil(h*v)}else u=c,s=h;return this.text(r,n,a,i),a+=.2*h,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-h,u,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},u=t.__arabicParser__.isArabicEndLetter=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(L){return s(L)&&a.indexOf(L.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=3};var v=t.__arabicParser__.arabicLetterHasMedialForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(L){var P=0,x=r,E="",U=0;for(P=0;P<L.length;P+=1)x[L.charCodeAt(P)]!==void 0?(U++,typeof(x=x[L.charCodeAt(P)])=="number"&&(E+=String.fromCharCode(x),x=r,U=0),P===L.length-1&&(x=r,E+=L.charAt(P-(U-1)),P-=U-1,U=0)):(x=r,E+=L.charAt(P-U),P-=U,U=0);return E};t.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&n[L.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(L,P,x){return s(L)?i(L)===!1?-1:!h(L)||!s(P)&&!s(x)||!s(x)&&u(P)||u(L)&&!s(P)||u(L)&&c(P)||u(L)&&u(P)?0:v(L)&&s(P)&&!u(P)&&s(x)&&h(x)?3:u(L)||!s(x)?1:2:-1},p=function(L){var P=0,x=0,E=0,U="",W="",V="",fe=(L=L||"").split("\\s+"),Z=[];for(P=0;P<fe.length;P+=1){for(Z.push(""),x=0;x<fe[P].length;x+=1)U=fe[P][x],W=fe[P][x-1],V=fe[P][x+1],s(U)?(E=y(U,W,V),Z[P]+=E!==-1?String.fromCharCode(e[U.charCodeAt(0)][E]):U):Z[P]+=U;Z[P]=g(Z[P])}return Z.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var L,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(P)){var E=0;for(x=[],E=0;E<P.length;E+=1)Array.isArray(P[E])?x.push([p(P[E][0]),P[E][1],P[E][2]]):x.push([p(P[E])]);L=x}else L=p(P);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};t.events.push(["preProcessText",S])}(Ze.API),Ze.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(L){c=L}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(L){S=L}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){n.call(this);var v=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,p=0,S=0,L=0,P=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=h.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(U,W){return U.concat(P.splitTextToSize(W,x))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)p<(L=this.getStringUnitWidth(c[E],{font:g})*v)&&(p=L);return p!==0&&(S=c.length),{w:p/=y,h:Math.max((S*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-v,c.y+v,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+v,{align:"center",baseline:"top",maxWidth:c.width-v-v}):this.text(c.text,c.x+v,c.y+v,{align:"left",baseline:"top",maxWidth:c.width-v-v})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,v,g,y){if(n.call(this),!v)throw new Error("No data for PDF table.");var p,S,L,P,x=[],E=[],U=[],W={},V={},fe=[],Z=[],B=(y=y||{}).autoSize||!1,re=y.printHeaders!==!1,de=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),F=typeof y.padding=="number"?y.padding:3,z=y.headerBackgroundColor||"#c8c8c8",T=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=re,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=T,this.setFontSize(de),g==null)E=x=Object.keys(v[0]),U=x.map(function(){return"left"});else if(Array.isArray(g)&&Lt(g[0])==="object")for(x=g.map(function(pe){return pe.name}),E=g.map(function(pe){return pe.prompt||pe.name||""}),U=g.map(function(pe){return pe.align||"left"}),p=0;p<g.length;p+=1)V[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(E=x=g,U=x.map(function(){return"left"}));if(B||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<x.length;p+=1){for(W[P=x[p]]=v.map(function(pe){return pe[P]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(E[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=W[P],this.setFont(void 0,"normal"),L=0;L<S.length;L+=1)fe.push(this.getTextDimensions(S[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[P]=Math.max.apply(null,fe)+F+F,fe=[]}if(re){var te={};for(p=0;p<x.length;p+=1)te[x[p]]={},te[x[p]].text=E[p],te[x[p]].align=U[p];var ae=u.call(this,te,V);Z=x.map(function(pe){return new i(c,h,V[pe],ae,te[pe].text,void 0,te[pe].align)}),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var $=g.reduce(function(pe,Ie){return pe[Ie.name]=Ie.align,pe},{});for(p=0;p<v.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:v[p]},this);var K=u.call(this,v[p],V);for(L=0;L<x.length;L+=1){var he=v[p][x[L]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:L,data:he},this),s.call(this,new i(c,h,V[x[L]],K,he,p+2,$[x[L]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var v=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var S=c[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[p]-v-v)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+v+v},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){v=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(v.y=this.internal.__cell__.margins.top||0,y.push(v)),v.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,v),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(Ze.API);var hh={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dh=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Bu=fh(dh),ph=[100,200,300,400,500,600,700,800,900],Yp=fh(ph);function Tu(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hh[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof Bu[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Zc(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Jp={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ef={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tf(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $p(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Jp,r.genericFontFamilies||{}),i=null,s=null,u=0;u<e.length;++u)if(a[(i=Tu(e[u])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+tf(i)+"' and default family '"+n+"'.");if(s=function(c,h){if(h[c])return h[c];var v=Bu[c],g=v<=Bu.normal?-1:1,y=Zc(h,dh,v,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(i.stretch,s),s=function(c,h){if(h[c])return h[c];for(var v=hh[c],g=0;g<v.length;++g)if(h[v[g]])return h[v[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var v=Yp[c],g=Zc(h,ph,v,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+tf(i)+"'.");return s}function rf(t){return t.trimLeft()}function Xp(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Qp(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qs,nf,af,pu=["times"];(function(t){var e,r,n,a,i,s,u,c,h,v=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new c,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new v}]);var g=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=N;Object.defineProperty(this,"pdf",{get:function(){return j}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(me){q=!!me}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(me){H=!!me}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(me){isNaN(me)||(X=me)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(me){isNaN(me)||(ne=me)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(me){var M;typeof me=="number"?M=[me,me,me,me]:((M=new Array(4))[0]=me[0],M[1]=me.length>=2?me[1]:M[0],M[2]=me.length>=3?me[2]:M[0],M[3]=me.length>=4?me[3]:M[1]),h.margin=M}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(me){le=me}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(me){oe=me}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(me){Pe=me}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(me){me instanceof v&&(h=me)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(me){h.path=me}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(me){Se=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var M;M=y(me),this.ctx.fillStyle=M.style,this.ctx.isFillTransparent=M.a===0,this.ctx.fillOpacity=M.a,this.pdf.setFillColor(M.r,M.g,M.b,{a:M.a}),this.pdf.setTextColor(M.r,M.g,M.b,{a:M.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var M=y(me);this.ctx.strokeStyle=M.style,this.ctx.isStrokeTransparent=M.a===0,this.ctx.strokeOpacity=M.a,M.a===0?this.pdf.setDrawColor(255,255,255):(M.a,this.pdf.setDrawColor(M.r,M.g,M.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var je=null;function Ee(me,M){if(je===null){var Xe=function(Be){var se=[];return Object.keys(Be).forEach(function(ve){Be[ve].forEach(function(Ne){var Le=null;switch(Ne){case"bold":Le={family:ve,weight:"bold"};break;case"italic":Le={family:ve,style:"italic"};break;case"bolditalic":Le={family:ve,weight:"bold",style:"italic"};break;case"":case"normal":Le={family:ve}}Le!==null&&(Le.ref={name:ve,style:Ne},se.push(Le))})}),se}(me.getFontList());je=function(Be){for(var se={},ve=0;ve<Be.length;++ve){var Ne=Tu(Be[ve]),Le=Ne.family,De=Ne.stretch,We=Ne.style,et=Ne.weight;se[Le]=se[Le]||{},se[Le][De]=se[Le][De]||{},se[Le][De][We]=se[Le][De][We]||{},se[Le][De][We][et]=Ne}return se}(Xe.concat(M))}return je}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(me){je=null,Ge=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var M;if(this.ctx.font=me,(M=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var Xe=M[1];M[2];var Be=M[3],se=M[4];M[5];var ve=M[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(se)[2];se=Math.floor(Ne==="px"?parseFloat(se)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(se)*this.pdf.getFontSize():parseFloat(se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(se);var Le=function(Ye){var nt,qe,er=[],vt=Ye.trim();if(vt==="")return pu;if(vt in ef)return[ef[vt]];for(;vt!=="";){switch(qe=null,nt=(vt=rf(vt)).charAt(0)){case'"':case"'":qe=Xp(vt.substring(1),nt);break;default:qe=Qp(vt)}if(qe===null||(er.push(qe[0]),(vt=rf(qe[1]))!==""&&vt.charAt(0)!==","))return pu;vt=vt.replace(/^,/,"")}return er}(ve);if(this.fontFaces){var De=$p(Ee(this.pdf,this.fontFaces),Le.map(function(Ye){return{family:Ye,stretch:"normal",weight:Be,style:Xe}}));this.pdf.setFont(De.ref.name,De.ref.style)}else{var We="";(Be==="bold"||parseInt(Be,10)>=700||Xe==="bold")&&(We="bold"),Xe==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var et="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Le.length;at++){if(this.pdf.internal.getFont(Le[at],We,{noFallback:!0,disableWarning:!0})!==void 0){et=Le[at];break}if(We==="bolditalic"&&this.pdf.internal.getFont(Le[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=Le[at],We="bold";else if(this.pdf.internal.getFont(Le[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=Le[at],We="normal";break}}if(et===""){for(var dt=0;dt<Le.length;dt++)if(tt[Le[dt]]){et=tt[Le[dt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,Ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,Ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};g.prototype.setLineDash=function(N){this.lineDash=N},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){W.call(this,"fill",!1)},g.prototype.stroke=function(){W.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(N,j){if(isNaN(N)||isNaN(j))throw Ct.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(N,j)},g.prototype.closePath=function(){var N=new s(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Lt(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){N=new s(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},g.prototype.lineTo=function(N,j){if(isNaN(N)||isNaN(j))throw Ct.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},g.prototype.quadraticCurveTo=function(N,j,q,H){if(isNaN(q)||isNaN(H)||isNaN(N)||isNaN(j))throw Ct.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(q,H)),ne=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},g.prototype.bezierCurveTo=function(N,j,q,H,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H))throw Ct.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new s(X,ne)),oe=this.ctx.transform.applyToPoint(new s(N,j)),Pe=this.ctx.transform.applyToPoint(new s(q,H));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:Pe.x,y2:Pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},g.prototype.arc=function(N,j,q,H,X,ne){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H)||isNaN(X))throw Ct.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new s(N,j));N=le.x,j=le.y;var oe=this.ctx.transform.applyToPoint(new s(0,q)),Pe=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(oe.x-Pe.x,2)+Math.pow(oe.y-Pe.y,2))}Math.abs(X-H)>=2*Math.PI&&(H=0,X=2*Math.PI),this.path.push({type:"arc",x:N,y:j,radius:q,startAngle:H,endAngle:X,counterclockwise:ne})},g.prototype.arcTo=function(N,j,q,H,X){throw new Error("arcTo not implemented.")},g.prototype.rect=function(N,j,q,H){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H))throw Ct.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,j),this.lineTo(N+q,j),this.lineTo(N+q,j+H),this.lineTo(N,j+H),this.lineTo(N,j),this.lineTo(N+q,j),this.lineTo(N,j)},g.prototype.fillRect=function(N,j,q,H){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H))throw Ct.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,j,q,H),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},g.prototype.strokeRect=function(N,j,q,H){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H))throw Ct.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(N,j,q,H),this.stroke())},g.prototype.clearRect=function(N,j,q,H){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H))throw Ct.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,j,q,H))},g.prototype.save=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},g.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(j),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(N){var j,q,H,X;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))j=0,q=0,H=0,X=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ne!==null)j=parseInt(ne[1]),q=parseInt(ne[2]),H=parseInt(ne[3]),X=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)j=parseInt(ne[1]),q=parseInt(ne[2]),H=parseInt(ne[3]),X=parseFloat(ne[4]);else{if(X=1,typeof N=="string"&&N.charAt(0)!=="#"){var le=new ah(N);N=le.ok?le.toHex():"#000000"}N.length===4?(j=N.substring(1,2),j+=j,q=N.substring(2,3),q+=q,H=N.substring(3,4),H+=H):(j=N.substring(1,3),q=N.substring(3,5),H=N.substring(5,7)),j=parseInt(j,16),q=parseInt(q,16),H=parseInt(H,16)}}return{r:j,g:q,b:H,a:X,style:N}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(N,j,q,H){if(isNaN(j)||isNaN(q)||typeof N!="string")throw Ct.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!p.call(this)){var X=K(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:N,x:j,y:q,scale:ne,angle:X,align:this.textAlign,maxWidth:H})}},g.prototype.strokeText=function(N,j,q,H){if(isNaN(j)||isNaN(q)||typeof N!="string")throw Ct.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){H=isNaN(H)?void 0:H;var X=K(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;F.call(this,{text:N,x:j,y:q,scale:ne,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:H})}},g.prototype.measureText=function(N){if(typeof N!="string")throw Ct.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,q=this.pdf.internal.scaleFactor,H=j.internal.getFontSize(),X=j.getStringUnitWidth(N)*H/j.internal.scaleFactor,ne=function(le){var oe=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new ne({width:X*=Math.round(96*q/72*1e4)/1e4})},g.prototype.scale=function(N,j){if(isNaN(N)||isNaN(j))throw Ct.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(N,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.rotate=function(N){if(isNaN(N))throw Ct.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new c(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},g.prototype.translate=function(N,j){if(isNaN(N)||isNaN(j))throw Ct.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,N,j);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.transform=function(N,j,q,H,X,ne){if(isNaN(N)||isNaN(j)||isNaN(q)||isNaN(H)||isNaN(X)||isNaN(ne))throw Ct.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(N,j,q,H,X,ne);this.ctx.transform=this.ctx.transform.multiply(le)},g.prototype.setTransform=function(N,j,q,H,X,ne){N=isNaN(N)?1:N,j=isNaN(j)?0:j,q=isNaN(q)?0:q,H=isNaN(H)?1:H,X=isNaN(X)?0:X,ne=isNaN(ne)?0:ne,this.ctx.transform=new c(N,j,q,H,X,ne)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(N,j,q,H,X,ne,le,oe,Pe){var Se=this.pdf.getImageProperties(N),je=1,Ee=1,Ge=1,me=1;H!==void 0&&oe!==void 0&&(Ge=oe/H,me=Pe/X,je=Se.width/H*oe/H,Ee=Se.height/X*Pe/X),ne===void 0&&(ne=j,le=q,j=0,q=0),H!==void 0&&oe===void 0&&(oe=H,Pe=X),H===void 0&&oe===void 0&&(oe=Se.width,Pe=Se.height);for(var M,Xe=this.ctx.transform.decompose(),Be=K(Xe.rotate.shx),se=new c,ve=(se=(se=(se=se.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new u(ne-j*Ge,le-q*me,H*je,X*Ee)),Ne=P.call(this,ve),Le=[],De=0;De<Ne.length;De+=1)Le.indexOf(Ne[De])===-1&&Le.push(Ne[De]);if(U(Le),this.autoPaging)for(var We=Le[0],et=Le[Le.length-1],tt=We;tt<et+1;tt++){this.pdf.setPage(tt);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=tt===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=tt===1?0:Ye+(tt-2)*nt;if(this.ctx.clip_path.length!==0){var er=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(M,this.posX+this.margin[3],-qe+dt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=er}var vt=JSON.parse(JSON.stringify(ve));vt=E([vt],this.posX+this.margin[3],-qe+dt+this.ctx.prevPageLastElemOffset)[0];var hr=(tt>We||tt<et)&&L.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,nt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Be),hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,Be)};var P=function(N,j,q){var H=[];j=j||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":H.push(Math.floor((N.y+X)/q)+1);break;case"arc":H.push(Math.floor((N.y+X-N.radius)/q)+1),H.push(Math.floor((N.y+X+N.radius)/q)+1);break;case"qct":var ne=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);H.push(Math.floor((ne.y+X)/q)+1),H.push(Math.floor((ne.y+ne.h+X)/q)+1);break;case"bct":var le=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);H.push(Math.floor((le.y+X)/q)+1),H.push(Math.floor((le.y+le.h+X)/q)+1);break;case"rect":H.push(Math.floor((N.y+X)/q)+1),H.push(Math.floor((N.y+N.h+X)/q)+1)}for(var oe=0;oe<H.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<H[oe];)x.call(this);return H},x=function(){var N=this.fillStyle,j=this.strokeStyle,q=this.font,H=this.lineCap,X=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=j,this.font=q,this.lineCap=H,this.lineWidth=X,this.lineJoin=ne},E=function(N,j,q){for(var H=0;H<N.length;H++)switch(N[H].type){case"bct":N[H].x2+=j,N[H].y2+=q;case"qct":N[H].x1+=j,N[H].y1+=q;case"mt":case"lt":case"arc":default:N[H].x+=j,N[H].y+=q}return N},U=function(N){return N.sort(function(j,q){return j-q})},W=function(N,j){for(var q,H,X=this.fillStyle,ne=this.strokeStyle,le=this.lineCap,oe=this.lineWidth,Pe=Math.abs(oe*this.ctx.transform.scaleX),Se=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ge=[],me=0;me<Ee.length;me++)if(Ee[me].x!==void 0)for(var M=P.call(this,Ee[me]),Xe=0;Xe<M.length;Xe+=1)Ge.indexOf(M[Xe])===-1&&Ge.push(M[Xe]);for(var Be=0;Be<Ge.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Ge[Be];)x.call(this);if(U(Ge),this.autoPaging)for(var se=Ge[0],ve=Ge[Ge.length-1],Ne=se;Ne<ve+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=X,this.strokeStyle=ne,this.lineCap=le,this.lineWidth=Pe,this.lineJoin=Se;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ne===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ne===1?0:We+(Ne-2)*et;if(this.ctx.clip_path.length!==0){var at=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset),V.call(this,N,!0),this.path=at}if(H=JSON.parse(JSON.stringify(je)),this.path=E(H,this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset),j===!1||Ne===0){var dt=(Ne>se||Ne<ve)&&L.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,et,null).clip().discardPath()),V.call(this,N,j),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=Pe,V.call(this,N,j),this.lineWidth=oe;this.path=je},V=function(N,j){if((N!=="stroke"||j||!S.call(this))&&(N==="stroke"||j||!p.call(this))){for(var q,H,X=[],ne=this.path,le=0;le<ne.length;le++){var oe=ne[le];switch(oe.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:oe,deltas:[],abs:[]});break;case"lt":var Pe=X.length;if(ne[le-1]&&!isNaN(ne[le-1].x)&&(q=[oe.x-ne[le-1].x,oe.y-ne[le-1].y],Pe>0)){for(;Pe>=0;Pe--)if(X[Pe-1].close!==!0&&X[Pe-1].begin!==!0){X[Pe-1].deltas.push(q),X[Pe-1].abs.push(oe);break}}break;case"bct":q=[oe.x1-ne[le-1].x,oe.y1-ne[le-1].y,oe.x2-ne[le-1].x,oe.y2-ne[le-1].y,oe.x-ne[le-1].x,oe.y-ne[le-1].y],X[X.length-1].deltas.push(q);break;case"qct":var Se=ne[le-1].x+2/3*(oe.x1-ne[le-1].x),je=ne[le-1].y+2/3*(oe.y1-ne[le-1].y),Ee=oe.x+2/3*(oe.x1-oe.x),Ge=oe.y+2/3*(oe.y1-oe.y),me=oe.x,M=oe.y;q=[Se-ne[le-1].x,je-ne[le-1].y,Ee-ne[le-1].x,Ge-ne[le-1].y,me-ne[le-1].x,M-ne[le-1].y],X[X.length-1].deltas.push(q);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(oe)}}H=j?null:N==="stroke"?"stroke":"fill";for(var Xe=!1,Be=0;Be<X.length;Be++)if(X[Be].arc)for(var se=X[Be].abs,ve=0;ve<se.length;ve++){var Ne=se[ve];Ne.type==="arc"?B.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,j,!Xe):z.call(this,Ne.x,Ne.y),Xe=!0}else if(X[Be].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(X[Be].begin!==!0){var Le=X[Be].start.x,De=X[Be].start.y;T.call(this,X[Be].deltas,Le,De),Xe=!0}H&&re.call(this,H),j&&de.call(this)}},fe=function(N){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-q;case"top":return N+j-q;case"hanging":return N+j-2*q;case"middle":return N+j/2-q;case"ideographic":return N;case"alphabetic":default:return N}},Z=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(j,q){this.colorStops.push([j,q])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(N,j,q,H,X,ne,le,oe,Pe){for(var Se=ae.call(this,q,H,X,ne),je=0;je<Se.length;je++){var Ee=Se[je];je===0&&(Pe?I.call(this,Ee.x1+N,Ee.y1+j):z.call(this,Ee.x1+N,Ee.y1+j)),te.call(this,N,j,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}oe?de.call(this):re.call(this,le)},re=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(N,j){this.pdf.internal.out(r(N)+" "+n(j)+" m")},F=function(N){var j;switch(N.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var q=this.pdf.getTextDimensions(N.text),H=fe.call(this,N.y),X=Z.call(this,H)-q.h,ne=this.ctx.transform.applyToPoint(new s(N.x,H)),le=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var Pe,Se,je,Ee=this.ctx.transform.applyToRectangle(new u(N.x,H,q.w,q.h)),Ge=oe.applyToRectangle(new u(N.x,X,q.w,q.h)),me=P.call(this,Ge),M=[],Xe=0;Xe<me.length;Xe+=1)M.indexOf(me[Xe])===-1&&M.push(me[Xe]);if(U(M),this.autoPaging)for(var Be=M[0],se=M[M.length-1],ve=Be;ve<se+1;ve++){this.pdf.setPage(ve);var Ne=ve===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],We=De-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],tt=et-this.margin[3],at=ve===1?0:Le+(ve-2)*We;if(this.ctx.clip_path.length!==0){var dt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Pe,this.posX+this.margin[3],-1*at+Ne),V.call(this,"fill",!0),this.path=dt}var Ye=E([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-at+Ne+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*N.scale),je=this.lineWidth,this.lineWidth=je*N.scale);var nt=this.autoPaging!=="text";if(nt||Ye.y+Ye.h<=De){if(nt||Ye.y>=Ne&&Ye.x<=et){var qe=nt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||et-Ye.x)[0],er=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-at+Ne+this.ctx.prevPageLastElemOffset)[0],vt=nt&&(ve>Be||ve<se)&&L.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,We,null).clip().discardPath()),this.pdf.text(qe,er.x,er.y,{angle:N.angle,align:j,renderingMode:N.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Ye.y<De&&(this.ctx.prevPageLastElemOffset+=De-Ye.y);N.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=je)}else N.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*N.scale),je=this.lineWidth,this.lineWidth=je*N.scale),this.pdf.text(N.text,ne.x+this.posX,ne.y+this.posY,{angle:N.angle,align:j,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=je)},z=function(N,j,q,H){q=q||0,H=H||0,this.pdf.internal.out(r(N+q)+" "+n(j+H)+" l")},T=function(N,j,q){return this.pdf.lines(N,j,q,null,null)},te=function(N,j,q,H,X,ne,le,oe){this.pdf.internal.out([e(a(q+N)),e(i(H+j)),e(a(X+N)),e(i(ne+j)),e(a(le+N)),e(i(oe+j)),"c"].join(" "))},ae=function(N,j,q,H){for(var X=2*Math.PI,ne=Math.PI/2;j>q;)j-=X;var le=Math.abs(q-j);le<X&&H&&(le=X-le);for(var oe=[],Pe=H?-1:1,Se=j;le>1e-5;){var je=Se+Pe*Math.min(le,ne);oe.push($.call(this,N,Se,je)),le-=Math.abs(je-Se),Se=je}return oe},$=function(N,j,q){var H=(q-j)/2,X=N*Math.cos(H),ne=N*Math.sin(H),le=X,oe=-ne,Pe=le*le+oe*oe,Se=Pe+le*X+oe*ne,je=4/3*(Math.sqrt(2*Pe*Se)-Se)/(le*ne-oe*X),Ee=le-je*oe,Ge=oe+je*le,me=Ee,M=-Ge,Xe=H+j,Be=Math.cos(Xe),se=Math.sin(Xe);return{x1:N*Math.cos(j),y1:N*Math.sin(j),x2:Ee*Be-Ge*se,y2:Ee*se+Ge*Be,x3:me*Be-M*se,y3:me*se+M*Be,x4:N*Math.cos(q),y4:N*Math.sin(q)}},K=function(N){return 180*N/Math.PI},he=function(N,j,q,H,X,ne){var le=N+.5*(q-N),oe=j+.5*(H-j),Pe=X+.5*(q-X),Se=ne+.5*(H-ne),je=Math.min(N,X,le,Pe),Ee=Math.max(N,X,le,Pe),Ge=Math.min(j,ne,oe,Se),me=Math.max(j,ne,oe,Se);return new u(je,Ge,Ee-je,me-Ge)},pe=function(N,j,q,H,X,ne,le,oe){var Pe,Se,je,Ee,Ge,me,M,Xe,Be,se,ve,Ne,Le,De,We=q-N,et=H-j,tt=X-q,at=ne-H,dt=le-X,Ye=oe-ne;for(Se=0;Se<41;Se++)Be=(M=(je=N+(Pe=Se/40)*We)+Pe*((Ge=q+Pe*tt)-je))+Pe*(Ge+Pe*(X+Pe*dt-Ge)-M),se=(Xe=(Ee=j+Pe*et)+Pe*((me=H+Pe*at)-Ee))+Pe*(me+Pe*(ne+Pe*Ye-me)-Xe),Se==0?(ve=Be,Ne=se,Le=Be,De=se):(ve=Math.min(ve,Be),Ne=Math.min(Ne,se),Le=Math.max(Le,Be),De=Math.max(De,se));return new u(Math.round(ve),Math.round(Ne),Math.round(Le-ve),Math.round(De-Ne))},Ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,j,q=(N=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:j}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ze.API),function(t){var e=function(i){var s,u,c,h,v,g,y,p,S,L;for(u=[],c=0,h=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;h>c;c+=4)(v=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(v=((v=((v=((v=(v-(L=v%85))/85)-(S=v%85))/85)-(p=v%85))/85)-(y=v%85))/85)%85,u.push(g+33,y+33,p+33,S+33,L+33)):u.push(122);return function(P,x){for(var E=x;E>0;E--)P.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},r=function(i){var s,u,c,h,v,g=String,y="length",p=255,S="charCodeAt",L="slice",P="replace";for(i[L](-2),i=i[L](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),c=[],h=0,v=(i+=s="uuuuu"[L](i[y]%5||5))[y];v>h;h+=5)u=52200625*(i[S](h)-33)+614125*(i[S](h+1)-33)+7225*(i[S](h+2)-33)+85*(i[S](h+3)-33)+(i[S](h+4)-33),c.push(p&u>>24,p&u>>16,p&u>>8,p&u);return function(x,E){for(var U=E;U>0;U--)x.pop()}(c,s[y]),g.fromCharCode.apply(g,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",c=0;c<i.length;c+=2)u+=String.fromCharCode("0x"+(i[c]+i[c+1]));return u},a=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return i=(s=ju(s)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(i,s){var u=0,c=i||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(c,h,v){var g=new XMLHttpRequest,y=0,p=function(S){var L=S.length,P=[],x=String.fromCharCode;for(y=0;y<L;y+=1)P.push(x(255&S.charCodeAt(y)));return P.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?v(p(this.responseText)):v(void 0)}),g.send(null),h&&g.status===200)return p(g.responseText)}(a,i,s)}catch{}return u}(e,r,n)},t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):Pu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):Pu(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var u=Lt(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(s,u){var c=document.createElement(s);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},i=function s(u){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,v){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)v!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,v));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var p=h[y],S=p.src.find(function(L){return L.format==="truetype"});S&&c.addFont(S.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var u=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(s=s||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,c,h){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,c,h){return this.setProgress(s?this.progress.val+s:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(s,u){var c=this;return this.thenCore(s,u,function(h,v){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,v).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(s,u,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),v=c.call(h,s,u);return i.convert(v,this.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(c){u=u.thenCore(c)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ze.getPageSize=function(s,u,c){if(Lt(s)==="object"){var h=s;s=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var v,g=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var p,S=0,L=0;if(y.hasOwnProperty(g))S=y[g][1]/v,L=y[g][0]/v;else try{S=c[1],L=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",L>S&&(p=L,L=S,S=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",S>L&&(p=L,L=S,S=p)}return{width:L,height:S,unit:u,k:v,orientation:s}},t.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Tu):null;var c=new i(u);return u.worker?c:c.from(s).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return af=t,this.internal.events.subscribe("postPutResources",function(){qs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qs+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+af+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qs!==void 0&&nf!==void 0&&this.internal.out("/Names <</JavaScript "+qs+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],u=n.exec(s);if(u!=null){var c=u[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,v=[];for(i=0;i<h;i++){var g=r.internal.newObject();v.push(g);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<v.length;i++)r.internal.write("(page_"+(i+1)+")"+v[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,u){var c,h=this.decode.DCT_DECODE,v=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,L={width:0,height:0,numcomponents:1},P=4;P<S;P+=2){if(P+=p,e.indexOf(g.charCodeAt(P+1))!==-1){y=256*g.charCodeAt(P+5)+g.charCodeAt(P+6),L={width:256*g.charCodeAt(P+7)+g.charCodeAt(P+8),height:y,numcomponents:g.charCodeAt(P+9)};break}p=256*g.charCodeAt(P+2)+g.charCodeAt(P+3)}return L}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}v={data:r,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:a}}return v}}(Ze.API);var ja,Rs,of,sf,lf,Kp=function(){var t,e,r;function n(i){var s,u,c,h,v,g,y,p,S,L,P,x,E,U;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),S=(function(){var W,V;for(V=[],W=0;W<4;++W)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*v/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,s-=4),i=(g!=null?g.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((L=c-this.transparency.indexed.length)>0)for(E=0;0<=L?E<L:E>L;0<=L?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":y=(P=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,P.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,P.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(U=this.colorType)===4||U===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,u;for(u=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),c=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function v(g,y,p,S){var L,P,x,E,U,W,V,fe,Z,B,re,de,I,F,z,T,te,ae,$,K,he,pe=Math.ceil((h.width-g)/p),Ie=Math.ceil((h.height-y)/S),N=h.width==pe&&h.height==Ie;for(F=s*pe,de=N?u:new Uint8Array(F*Ie),W=i.length,I=0,P=0;I<Ie&&c<W;){switch(i[c++]){case 0:for(E=te=0;te<F;E=te+=1)de[P++]=i[c++];break;case 1:for(E=ae=0;ae<F;E=ae+=1)L=i[c++],U=E<s?0:de[P-s],de[P++]=(L+U)%256;break;case 2:for(E=$=0;$<F;E=$+=1)L=i[c++],x=(E-E%s)/s,z=I&&de[(I-1)*F+x*s+E%s],de[P++]=(z+L)%256;break;case 3:for(E=K=0;K<F;E=K+=1)L=i[c++],x=(E-E%s)/s,U=E<s?0:de[P-s],z=I&&de[(I-1)*F+x*s+E%s],de[P++]=(L+Math.floor((U+z)/2))%256;break;case 4:for(E=he=0;he<F;E=he+=1)L=i[c++],x=(E-E%s)/s,U=E<s?0:de[P-s],I===0?z=T=0:(z=de[(I-1)*F+x*s+E%s],T=x&&de[(I-1)*F+(x-1)*s+E%s]),V=U+z-T,fe=Math.abs(V-U),B=Math.abs(V-z),re=Math.abs(V-T),Z=fe<=B&&fe<=re?U:B<=re?z:T,de[P++]=(L+Z)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!N){var j=((y+I*S)*h.width+g)*s,q=I*F;for(E=0;E<pe;E+=1){for(var H=0;H<s;H+=1)u[j++]=de[q++];j+=(p-1)*s}}I++}}return i=Ip(i),h.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),u},n.prototype.decodePalette=function(){var i,s,u,c,h,v,g,y,p;for(u=this.palette,v=this.transparency.indexed||[],h=new Uint8Array((v.length||0)+u.length),c=0,i=0,s=g=0,y=u.length;g<y;s=g+=3)h[c++]=u[s],h[c++]=u[s+1],h[c++]=u[s+2],h[c++]=(p=v[i++])!=null?p:255;return h},n.prototype.copyToImageData=function(i,s){var u,c,h,v,g,y,p,S,L,P,x;if(c=this.colors,L=null,u=this.hasAlphaChannel,this.palette.length&&(L=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,u=!0),S=(h=i.data||i).length,g=L||s,v=y=0,c===1)for(;v<S;)p=L?4*s[v/4]:y,P=g[p++],h[v++]=P,h[v++]=P,h[v++]=P,h[v++]=u?g[p++]:255,y=p;else for(;v<S;)p=L?4*s[v/4]:y,h[v++]=g[p++],h[v++]=g[p++],h[v++]=g[p++],h[v++]=u?g[p++]:255,y=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{e=rt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,u,c,h,v,g,y,p;if(this.animation){for(p=[],u=v=0,g=(y=this.animation.frames).length;v<g;u=++v)s=y[u],c=i.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,h),s.imageData=c,p.push(s.image=t(c));return p}},n.prototype.renderFrame=function(i,s){var u,c,h;return u=(c=this.animation.frames)[s],h=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var s,u,c,h,v,g,y=this;return u=0,g=this.animation,h=g.numFrames,c=g.frames,v=g.numPlays,(s=function(){var p,S;if(p=u++%h,S=c[p],y.renderFrame(i,p),h>1&&u/h<v)return y.animation._timeout=setTimeout(s,S.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zp(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var u=null,c=null;i&&(u=e,c=s,e+=3*s);var h=!0,v=[],g=0,y=null,p=0,S=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],(1&L)==0&&(y=null),p=L>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,W=t[e++],V=W>>6&1,fe=1<<(7&W)+1,Z=u,B=c,re=!1;W>>7&&(re=!0,Z=e,B=fe,e+=3*fe);var de=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}v.push({x:P,y:x,width:E,height:U,has_local_palette:re,palette_offset:Z,palette_size:B,data_offset:de,data_length:e-de,transparent_index:y,interlaced:!!V,delay:g,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=v.length)throw new Error("Frame index out of range.");return v[F]},this.decodeAndBlitFrameBGRA=function(F,z){var T=this.frameInfo(F),te=T.width*T.height,ae=new Uint8Array(te);uf(t,T.data_offset,ae,te);var $=T.palette_offset,K=T.transparent_index;K===null&&(K=256);var he=T.width,pe=r-he,Ie=he,N=4*(T.y*r+T.x),j=4*((T.y+T.height)*r+T.x),q=N,H=4*pe;T.interlaced===!0&&(H+=4*r*7);for(var X=8,ne=0,le=ae.length;ne<le;++ne){var oe=ae[ne];if(Ie===0&&(Ie=he,(q+=H)>=j&&(H=4*pe+4*r*(X-1),q=N+(he+pe)*(X<<1),X>>=1)),oe===K)q+=4;else{var Pe=t[$+3*oe],Se=t[$+3*oe+1],je=t[$+3*oe+2];z[q++]=je,z[q++]=Se,z[q++]=Pe,z[q++]=255}--Ie}},this.decodeAndBlitFrameRGBA=function(F,z){var T=this.frameInfo(F),te=T.width*T.height,ae=new Uint8Array(te);uf(t,T.data_offset,ae,te);var $=T.palette_offset,K=T.transparent_index;K===null&&(K=256);var he=T.width,pe=r-he,Ie=he,N=4*(T.y*r+T.x),j=4*((T.y+T.height)*r+T.x),q=N,H=4*pe;T.interlaced===!0&&(H+=4*r*7);for(var X=8,ne=0,le=ae.length;ne<le;++ne){var oe=ae[ne];if(Ie===0&&(Ie=he,(q+=H)>=j&&(H=4*pe+4*r*(X-1),q=N+(he+pe)*(X<<1),X>>=1)),oe===K)q+=4;else{var Pe=t[$+3*oe],Se=t[$+3*oe+1],je=t[$+3*oe+2];z[q++]=Pe,z[q++]=Se,z[q++]=je,z[q++]=255}--Ie}}}function uf(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,u=s+1,c=a+1,h=(1<<c)-1,v=0,g=0,y=0,p=t[e++],S=new Int32Array(4096),L=null;;){for(;v<16&&p!==0;)g|=t[e++]<<v,v+=8,p===1?p=t[e++]:--p;if(v<c)break;var P=g&h;if(g>>=c,v-=c,P!==i){if(P===s)break;for(var x=P<u?P:L,E=0,U=x;U>i;)U=S[U]>>8,++E;var W=U;if(y+E+(x!==P?1:0)>n)return void Ct.log("Warning, gif stream longer than expected.");r[y++]=W;var V=y+=E;for(x!==P&&(r[y++]=W),U=x;E--;)U=S[U],r[--V]=255&U,U>>=8;L!==null&&u<4096&&(S[u++]=L<<8|W,u>=h+1&&c<12&&(++c,h=h<<1|1)),L=P}else u=s+1,h=(1<<(c=a+1))-1,L=null}return y!==n&&Ct.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vu(t){var e,r,n,a,i,s=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),v=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),S=new Array(64),L=[],P=0,x=7,E=new Array(64),U=new Array(64),W=new Array(64),V=new Array(256),fe=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(N,j){for(var q=0,H=0,X=new Array,ne=1;ne<=16;ne++){for(var le=1;le<=N[ne];le++)X[j[H]]=[],X[j[H]][0]=q,X[j[H]][1]=ne,H++,q++;q*=2}return X}function $(N){for(var j=N[0],q=N[1]-1;q>=0;)j&1<<q&&(P|=1<<x),q--,--x<0&&(P==255?(K(255),K(0)):K(P),x=7,P=0)}function K(N){L.push(N)}function he(N){K(N>>8&255),K(255&N)}function pe(N,j,q,H,X){for(var ne,le=X[0],oe=X[240],Pe=function(se,ve){var Ne,Le,De,We,et,tt,at,dt,Ye,nt,qe=0;for(Ye=0;Ye<8;++Ye){Ne=se[qe],Le=se[qe+1],De=se[qe+2],We=se[qe+3],et=se[qe+4],tt=se[qe+5],at=se[qe+6];var er=Ne+(dt=se[qe+7]),vt=Ne-dt,hr=Le+at,At=Le-at,ft=De+tt,Mt=De-tt,gt=We+et,mn=We-et,jt=er+gt,dr=er-gt,Wr=hr+ft,Dt=hr-ft;se[qe]=jt+Wr,se[qe+4]=jt-Wr;var He=.707106781*(Dt+dr);se[qe+2]=dr+He,se[qe+6]=dr-He;var Ke=.382683433*((jt=mn+Mt)-(Dt=At+vt)),or=.5411961*jt+Ke,zt=1.306562965*Dt+Ke,Nr=.707106781*(Wr=Mt+At),Sr=vt+Nr,Je=vt-Nr;se[qe+5]=Je+or,se[qe+3]=Je-or,se[qe+1]=Sr+zt,se[qe+7]=Sr-zt,qe+=8}for(qe=0,Ye=0;Ye<8;++Ye){Ne=se[qe],Le=se[qe+8],De=se[qe+16],We=se[qe+24],et=se[qe+32],tt=se[qe+40],at=se[qe+48];var Lr=Ne+(dt=se[qe+56]),qr=Ne-dt,sr=Le+at,Ut=Le-at,Ot=De+tt,pr=De-tt,tn=We+et,Rr=We-et,Vr=Lr+tn,Gr=Lr-tn,yn=sr+Ot,jn=sr-Ot;se[qe]=Vr+yn,se[qe+32]=Vr-yn;var rn=.707106781*(jn+Gr);se[qe+16]=Gr+rn,se[qe+48]=Gr-rn;var Dn=.382683433*((Vr=Rr+pr)-(jn=Ut+qr)),Ri=.5411961*Vr+Dn,ta=1.306562965*jn+Dn,ra=.707106781*(yn=pr+Ut),na=qr+ra,ia=qr-ra;se[qe+40]=ia+Ri,se[qe+24]=ia-Ri,se[qe+8]=na+ta,se[qe+56]=na-ta,qe++}for(Ye=0;Ye<64;++Ye)nt=se[Ye]*ve[Ye],p[Ye]=nt>0?nt+.5|0:nt-.5|0;return p}(N,j),Se=0;Se<64;++Se)S[Z[Se]]=Pe[Se];var je=S[0]-q;q=S[0],je==0?$(H[0]):($(H[y[ne=32767+je]]),$(g[ne]));for(var Ee=63;Ee>0&&S[Ee]==0;)Ee--;if(Ee==0)return $(le),q;for(var Ge,me=1;me<=Ee;){for(var M=me;S[me]==0&&me<=Ee;)++me;var Xe=me-M;if(Xe>=16){Ge=Xe>>4;for(var Be=1;Be<=Ge;++Be)$(oe);Xe&=15}ne=32767+S[me],$(X[(Xe<<4)+y[ne]]),$(g[ne]),me++}return Ee!=63&&$(le),q}function Ie(N){N=Math.min(Math.max(N,1),100),i!=N&&(function(j){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var X=s((q[H]*j+50)/100);X=Math.min(Math.max(X,1),255),u[Z[H]]=X}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var oe=s((ne[le]*j+50)/100);oe=Math.min(Math.max(oe,1),255),c[Z[le]]=oe}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,je=0;je<8;je++)for(var Ee=0;Ee<8;Ee++)h[Se]=1/(u[Z[Se]]*Pe[je]*Pe[Ee]*8),v[Se]=1/(c[Z[Se]]*Pe[je]*Pe[Ee]*8),Se++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,j){j&&Ie(j),L=new Array,P=0,x=7,he(65496),he(65504),he(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),he(1),he(1),K(0),K(0),function(){he(65499),he(132),K(0);for(var Le=0;Le<64;Le++)K(u[Le]);K(1);for(var De=0;De<64;De++)K(c[De])}(),function(Le,De){he(65472),he(17),K(8),he(De),he(Le),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(N.width,N.height),function(){he(65476),he(418),K(0);for(var Le=0;Le<16;Le++)K(B[Le+1]);for(var De=0;De<=11;De++)K(re[De]);K(16);for(var We=0;We<16;We++)K(de[We+1]);for(var et=0;et<=161;et++)K(I[et]);K(1);for(var tt=0;tt<16;tt++)K(F[tt+1]);for(var at=0;at<=11;at++)K(z[at]);K(17);for(var dt=0;dt<16;dt++)K(T[dt+1]);for(var Ye=0;Ye<=161;Ye++)K(te[Ye])}(),he(65498),he(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var q=0,H=0,X=0;P=0,x=7,this.encode.displayName="_encode_";for(var ne,le,oe,Pe,Se,je,Ee,Ge,me,M=N.data,Xe=N.width,Be=N.height,se=4*Xe,ve=0;ve<Be;){for(ne=0;ne<se;){for(Se=se*ve+ne,Ee=-1,Ge=0,me=0;me<64;me++)je=Se+(Ge=me>>3)*se+(Ee=4*(7&me)),ve+Ge>=Be&&(je-=se*(ve+1+Ge-Be)),ne+Ee>=se&&(je-=ne+Ee-se+4),le=M[je++],oe=M[je++],Pe=M[je++],E[me]=(fe[le]+fe[oe+256>>0]+fe[Pe+512>>0]>>16)-128,U[me]=(fe[le+768>>0]+fe[oe+1024>>0]+fe[Pe+1280>>0]>>16)-128,W[me]=(fe[le+1280>>0]+fe[oe+1536>>0]+fe[Pe+1792>>0]>>16)-128;q=pe(E,h,q,e,n),H=pe(U,v,H,r,a),X=pe(W,v,X,r,a),ne+=32}ve+=8}if(x>=0){var Ne=[];Ne[1]=x+1,Ne[0]=(1<<x+1)-1,$(Ne)}return he(65497),new Uint8Array(L)},t=t||50,function(){for(var N=String.fromCharCode,j=0;j<256;j++)V[j]=N(j)}(),e=ae(B,re),r=ae(F,z),n=ae(de,I),a=ae(T,te),function(){for(var N=1,j=2,q=1;q<=15;q++){for(var H=N;H<j;H++)y[32767+H]=q,g[32767+H]=[],g[32767+H][1]=q,g[32767+H][0]=H;for(var X=-(j-1);X<=-N;X++)y[32767+X]=q,g[32767+X]=[],g[32767+X][1]=q,g[32767+X][0]=j-1+X;N<<=1,j<<=1}}(),function(){for(var N=0;N<256;N++)fe[N]=19595*N,fe[N+256>>0]=38470*N,fe[N+512>>0]=7471*N+32768,fe[N+768>>0]=-11059*N,fe[N+1024>>0]=-21709*N,fe[N+1280>>0]=32768*N+8421375,fe[N+1536>>0]=-27439*N,fe[N+1792>>0]=-5329*N}(),Ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cf(t){function e(B){if(!B)throw Error("assert :P")}function r(B,re,de){for(var I=0;4>I;I++)if(B[re+I]!=de.charCodeAt(I))return!0;return!1}function n(B,re,de,I,F){for(var z=0;z<F;z++)B[re+z]=de[I+z]}function a(B,re,de,I){for(var F=0;F<I;F++)B[re+F]=de}function i(B){return new Int32Array(B)}function s(B,re){for(var de=[],I=0;I<B;I++)de.push(new re);return de}function u(B,re){var de=[];return function I(F,z,T){for(var te=T[z],ae=0;ae<te&&(F.push(T.length>z+1?[]:new re),!(T.length<z+1));ae++)I(F[ae],z+1,T)}(de,0,B),de}var c=function(){var B=this;function re(o,l){for(var d=1<<l-1>>>0;o&d;)d>>>=1;return d?(o&d-1)+d:o}function de(o,l,d,m,b){e(!(m%d));do o[l+(m-=d)]=b;while(0<m)}function I(o,l,d,m,b){if(e(2328>=b),512>=b)var _=i(512);else if((_=i(b))==null)return 0;return function(A,k,C,D,Y,ue){var ce,ee,xe=k,ge=1<<C,J=i(16),Q=i(16);for(e(Y!=0),e(D!=null),e(A!=null),e(0<C),ee=0;ee<Y;++ee){if(15<D[ee])return 0;++J[D[ee]]}if(J[0]==Y)return 0;for(Q[1]=0,ce=1;15>ce;++ce){if(J[ce]>1<<ce)return 0;Q[ce+1]=Q[ce]+J[ce]}for(ee=0;ee<Y;++ee)ce=D[ee],0<D[ee]&&(ue[Q[ce]++]=ee);if(Q[15]==1)return(D=new F).g=0,D.value=ue[0],de(A,xe,1,ge,D),ge;var be,Ae=-1,we=ge-1,Me=0,Oe=1,Qe=1,Re=1<<C;for(ee=0,ce=1,Y=2;ce<=C;++ce,Y<<=1){if(Oe+=Qe<<=1,0>(Qe-=J[ce]))return 0;for(;0<J[ce];--J[ce])(D=new F).g=ce,D.value=ue[ee++],de(A,xe+Me,Y,Re,D),Me=re(Me,ce)}for(ce=C+1,Y=2;15>=ce;++ce,Y<<=1){if(Oe+=Qe<<=1,0>(Qe-=J[ce]))return 0;for(;0<J[ce];--J[ce]){if(D=new F,(Me&we)!=Ae){for(xe+=Re,be=1<<(Ae=ce)-C;15>Ae&&!(0>=(be-=J[Ae]));)++Ae,be<<=1;ge+=Re=1<<(be=Ae-C),A[k+(Ae=Me&we)].g=be+C,A[k+Ae].value=xe-k-Ae}D.g=ce-C,D.value=ue[ee++],de(A,xe+(Me>>C),Y,Re,D),Me=re(Me,ce)}}return Oe!=2*Q[15]-1?0:ge}(o,l,d,m,b,_)}function F(){this.value=this.g=0}function z(){this.value=this.g=0}function T(){this.G=s(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vr,z)}function te(o,l,d,m){e(o!=null),e(l!=null),e(2147483648>m),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=l,o.pa=d,o.Jd=l,o.Yc=d+m,o.Zc=4<=m?d+m-4+1:d,ne(o)}function ae(o,l){for(var d=0;0<l--;)d|=oe(o,128)<<l;return d}function $(o,l){var d=ae(o,l);return le(o)?-d:d}function K(o,l,d,m){var b,_=0;for(e(o!=null),e(l!=null),e(4294967288>m),o.Sb=m,o.Ra=0,o.u=0,o.h=0,4<m&&(m=4),b=0;b<m;++b)_+=l[d+b]<<8*b;o.Ra=_,o.bb=m,o.oa=l,o.pa=d}function he(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<ba-8>>>0,++o.bb,o.u-=8;q(o)&&(o.h=1,o.u=0)}function pe(o,l){if(e(0<=l),!o.h&&l<=ya){var d=j(o)&ma[l];return o.u+=l,he(o),d}return o.h=1,o.u=0}function Ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(o){return o.Ra>>>(o.u&ba-1)>>>0}function q(o){return e(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>ba}function H(o,l){o.u=l,o.h=q(o)}function X(o){o.u>=vo&&(e(o.u>=vo),he(o))}function ne(o){e(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(e(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function le(o){return ae(o,1)}function oe(o,l){var d=o.Ca;0>o.b&&ne(o);var m=o.b,b=d*l>>>8,_=(o.I>>>m>b)+0;for(_?(d-=b,o.I-=b+1<<m>>>0):d=b+1,m=d,b=0;256<=m;)b+=8,m>>=8;return m=7^b+Tr[m],o.b-=m,o.Ca=(d<<m)-1,_}function Pe(o,l,d){o[l+0]=d>>24&255,o[l+1]=d>>16&255,o[l+2]=d>>8&255,o[l+3]=d>>0&255}function Se(o,l){return o[l+0]<<0|o[l+1]<<8}function je(o,l){return Se(o,l)|o[l+2]<<16}function Ee(o,l){return Se(o,l)|Se(o,l+2)<<16}function Ge(o,l){var d=1<<l;return e(o!=null),e(0<l),o.X=i(d),o.X==null?0:(o.Mb=32-l,o.Xa=l,1)}function me(o,l){e(o!=null),e(l!=null),e(o.Xa==l.Xa),n(l.X,0,o.X,0,1<<l.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function Xe(o,l,d,m){e(d!=null),e(m!=null);var b=d[0],_=m[0];return b==0&&(b=(o*_+l/2)/l),_==0&&(_=(l*b+o/2)/o),0>=b||0>=_?0:(d[0]=b,m[0]=_,1)}function Be(o,l){return o+(1<<l)-1>>>l}function se(o,l){return((4278255360&o)+(4278255360&l)>>>0&4278255360)+((16711935&o)+(16711935&l)>>>0&16711935)>>>0}function ve(o,l){B[l]=function(d,m,b,_,A,k,C){var D;for(D=0;D<A;++D){var Y=B[o](k[C+D-1],b,_+D);k[C+D]=se(d[m+D],Y)}}}function Ne(){this.ud=this.hd=this.jd=0}function Le(o,l){return((4278124286&(o^l))>>>1)+(o&l)>>>0}function De(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function We(o,l){return De(o+(o-l+.5>>1))}function et(o,l,d){return Math.abs(l-d)-Math.abs(o-d)}function tt(o,l,d,m,b,_,A){for(m=_[A-1],d=0;d<b;++d)_[A+d]=m=se(o[l+d],m)}function at(o,l,d,m,b){var _;for(_=0;_<d;++_){var A=o[l+_],k=A>>8&255,C=16711935&(C=(C=16711935&A)+((k<<16)+k));m[b+_]=(4278255360&A)+C>>>0}}function dt(o,l){l.jd=o>>0&255,l.hd=o>>8&255,l.ud=o>>16&255}function Ye(o,l,d,m,b,_){var A;for(A=0;A<m;++A){var k=l[d+A],C=k>>>8,D=k,Y=255&(Y=(Y=k>>>16)+((o.jd<<24>>24)*(C<<24>>24)>>>5));D=255&(D=(D=D+((o.hd<<24>>24)*(C<<24>>24)>>>5))+((o.ud<<24>>24)*(Y<<24>>24)>>>5)),b[_+A]=(4278255360&k)+(Y<<16)+D}}function nt(o,l,d,m,b){B[l]=function(_,A,k,C,D,Y,ue,ce,ee){for(C=ue;C<ce;++C)for(ue=0;ue<ee;++ue)D[Y++]=b(k[m(_[A++])])},B[o]=function(_,A,k,C,D,Y,ue){var ce=8>>_.b,ee=_.Ea,xe=_.K[0],ge=_.w;if(8>ce)for(_=(1<<_.b)-1,ge=(1<<ce)-1;A<k;++A){var J,Q=0;for(J=0;J<ee;++J)J&_||(Q=m(C[D++])),Y[ue++]=b(xe[Q&ge]),Q>>=ce}else B["VP8LMapColor"+d](C,D,xe,ge,Y,ue,A,k,ee)}}function qe(o,l,d,m,b){for(d=l+d;l<d;){var _=o[l++];m[b++]=_>>16&255,m[b++]=_>>8&255,m[b++]=_>>0&255}}function er(o,l,d,m,b){for(d=l+d;l<d;){var _=o[l++];m[b++]=_>>16&255,m[b++]=_>>8&255,m[b++]=_>>0&255,m[b++]=_>>24&255}}function vt(o,l,d,m,b){for(d=l+d;l<d;){var _=(A=o[l++])>>16&240|A>>12&15,A=A>>0&240|A>>28&15;m[b++]=_,m[b++]=A}}function hr(o,l,d,m,b){for(d=l+d;l<d;){var _=(A=o[l++])>>16&248|A>>13&7,A=A>>5&224|A>>3&31;m[b++]=_,m[b++]=A}}function At(o,l,d,m,b){for(d=l+d;l<d;){var _=o[l++];m[b++]=_>>0&255,m[b++]=_>>8&255,m[b++]=_>>16&255}}function ft(o,l,d,m,b,_){if(_==0)for(d=l+d;l<d;)Pe(m,((_=o[l++])[0]>>24|_[1]>>8&65280|_[2]<<8&16711680|_[3]<<24)>>>0),b+=32;else n(m,b,o,l,d)}function Mt(o,l){B[l][0]=B[o+"0"],B[l][1]=B[o+"1"],B[l][2]=B[o+"2"],B[l][3]=B[o+"3"],B[l][4]=B[o+"4"],B[l][5]=B[o+"5"],B[l][6]=B[o+"6"],B[l][7]=B[o+"7"],B[l][8]=B[o+"8"],B[l][9]=B[o+"9"],B[l][10]=B[o+"10"],B[l][11]=B[o+"11"],B[l][12]=B[o+"12"],B[l][13]=B[o+"13"],B[l][14]=B[o+"0"],B[l][15]=B[o+"0"]}function gt(o){return o==Ul||o==Hl||o==ys||o==Wl}function mn(){this.eb=[],this.size=this.A=this.fb=0}function jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new jt,this.sd=null}function Wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function He(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function Ke(o,l){var d=o.T,m=l.ba.f.RGBA,b=m.eb,_=m.fb+o.ka*m.A,A=un[l.ba.S],k=o.y,C=o.O,D=o.f,Y=o.N,ue=o.ea,ce=o.W,ee=l.cc,xe=l.dc,ge=l.Mc,J=l.Nc,Q=o.ka,be=o.ka+o.T,Ae=o.U,we=Ae+1>>1;for(Q==0?A(k,C,null,null,D,Y,ue,ce,D,Y,ue,ce,b,_,null,null,Ae):(A(l.ec,l.fc,k,C,ee,xe,ge,J,D,Y,ue,ce,b,_-m.A,b,_,Ae),++d);Q+2<be;Q+=2)ee=D,xe=Y,ge=ue,J=ce,Y+=o.Rc,ce+=o.Rc,_+=2*m.A,A(k,(C+=2*o.fa)-o.fa,k,C,ee,xe,ge,J,D,Y,ue,ce,b,_-m.A,b,_,Ae);return C+=o.fa,o.j+be<o.o?(n(l.ec,l.fc,k,C,Ae),n(l.cc,l.dc,D,Y,we),n(l.Mc,l.Nc,ue,ce,we),d--):1&be||A(k,C,null,null,D,Y,ue,ce,D,Y,ue,ce,b,_+m.A,null,null,Ae),d}function or(o,l,d){var m=o.F,b=[o.J];if(m!=null){var _=o.U,A=l.ba.S,k=A==ms||A==ys;l=l.ba.f.RGBA;var C=[0],D=o.ka;C[0]=o.T,o.Kb&&(D==0?--C[0]:(--D,b[0]-=o.width),o.j+o.ka+o.T==o.o&&(C[0]=o.o-o.j-D));var Y=l.eb;D=l.fb+D*l.A,o=Rt(m,b[0],o.width,_,C,Y,D+(k?0:3),l.A),e(d==C),o&&gt(A)&&sn(Y,D,k,_,C,l.A)}return 0}function zt(o){var l=o.ma,d=l.ba.S,m=11>d,b=d==vs||d==gs||d==ms||d==zl||d==12||gt(d);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!ho(l.Oa,o,b?11:12))return 0;if(b&&gt(d)&&ke(),o.da)alert("todo:use_scaling");else{if(m){if(l.Ib=He,o.Kb){if(d=o.U+1>>1,l.memory=i(o.U+2*d),l.memory==null)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+o.U,l.Mc=l.cc,l.Nc=l.dc+d,l.Ib=Ke,ke()}}else alert("todo:EmitYUV");b&&(l.Jb=or,m&&ie())}if(m&&!dc){for(o=0;256>o;++o)Xh[o]=89858*(o-128)+ws>>bs,Zh[o]=-22014*(o-128)+ws,Kh[o]=-45773*(o-128),Qh[o]=113618*(o-128)+ws>>bs;for(o=_o;o<Yl;++o)l=76283*(o-16)+ws>>bs,ed[o-_o]=Yr(l,255),td[o-_o]=Yr(l+8>>4,15);dc=1}return 1}function Nr(o){var l=o.ma,d=o.U,m=o.T;return e(!(1&o.ka)),0>=d||0>=m?0:(d=l.Ib(o,l),l.Jb!=null&&l.Jb(o,l,d),l.Dc+=d,1)}function Sr(o){o.ma.memory=null}function Je(o,l,d,m){return pe(o,8)!=47?0:(l[0]=pe(o,14)+1,d[0]=pe(o,14)+1,m[0]=pe(o,1),pe(o,3)!=0?0:!o.h)}function Lr(o,l){if(4>o)return o+1;var d=o-2>>1;return(2+(1&o)<<d)+pe(l,d)+1}function qr(o,l){return 120<l?l-120:1<=(d=((d=qh[l-1])>>4)*o+(8-(15&d)))?d:1;var d}function sr(o,l,d){var m=j(d),b=o[l+=255&m].g-8;return 0<b&&(H(d,d.u+8),m=j(d),l+=o[l].value,l+=m&(1<<b)-1),H(d,d.u+o[l].g),o[l].value}function Ut(o,l,d){return d.g+=o.g,d.value+=o.value<<l>>>0,e(8>=d.g),o.g}function Ot(o,l,d){var m=o.xc;return e((l=m==0?0:o.vc[o.md*(d>>m)+(l>>m)])<o.Wb),o.Ya[l]}function pr(o,l,d,m){var b=o.ab,_=o.c*l,A=o.C;l=A+l;var k=d,C=m;for(m=o.Ta,d=o.Ua;0<b--;){var D=o.gc[b],Y=A,ue=l,ce=k,ee=C,xe=(C=m,k=d,D.Ea);switch(e(Y<ue),e(ue<=D.nc),D.hc){case 2:ls(ce,ee,(ue-Y)*xe,C,k);break;case 0:var ge=Y,J=ue,Q=C,be=k,Ae=(Re=D).Ea;ge==0&&(Tl(ce,ee,null,null,1,Q,be),tt(ce,ee+1,0,0,Ae-1,Q,be+1),ee+=Ae,be+=Ae,++ge);for(var we=1<<Re.b,Me=we-1,Oe=Be(Ae,Re.b),Qe=Re.K,Re=Re.w+(ge>>Re.b)*Oe;ge<J;){var xt=Qe,Nt=Re,wt=1;for(go(ce,ee,Q,be-Ae,1,Q,be);wt<Ae;){var mt=(wt&~Me)+we;mt>Ae&&(mt=Ae),(0,hi[xt[Nt++]>>8&15])(ce,ee+ +wt,Q,be+wt-Ae,mt-wt,Q,be+wt),wt=mt}ee+=Ae,be+=Ae,++ge&Me||(Re+=Oe)}ue!=D.nc&&n(C,k-xe,C,k+(ue-Y-1)*xe,xe);break;case 1:for(xe=ce,J=ee,Ae=(ce=D.Ea)-(be=ce&~(Q=(ee=1<<D.b)-1)),ge=Be(ce,D.b),we=D.K,D=D.w+(Y>>D.b)*ge;Y<ue;){for(Me=we,Oe=D,Qe=new Ne,Re=J+be,xt=J+ce;J<Re;)dt(Me[Oe++],Qe),Ui(Qe,xe,J,ee,C,k),J+=ee,k+=ee;J<xt&&(dt(Me[Oe++],Qe),Ui(Qe,xe,J,Ae,C,k),J+=Ae,k+=Ae),++Y&Q||(D+=ge)}break;case 3:if(ce==C&&ee==k&&0<D.b){for(J=C,ce=xe=k+(ue-Y)*xe-(be=(ue-Y)*Be(D.Ea,D.b)),ee=C,Q=k,ge=[],be=(Ae=be)-1;0<=be;--be)ge[be]=ee[Q+be];for(be=Ae-1;0<=be;--be)J[ce+be]=ge[be];nn(D,Y,ue,C,xe,C,k)}else nn(D,Y,ue,ce,ee,C,k)}k=m,C=d}C!=d&&n(m,d,k,C,_)}function tn(o,l){var d=o.V,m=o.Ba+o.c*o.C,b=l-o.C;if(e(l<=o.l.o),e(16>=b),0<b){var _=o.l,A=o.Ta,k=o.Ua,C=_.width;if(pr(o,b,d,m),b=k=[k],e((d=o.C)<(m=l)),e(_.v<_.va),m>_.o&&(m=_.o),d<_.j){var D=_.j-d;d=_.j,b[0]+=D*C}if(d>=m?d=0:(b[0]+=4*_.v,_.ka=d-_.j,_.U=_.va-_.v,_.T=m-d,d=1),d){if(k=k[0],11>(d=o.ca).S){var Y=d.f.RGBA,ue=(m=d.S,b=_.U,_=_.T,D=Y.eb,Y.A),ce=_;for(Y=Y.fb+o.Ma*Y.A;0<ce--;){var ee=A,xe=k,ge=b,J=D,Q=Y;switch(m){case ps:Mr(ee,xe,ge,J,Q);break;case vs:kr(ee,xe,ge,J,Q);break;case Ul:kr(ee,xe,ge,J,Q),sn(J,Q,0,ge,1,0);break;case ic:Xn(ee,xe,ge,J,Q);break;case gs:ft(ee,xe,ge,J,Q,1);break;case Hl:ft(ee,xe,ge,J,Q,1),sn(J,Q,0,ge,1,0);break;case ms:ft(ee,xe,ge,J,Q,0);break;case ys:ft(ee,xe,ge,J,Q,0),sn(J,Q,1,ge,1,0);break;case zl:di(ee,xe,ge,J,Q);break;case Wl:di(ee,xe,ge,J,Q),qt(J,Q,ge,1,0);break;case ac:$n(ee,xe,ge,J,Q);break;default:e(0)}k+=C,Y+=ue}o.Ma+=_}else alert("todo:EmitRescaledRowsYUVA");e(o.Ma<=d.height)}}o.C=l,e(o.C<=o.i)}function Rr(o){var l;if(0<o.ua)return 0;for(l=0;l<o.Wb;++l){var d=o.Ya[l].G,m=o.Ya[l].H;if(0<d[1][m[1]+0].g||0<d[2][m[2]+0].g||0<d[3][m[3]+0].g)return 0}return 1}function Vr(o,l,d,m,b,_){if(o.Z!=0){var A=o.qd,k=o.rd;for(e(mi[o.Z]!=null);l<d;++l)mi[o.Z](A,k,m,b,m,b,_),A=m,k=b,b+=_;o.qd=A,o.rd=k}}function Gr(o,l){var d=o.l.ma,m=d.Z==0||d.Z==1?o.l.j:o.C;if(m=o.C<m?m:o.C,e(l<=o.l.o),l>m){var b=o.l.width,_=d.ca,A=d.tb+b*m,k=o.V,C=o.Ba+o.c*m,D=o.gc;e(o.ab==1),e(D[0].hc==3),us(D[0],m,l,k,C,_,A),Vr(d,m,l,_,A,b)}o.C=o.Ma=l}function yn(o,l,d,m,b,_,A){var k=o.$/m,C=o.$%m,D=o.m,Y=o.s,ue=d+o.$,ce=ue;b=d+m*b;var ee=d+m*_,xe=280+Y.ua,ge=o.Pb?k:16777216,J=0<Y.ua?Y.Wa:null,Q=Y.wc,be=ue<ee?Ot(Y,C,k):null;e(o.C<_),e(ee<=b);var Ae=!1;e:for(;;){for(;Ae||ue<ee;){var we=0;if(k>=ge){var Me=ue-d;e((ge=o).Pb),ge.wd=ge.m,ge.xd=Me,0<ge.s.ua&&me(ge.s.Wa,ge.s.vb),ge=k+Bh}if(C&Q||(be=Ot(Y,C,k)),e(be!=null),be.Qb&&(l[ue]=be.qb,Ae=!0),!Ae)if(X(D),be.jc){we=D,Me=l;var Oe=ue,Qe=be.pd[j(we)&vr-1];e(be.jc),256>Qe.g?(H(we,we.u+Qe.g),Me[Oe]=Qe.value,we=0):(H(we,we.u+Qe.g-256),e(256<=Qe.value),we=Qe.value),we==0&&(Ae=!0)}else we=sr(be.G[0],be.H[0],D);if(D.h)break;if(Ae||256>we){if(!Ae)if(be.nd)l[ue]=(be.qb|we<<8)>>>0;else{if(X(D),Ae=sr(be.G[1],be.H[1],D),X(D),Me=sr(be.G[2],be.H[2],D),Oe=sr(be.G[3],be.H[3],D),D.h)break;l[ue]=(Oe<<24|Ae<<16|we<<8|Me)>>>0}if(Ae=!1,++ue,++C>=m&&(C=0,++k,A!=null&&k<=_&&!(k%16)&&A(o,k),J!=null))for(;ce<ue;)we=l[ce++],J.X[(506832829*we&4294967295)>>>J.Mb]=we}else if(280>we){if(we=Lr(we-256,D),Me=sr(be.G[4],be.H[4],D),X(D),Me=qr(m,Me=Lr(Me,D)),D.h)break;if(ue-d<Me||b-ue<we)break e;for(Oe=0;Oe<we;++Oe)l[ue+Oe]=l[ue+Oe-Me];for(ue+=we,C+=we;C>=m;)C-=m,++k,A!=null&&k<=_&&!(k%16)&&A(o,k);if(e(ue<=b),C&Q&&(be=Ot(Y,C,k)),J!=null)for(;ce<ue;)we=l[ce++],J.X[(506832829*we&4294967295)>>>J.Mb]=we}else{if(!(we<xe))break e;for(Ae=we-280,e(J!=null);ce<ue;)we=l[ce++],J.X[(506832829*we&4294967295)>>>J.Mb]=we;we=ue,e(!(Ae>>>(Me=J).Xa)),l[we]=Me.X[Ae],Ae=!0}Ae||e(D.h==q(D))}if(o.Pb&&D.h&&ue<b)e(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&me(o.s.vb,o.s.Wa);else{if(D.h)break e;A!=null&&A(o,k>_?_:k),o.a=0,o.$=ue-d}return 1}return o.a=3,0}function jn(o){e(o!=null),o.vc=null,o.yc=null,o.Ya=null;var l=o.Wa;l!=null&&(l.X=null),o.vb=null,e(o!=null)}function rn(){var o=new Bl;return o==null?null:(o.a=0,o.xb=lc,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),ls=at,Ui=Ye,Mr=qe,kr=er,di=vt,$n=hr,Xn=At,B.VP8LMapColor32b=wa,B.VP8LMapColor8b=cs,o)}function Dn(o,l,d,m,b){var _=1,A=[o],k=[l],C=m.m,D=m.s,Y=null,ue=0;e:for(;;){if(d)for(;_&&pe(C,1);){var ce=A,ee=k,xe=m,ge=1,J=xe.m,Q=xe.gc[xe.ab],be=pe(J,2);if(xe.Oc&1<<be)_=0;else{switch(xe.Oc|=1<<be,Q.hc=be,Q.Ea=ce[0],Q.nc=ee[0],Q.K=[null],++xe.ab,e(4>=xe.ab),be){case 0:case 1:Q.b=pe(J,3)+2,ge=Dn(Be(Q.Ea,Q.b),Be(Q.nc,Q.b),0,xe,Q.K),Q.K=Q.K[0];break;case 3:var Ae,we=pe(J,8)+1,Me=16<we?0:4<we?1:2<we?2:3;if(ce[0]=Be(Q.Ea,Me),Q.b=Me,Ae=ge=Dn(we,1,0,xe,Q.K)){var Oe,Qe=we,Re=Q,xt=1<<(8>>Re.b),Nt=i(xt);if(Nt==null)Ae=0;else{var wt=Re.K[0],mt=Re.w;for(Nt[0]=Re.K[0][0],Oe=1;Oe<1*Qe;++Oe)Nt[Oe]=se(wt[mt+Oe],Nt[Oe-1]);for(;Oe<4*xt;++Oe)Nt[Oe]=0;Re.K[0]=null,Re.K[0]=Nt,Ae=1}}ge=Ae;break;case 2:break;default:e(0)}_=ge}}if(A=A[0],k=k[0],_&&pe(C,1)&&!(_=1<=(ue=pe(C,4))&&11>=ue)){m.a=3;break e}var Pt;if(Pt=_)t:{var kt,ut,rr,zr=m,nr=A,Ur=k,St=ue,$r=d,Xr=zr.m,ur=zr.s,gr=[null],Cr=1,cn=0,Bn=Rh[St];r:for(;;){if($r&&pe(Xr,1)){var cr=pe(Xr,3)+2,ei=Be(nr,cr),Yi=Be(Ur,cr),Sa=ei*Yi;if(!Dn(ei,Yi,0,zr,gr))break r;for(gr=gr[0],ur.xc=cr,kt=0;kt<Sa;++kt){var yi=gr[kt]>>8&65535;gr[kt]=yi,yi>=Cr&&(Cr=yi+1)}}if(Xr.h)break r;for(ut=0;5>ut;++ut){var Vt=oc[ut];!ut&&0<St&&(Vt+=1<<St),cn<Vt&&(cn=Vt)}var Jl=s(Cr*Bn,F),gc=Cr,mc=s(gc,T);if(mc==null)var _s=null;else e(65536>=gc),_s=mc;var Ao=i(cn);if(_s==null||Ao==null||Jl==null){zr.a=1;break r}var As=Jl;for(kt=rr=0;kt<Cr;++kt){var An=_s[kt],La=An.G,ka=An.H,yc=0,Ns=1,bc=0;for(ut=0;5>ut;++ut){Vt=oc[ut],La[ut]=As,ka[ut]=rr,!ut&&0<St&&(Vt+=1<<St);i:{var Ss,$l=Vt,Ls=zr,No=Ao,id=As,ad=rr,Xl=0,bi=Ls.m,od=pe(bi,1);if(a(No,0,0,$l),od){var sd=pe(bi,1)+1,ld=pe(bi,1),wc=pe(bi,ld==0?1:8);No[wc]=1,sd==2&&(No[wc=pe(bi,8)]=1);var ks=1}else{var xc=i(19),_c=pe(bi,4)+4;if(19<_c){Ls.a=3;var Ps=0;break i}for(Ss=0;Ss<_c;++Ss)xc[Oh[Ss]]=pe(bi,3);var Ql=void 0,So=void 0,Ac=Ls,ud=xc,Cs=$l,Nc=No,Kl=0,wi=Ac.m,Sc=8,Lc=s(128,F);n:for(;I(Lc,0,7,ud,19);){if(pe(wi,1)){var cd=2+2*pe(wi,3);if((Ql=2+pe(wi,cd))>Cs)break n}else Ql=Cs;for(So=0;So<Cs&&Ql--;){X(wi);var kc=Lc[0+(127&j(wi))];H(wi,wi.u+kc.g);var Pa=kc.value;if(16>Pa)Nc[So++]=Pa,Pa!=0&&(Sc=Pa);else{var fd=Pa==16,Pc=Pa-16,hd=jh[Pc],Cc=pe(wi,Eh[Pc])+hd;if(So+Cc>Cs)break n;for(var dd=fd?Sc:0;0<Cc--;)Nc[So++]=dd}}Kl=1;break n}Kl||(Ac.a=3),ks=Kl}(ks=ks&&!bi.h)&&(Xl=I(id,ad,8,No,$l)),ks&&Xl!=0?Ps=Xl:(Ls.a=3,Ps=0)}if(Ps==0)break r;if(Ns&&Dh[ut]==1&&(Ns=As[rr].g==0),yc+=As[rr].g,rr+=Ps,3>=ut){var Lo,Zl=Ao[0];for(Lo=1;Lo<Vt;++Lo)Ao[Lo]>Zl&&(Zl=Ao[Lo]);bc+=Zl}}if(An.nd=Ns,An.Qb=0,Ns&&(An.qb=(La[3][ka[3]+0].value<<24|La[1][ka[1]+0].value<<16|La[2][ka[2]+0].value)>>>0,yc==0&&256>La[0][ka[0]+0].value&&(An.Qb=1,An.qb+=La[0][ka[0]+0].value<<8)),An.jc=!An.Qb&&6>bc,An.jc){var Is,ti=An;for(Is=0;Is<vr;++Is){var xi=Is,_i=ti.pd[xi],Fs=ti.G[0][ti.H[0]+xi];256<=Fs.value?(_i.g=Fs.g+256,_i.value=Fs.value):(_i.g=0,_i.value=0,xi>>=Ut(Fs,8,_i),xi>>=Ut(ti.G[1][ti.H[1]+xi],16,_i),xi>>=Ut(ti.G[2][ti.H[2]+xi],0,_i),Ut(ti.G[3][ti.H[3]+xi],24,_i))}}}ur.vc=gr,ur.Wb=Cr,ur.Ya=_s,ur.yc=Jl,Pt=1;break t}Pt=0}if(!(_=Pt)){m.a=3;break e}if(0<ue){if(D.ua=1<<ue,!Ge(D.Wa,ue)){m.a=1,_=0;break e}}else D.ua=0;var eu=m,Ic=A,pd=k,tu=eu.s,ru=tu.xc;if(eu.c=Ic,eu.i=pd,tu.md=Be(Ic,ru),tu.wc=ru==0?-1:(1<<ru)-1,d){m.xb=Vh;break e}if((Y=i(A*k))==null){m.a=1,_=0;break e}_=(_=yn(m,Y,0,A,k,k,null))&&!C.h;break e}return _?(b!=null?b[0]=Y:(e(Y==null),e(d)),m.$=0,d||jn(D)):jn(D),_}function Ri(o,l){var d=o.c*o.i,m=d+l+16*l;return e(o.c<=l),o.V=i(m),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+d+l,1)}function ta(o,l){var d=o.C,m=l-d,b=o.V,_=o.Ba+o.c*d;for(e(l<=o.l.o);0<m;){var A=16<m?16:m,k=o.l.ma,C=o.l.width,D=C*A,Y=k.ca,ue=k.tb+C*d,ce=o.Ta,ee=o.Ua;pr(o,A,b,_),Xt(ce,ee,Y,ue,D),Vr(k,d,d+A,Y,ue,C),m-=A,b+=A*o.c,d+=A}e(d==l),o.C=o.Ma=l}function ra(){this.ub=this.yd=this.td=this.Rb=0}function na(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Uo(){this.Yb=function(){var o=[];return function l(d,m,b){for(var _=b[m],A=0;A<_&&(d.push(b.length>m+1?[]:0),!(b.length<m+1));A++)l(d[A],m+1,b)}(o,0,[3,11]),o}()}function vl(){this.jb=i(3),this.Wc=u([4,8],Uo),this.Xc=u([4,17],Uo)}function gl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function aa(){this.ld=this.La=this.dd=this.tc=0}function Ho(){this.Na=this.la=0}function ml(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new aa),this.Y=0,this.ya=Array(new Xa),this.aa=0,this.l=new oa}function Wo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function bl(){this.cb=this.a=0,this.sc="",this.m=new Ie,this.Od=new ra,this.Kc=new na,this.ed=new gl,this.Qa=new ia,this.Ic=this.$c=this.Aa=0,this.D=new yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ie),this.ia=0,this.pb=s(4,ml),this.Pa=new vl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wo),this.Hd=0,this.rb=Array(new Ho),this.sb=0,this.wa=Array(new aa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xa),this.L=this.aa=0,this.gd=u([4,2],aa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wl(){var o=new bl;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,xo||(xo=Yo)),o}function Jt(o,l,d){return o.a==0&&(o.a=l,o.sc=d,o.cb=0),0}function Vo(o,l,d){return 3<=d&&o[l+0]==157&&o[l+1]==1&&o[l+2]==42}function Go(o,l){if(o==null)return 0;if(o.a=0,o.sc="OK",l==null)return Jt(o,2,"null VP8Io passed to VP8GetHeaders()");var d=l.data,m=l.w,b=l.ha;if(4>b)return Jt(o,7,"Truncated header.");var _=d[m+0]|d[m+1]<<8|d[m+2]<<16,A=o.Od;if(A.Rb=!(1&_),A.td=_>>1&7,A.yd=_>>4&1,A.ub=_>>5,3<A.td)return Jt(o,3,"Incorrect keyframe parameters.");if(!A.yd)return Jt(o,4,"Frame not displayable.");m+=3,b-=3;var k=o.Kc;if(A.Rb){if(7>b)return Jt(o,7,"cannot parse picture header");if(!Vo(d,m,b))return Jt(o,3,"Bad code word");k.c=16383&(d[m+4]<<8|d[m+3]),k.Td=d[m+4]>>6,k.i=16383&(d[m+6]<<8|d[m+5]),k.Ud=d[m+6]>>6,m+=7,b-=7,o.za=k.c+15>>4,o.Ub=k.i+15>>4,l.width=k.c,l.height=k.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,a((_=o.Pa).jb,0,255,_.jb.length),e((_=o.Qa)!=null),_.Cb=0,_.Bb=0,_.Fb=1,a(_.Zb,0,0,_.Zb.length),a(_.Lb,0,0,_.Lb)}if(A.ub>b)return Jt(o,7,"bad partition length");te(_=o.m,d,m,A.ub),m+=A.ub,b-=A.ub,A.Rb&&(k.Ld=le(_),k.Kd=le(_)),k=o.Qa;var C,D=o.Pa;if(e(_!=null),e(k!=null),k.Cb=le(_),k.Cb){if(k.Bb=le(_),le(_)){for(k.Fb=le(_),C=0;4>C;++C)k.Zb[C]=le(_)?$(_,7):0;for(C=0;4>C;++C)k.Lb[C]=le(_)?$(_,6):0}if(k.Bb)for(C=0;3>C;++C)D.jb[C]=le(_)?ae(_,8):255}else k.Bb=0;if(_.Ka)return Jt(o,3,"cannot parse segment header");if((k=o.ed).zd=le(_),k.Tb=ae(_,6),k.wb=ae(_,3),k.Pc=le(_),k.Pc&&le(_)){for(D=0;4>D;++D)le(_)&&(k.vd[D]=$(_,6));for(D=0;4>D;++D)le(_)&&(k.od[D]=$(_,6))}if(o.L=k.Tb==0?0:k.zd?1:2,_.Ka)return Jt(o,3,"cannot parse filter header");var Y=b;if(b=C=m,m=C+Y,k=Y,o.Xb=(1<<ae(o.m,2))-1,Y<3*(D=o.Xb))d=7;else{for(C+=3*D,k-=3*D,Y=0;Y<D;++Y){var ue=d[b+0]|d[b+1]<<8|d[b+2]<<16;ue>k&&(ue=k),te(o.Jc[+Y],d,C,ue),C+=ue,k-=ue,b+=3}te(o.Jc[+D],d,C,k),d=C<m?0:5}if(d!=0)return Jt(o,d,"cannot parse partitions");for(d=ae(C=o.m,7),b=le(C)?$(C,4):0,m=le(C)?$(C,4):0,k=le(C)?$(C,4):0,D=le(C)?$(C,4):0,C=le(C)?$(C,4):0,Y=o.Qa,ue=0;4>ue;++ue){if(Y.Cb){var ce=Y.Zb[ue];Y.Fb||(ce+=d)}else{if(0<ue){o.pb[ue]=o.pb[0];continue}ce=d}var ee=o.pb[ue];ee.Sc[0]=Vl[Yr(ce+b,127)],ee.Sc[1]=Gl[Yr(ce+0,127)],ee.Eb[0]=2*Vl[Yr(ce+m,127)],ee.Eb[1]=101581*Gl[Yr(ce+k,127)]>>16,8>ee.Eb[1]&&(ee.Eb[1]=8),ee.Qc[0]=Vl[Yr(ce+D,117)],ee.Qc[1]=Gl[Yr(ce+C,127)],ee.lc=ce+C}if(!A.Rb)return Jt(o,4,"Not a key frame.");for(le(_),A=o.Pa,d=0;4>d;++d){for(b=0;8>b;++b)for(m=0;3>m;++m)for(k=0;11>k;++k)D=oe(_,Hh[d][b][m][k])?ae(_,8):zh[d][b][m][k],A.Wc[d][b].Yb[m][k]=D;for(b=0;17>b;++b)A.Xc[d][b]=A.Wc[d][Wh[b]]}return o.kc=le(_),o.kc&&(o.Bd=ae(_,8)),o.cb=1}function Yo(o,l,d,m,b,_,A){var k=l[b].Yb[d];for(d=0;16>b;++b){if(!oe(o,k[d+0]))return b;for(;!oe(o,k[d+1]);)if(k=l[++b].Yb[0],d=0,b==16)return 16;var C=l[b+1].Yb;if(oe(o,k[d+2])){var D=o,Y=0;if(oe(D,(ce=k)[(ue=d)+3]))if(oe(D,ce[ue+6])){for(k=0,ue=2*(Y=oe(D,ce[ue+8]))+(ce=oe(D,ce[ue+9+Y])),Y=0,ce=Th[ue];ce[k];++k)Y+=Y+oe(D,ce[k]);Y+=3+(8<<ue)}else oe(D,ce[ue+7])?(Y=7+2*oe(D,165),Y+=oe(D,145)):Y=5+oe(D,159);else Y=oe(D,ce[ue+4])?3+oe(D,ce[ue+5]):2;k=C[2]}else Y=1,k=C[1];C=A+Mh[b],0>(D=o).b&&ne(D);var ue,ce=D.b,ee=(ue=D.Ca>>1)-(D.I>>ce)>>31;--D.b,D.Ca+=ee,D.Ca|=1,D.I-=(ue+1&ee)<<ce,_[C]=((Y^ee)-ee)*m[(0<b)+0]}return 16}function Qa(o){var l=o.rb[o.sb-1];l.la=0,l.Na=0,a(o.zc,0,0,o.zc.length),o.ja=0}function xl(o,l){if(o==null)return 0;if(l==null)return Jt(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!Go(o,l))return 0;if(e(o.cb),l.ac==null||l.ac(l)){l.ob&&(o.L=0);var d=xs[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=l.v-d>>4,o.zb=l.j-d>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=l.o+15+d>>4,o.Hb=l.va+15+d>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var m=o.ed;for(d=0;4>d;++d){var b;if(o.Qa.Cb){var _=o.Qa.Lb[d];o.Qa.Fb||(_+=m.Tb)}else _=m.Tb;for(b=0;1>=b;++b){var A=o.gd[d][b],k=_;if(m.Pc&&(k+=m.vd[0],b&&(k+=m.od[0])),0<(k=0>k?0:63<k?63:k)){var C=k;0<m.wb&&(C=4<m.wb?C>>2:C>>1)>9-m.wb&&(C=9-m.wb),1>C&&(C=1),A.dd=C,A.tc=2*k+C,A.ld=40<=k?2:15<=k?1:0}else A.tc=0;A.La=b}}}d=0}else Jt(o,6,"Frame setup failed"),d=o.a;if(d=d==0){if(d){o.$c=0,0<o.Aa||(o.Ic=nd);e:{d=o.Ic,m=4*(C=o.za);var D=32*C,Y=C+1,ue=0<o.L?C*(0<o.Aa?2:1):0,ce=(o.Aa==2?2:1)*C;if((A=m+832+(b=3*(16*d+xs[o.L])/2*D)+(_=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=A)d=0;else{if(A>o.Vb){if(o.Vb=0,o.Ec=i(A),o.Fc=0,o.Ec==null){d=Jt(o,1,"no memory during frame initialization.");break e}o.Vb=A}A=o.Ec,k=o.Fc,o.Ac=A,o.Bc=k,k+=m,o.Gd=s(D,Wo),o.Hd=0,o.rb=s(Y+1,Ho),o.sb=1,o.wa=ue?s(ue,aa):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=C),e(!0),o.oc=A,o.pc=k,k+=832,o.ya=s(ce,Xa),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=C),o.R=16*C,o.B=8*C,C=(D=xs[o.L])*o.R,D=D/2*o.B,o.sa=A,o.ta=k+C,o.qa=o.sa,o.ra=o.ta+16*d*o.R+D,o.Ha=o.qa,o.Ia=o.ra+8*d*o.B+D,o.$c=0,k+=b,o.mb=_?A:null,o.nb=_?k:null,e(k+_<=o.Fc+o.Vb),Qa(o),a(o.Ac,o.Bc,0,m),d=1}}if(d){if(l.ka=0,l.y=o.sa,l.O=o.ta,l.f=o.qa,l.N=o.ra,l.ea=o.Ha,l.Vd=o.Ia,l.fa=o.R,l.Rc=o.B,l.F=null,l.J=0,!hs){for(d=-255;255>=d;++d)ir[255+d]=0>d?-d:d;for(d=-1020;1020>=d;++d)Kn[1020+d]=-128>d?-128:127<d?127:d;for(d=-112;112>=d;++d)wo[112+d]=-16>d?-16:15<d?15:d;for(d=-255;510>=d;++d)Na[255+d]=0>d?0:255<d?255:d;hs=1}xa=Nl,Qn=_l,mo=$o,Pr=Al,an=Xo,$t=Jo,_a=no,fs=Mi,yo=Rl,Hi=io,Wi=ql,pi=ha,Vi=ao,Aa=as,Gi=is,vi=qn,bo=Jn,on=Ol,_n[0]=On,_n[1]=Sl,_n[2]=Cl,_n[3]=Il,_n[4]=Zo,_n[5]=ca,_n[6]=es,_n[7]=eo,_n[8]=El,_n[9]=Fl,gi[0]=Qo,gi[1]=kl,gi[2]=Yn,gi[3]=la,gi[4]=mr,gi[5]=Pl,gi[6]=Ko,Zn[0]=ui,Zn[1]=Ll,Zn[2]=jl,Zn[3]=to,Zn[4]=Ti,Zn[5]=Dl,Zn[6]=ro,d=1}else d=0}d&&(d=function(ee,xe){for(ee.M=0;ee.M<ee.Va;++ee.M){var ge,J=ee.Jc[ee.M&ee.Xb],Q=ee.m,be=ee;for(ge=0;ge<be.za;++ge){var Ae=Q,we=be,Me=we.Ac,Oe=we.Bc+4*ge,Qe=we.zc,Re=we.ya[we.aa+ge];if(we.Qa.Bb?Re.$b=oe(Ae,we.Pa.jb[0])?2+oe(Ae,we.Pa.jb[2]):oe(Ae,we.Pa.jb[1]):Re.$b=0,we.kc&&(Re.Ad=oe(Ae,we.Bd)),Re.Za=!oe(Ae,145)+0,Re.Za){var xt=Re.Ob,Nt=0;for(we=0;4>we;++we){var wt,mt=Qe[0+we];for(wt=0;4>wt;++wt){mt=Uh[Me[Oe+wt]][mt];for(var Pt=sc[oe(Ae,mt[0])];0<Pt;)Pt=sc[2*Pt+oe(Ae,mt[Pt])];mt=-Pt,Me[Oe+wt]=mt}n(xt,Nt,Me,Oe,4),Nt+=4,Qe[0+we]=mt}}else mt=oe(Ae,156)?oe(Ae,128)?1:3:oe(Ae,163)?2:0,Re.Ob[0]=mt,a(Me,Oe,mt,4),a(Qe,0,mt,4);Re.Dd=oe(Ae,142)?oe(Ae,114)?oe(Ae,183)?1:3:2:0}if(be.m.Ka)return Jt(ee,7,"Premature end-of-partition0 encountered.");for(;ee.ja<ee.za;++ee.ja){if(be=J,Ae=(Q=ee).rb[Q.sb-1],Me=Q.rb[Q.sb+Q.ja],ge=Q.ya[Q.aa+Q.ja],Oe=Q.kc?ge.Ad:0)Ae.la=Me.la=0,ge.Za||(Ae.Na=Me.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var kt,ut;if(Ae=Me,Me=be,Oe=Q.Pa.Xc,Qe=Q.ya[Q.aa+Q.ja],Re=Q.pb[Qe.$b],we=Qe.ad,xt=0,Nt=Q.rb[Q.sb-1],mt=wt=0,a(we,xt,0,384),Qe.Za)var rr=0,zr=Oe[3];else{Pt=i(16);var nr=Ae.Na+Nt.Na;if(nr=xo(Me,Oe[1],nr,Re.Eb,0,Pt,0),Ae.Na=Nt.Na=(0<nr)+0,1<nr)xa(Pt,0,we,xt);else{var Ur=Pt[0]+3>>3;for(Pt=0;256>Pt;Pt+=16)we[xt+Pt]=Ur}rr=1,zr=Oe[0]}var St=15&Ae.la,$r=15&Nt.la;for(Pt=0;4>Pt;++Pt){var Xr=1&$r;for(Ur=ut=0;4>Ur;++Ur)St=St>>1|(Xr=(nr=xo(Me,zr,nr=Xr+(1&St),Re.Sc,rr,we,xt))>rr)<<7,ut=ut<<2|(3<nr?3:1<nr?2:we[xt+0]!=0),xt+=16;St>>=4,$r=$r>>1|Xr<<7,wt=(wt<<8|ut)>>>0}for(zr=St,rr=$r>>4,kt=0;4>kt;kt+=2){for(ut=0,St=Ae.la>>4+kt,$r=Nt.la>>4+kt,Pt=0;2>Pt;++Pt){for(Xr=1&$r,Ur=0;2>Ur;++Ur)nr=Xr+(1&St),St=St>>1|(Xr=0<(nr=xo(Me,Oe[2],nr,Re.Qc,0,we,xt)))<<3,ut=ut<<2|(3<nr?3:1<nr?2:we[xt+0]!=0),xt+=16;St>>=2,$r=$r>>1|Xr<<5}mt|=ut<<4*kt,zr|=St<<4<<kt,rr|=(240&$r)<<kt}Ae.la=zr,Nt.la=rr,Qe.Hc=wt,Qe.Gc=mt,Qe.ia=43690&mt?0:Re.ia,Oe=!(wt|mt)}if(0<Q.L&&(Q.wa[Q.Y+Q.ja]=Q.gd[ge.$b][ge.Za],Q.wa[Q.Y+Q.ja].La|=!Oe),be.Ka)return Jt(ee,7,"Premature end-of-file encountered.")}if(Qa(ee),Q=xe,be=1,ge=(J=ee).D,Ae=0<J.L&&J.M>=J.zb&&J.M<=J.Va,J.Aa==0)e:{if(ge.M=J.M,ge.uc=Ae,fo(J,ge),be=1,ge=(ut=J.D).Nb,Ae=(mt=xs[J.L])*J.R,Me=mt/2*J.B,Pt=16*ge*J.R,Ur=8*ge*J.B,Oe=J.sa,Qe=J.ta-Ae+Pt,Re=J.qa,we=J.ra-Me+Ur,xt=J.Ha,Nt=J.Ia-Me+Ur,$r=(St=ut.M)==0,wt=St>=J.Va-1,J.Aa==2&&fo(J,ut),ut.uc)for(Xr=(nr=J).D.M,e(nr.D.uc),ut=nr.yb;ut<nr.Hb;++ut){rr=ut,zr=Xr;var ur=(gr=(Vt=nr).D).Nb;kt=Vt.R;var gr=gr.wa[gr.Y+rr],Cr=Vt.sa,cn=Vt.ta+16*ur*kt+16*rr,Bn=gr.dd,cr=gr.tc;if(cr!=0)if(e(3<=cr),Vt.L==1)0<rr&&vi(Cr,cn,kt,cr+4),gr.La&&on(Cr,cn,kt,cr),0<zr&&Gi(Cr,cn,kt,cr+4),gr.La&&bo(Cr,cn,kt,cr);else{var ei=Vt.B,Yi=Vt.qa,Sa=Vt.ra+8*ur*ei+8*rr,yi=Vt.Ha,Vt=Vt.Ia+8*ur*ei+8*rr;ur=gr.ld,0<rr&&(fs(Cr,cn,kt,cr+4,Bn,ur),Hi(Yi,Sa,yi,Vt,ei,cr+4,Bn,ur)),gr.La&&(pi(Cr,cn,kt,cr,Bn,ur),Aa(Yi,Sa,yi,Vt,ei,cr,Bn,ur)),0<zr&&(_a(Cr,cn,kt,cr+4,Bn,ur),yo(Yi,Sa,yi,Vt,ei,cr+4,Bn,ur)),gr.La&&(Wi(Cr,cn,kt,cr,Bn,ur),Vi(Yi,Sa,yi,Vt,ei,cr,Bn,ur))}}if(J.ia&&alert("todo:DitherRow"),Q.put!=null){if(ut=16*St,St=16*(St+1),$r?(Q.y=J.sa,Q.O=J.ta+Pt,Q.f=J.qa,Q.N=J.ra+Ur,Q.ea=J.Ha,Q.W=J.Ia+Ur):(ut-=mt,Q.y=Oe,Q.O=Qe,Q.f=Re,Q.N=we,Q.ea=xt,Q.W=Nt),wt||(St-=mt),St>Q.o&&(St=Q.o),Q.F=null,Q.J=null,J.Fa!=null&&0<J.Fa.length&&ut<St&&(Q.J=uo(J,Q,ut,St-ut),Q.F=J.mb,Q.F==null&&Q.F.length==0)){be=Jt(J,3,"Could not decode alpha data.");break e}ut<Q.j&&(mt=Q.j-ut,ut=Q.j,e(!(1&mt)),Q.O+=J.R*mt,Q.N+=J.B*(mt>>1),Q.W+=J.B*(mt>>1),Q.F!=null&&(Q.J+=Q.width*mt)),ut<St&&(Q.O+=Q.v,Q.N+=Q.v>>1,Q.W+=Q.v>>1,Q.F!=null&&(Q.J+=Q.v),Q.ka=ut-Q.j,Q.U=Q.va-Q.v,Q.T=St-ut,be=Q.put(Q))}ge+1!=J.Ic||wt||(n(J.sa,J.ta-Ae,Oe,Qe+16*J.R,Ae),n(J.qa,J.ra-Me,Re,we+8*J.B,Me),n(J.Ha,J.Ia-Me,xt,Nt+8*J.B,Me))}if(!be)return Jt(ee,6,"Output aborted.")}return 1}(o,l)),l.bc!=null&&l.bc(l),d&=1}return d?(o.cb=0,d):0}function bn(o,l,d,m,b){b=o[l+d+32*m]+(b>>3),o[l+d+32*m]=-256&b?0>b?0:255:b}function sa(o,l,d,m,b,_){bn(o,l,0,d,m+b),bn(o,l,1,d,m+_),bn(o,l,2,d,m-_),bn(o,l,3,d,m-b)}function Br(o){return(20091*o>>16)+o}function Ka(o,l,d,m){var b,_=0,A=i(16);for(b=0;4>b;++b){var k=o[l+0]+o[l+8],C=o[l+0]-o[l+8],D=(35468*o[l+4]>>16)-Br(o[l+12]),Y=Br(o[l+4])+(35468*o[l+12]>>16);A[_+0]=k+Y,A[_+1]=C+D,A[_+2]=C-D,A[_+3]=k-Y,_+=4,l++}for(b=_=0;4>b;++b)k=(o=A[_+0]+4)+A[_+8],C=o-A[_+8],D=(35468*A[_+4]>>16)-Br(A[_+12]),bn(d,m,0,0,k+(Y=Br(A[_+4])+(35468*A[_+12]>>16))),bn(d,m,1,0,C+D),bn(d,m,2,0,C-D),bn(d,m,3,0,k-Y),_++,m+=32}function Jo(o,l,d,m){var b=o[l+0]+4,_=35468*o[l+4]>>16,A=Br(o[l+4]),k=35468*o[l+1]>>16;sa(d,m,0,b+A,o=Br(o[l+1]),k),sa(d,m,1,b+_,o,k),sa(d,m,2,b-_,o,k),sa(d,m,3,b-A,o,k)}function _l(o,l,d,m,b){Ka(o,l,d,m),b&&Ka(o,l+16,d,m+4)}function $o(o,l,d,m){Qn(o,l+0,d,m,1),Qn(o,l+32,d,m+128,1)}function Al(o,l,d,m){var b;for(o=o[l+0]+4,b=0;4>b;++b)for(l=0;4>l;++l)bn(d,m,l,b,o)}function Xo(o,l,d,m){o[l+0]&&Pr(o,l+0,d,m),o[l+16]&&Pr(o,l+16,d,m+4),o[l+32]&&Pr(o,l+32,d,m+128),o[l+48]&&Pr(o,l+48,d,m+128+4)}function Nl(o,l,d,m){var b,_=i(16);for(b=0;4>b;++b){var A=o[l+0+b]+o[l+12+b],k=o[l+4+b]+o[l+8+b],C=o[l+4+b]-o[l+8+b],D=o[l+0+b]-o[l+12+b];_[0+b]=A+k,_[8+b]=A-k,_[4+b]=D+C,_[12+b]=D-C}for(b=0;4>b;++b)A=(o=_[0+4*b]+3)+_[3+4*b],k=_[1+4*b]+_[2+4*b],C=_[1+4*b]-_[2+4*b],D=o-_[3+4*b],d[m+0]=A+k>>3,d[m+16]=D+C>>3,d[m+32]=A-k>>3,d[m+48]=D-C>>3,m+=64}function Za(o,l,d){var m,b=l-32,_=Jr,A=255-o[b-1];for(m=0;m<d;++m){var k,C=_,D=A+o[l-1];for(k=0;k<d;++k)o[l+k]=C[D+o[b+k]];l+=32}}function Sl(o,l){Za(o,l,4)}function Ll(o,l){Za(o,l,8)}function kl(o,l){Za(o,l,16)}function Yn(o,l){var d;for(d=0;16>d;++d)n(o,l+32*d,o,l-32,16)}function la(o,l){var d;for(d=16;0<d;--d)a(o,l,o[l-1],16),l+=32}function ua(o,l,d){var m;for(m=0;16>m;++m)a(l,d+32*m,o,16)}function Qo(o,l){var d,m=16;for(d=0;16>d;++d)m+=o[l-1+32*d]+o[l+d-32];ua(m>>5,o,l)}function mr(o,l){var d,m=8;for(d=0;16>d;++d)m+=o[l-1+32*d];ua(m>>4,o,l)}function Pl(o,l){var d,m=8;for(d=0;16>d;++d)m+=o[l+d-32];ua(m>>4,o,l)}function Ko(o,l){ua(128,o,l)}function it(o,l,d){return o+2*l+d+2>>2}function Cl(o,l){var d,m=l-32;for(m=new Uint8Array([it(o[m-1],o[m+0],o[m+1]),it(o[m+0],o[m+1],o[m+2]),it(o[m+1],o[m+2],o[m+3]),it(o[m+2],o[m+3],o[m+4])]),d=0;4>d;++d)n(o,l+32*d,m,0,m.length)}function Il(o,l){var d=o[l-1],m=o[l-1+32],b=o[l-1+64],_=o[l-1+96];Pe(o,l+0,16843009*it(o[l-1-32],d,m)),Pe(o,l+32,16843009*it(d,m,b)),Pe(o,l+64,16843009*it(m,b,_)),Pe(o,l+96,16843009*it(b,_,_))}function On(o,l){var d,m=4;for(d=0;4>d;++d)m+=o[l+d-32]+o[l-1+32*d];for(m>>=3,d=0;4>d;++d)a(o,l+32*d,m,4)}function Zo(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],_=o[l-1-32],A=o[l+0-32],k=o[l+1-32],C=o[l+2-32],D=o[l+3-32];o[l+0+96]=it(m,b,o[l-1+96]),o[l+1+96]=o[l+0+64]=it(d,m,b),o[l+2+96]=o[l+1+64]=o[l+0+32]=it(_,d,m),o[l+3+96]=o[l+2+64]=o[l+1+32]=o[l+0+0]=it(A,_,d),o[l+3+64]=o[l+2+32]=o[l+1+0]=it(k,A,_),o[l+3+32]=o[l+2+0]=it(C,k,A),o[l+3+0]=it(D,C,k)}function es(o,l){var d=o[l+1-32],m=o[l+2-32],b=o[l+3-32],_=o[l+4-32],A=o[l+5-32],k=o[l+6-32],C=o[l+7-32];o[l+0+0]=it(o[l+0-32],d,m),o[l+1+0]=o[l+0+32]=it(d,m,b),o[l+2+0]=o[l+1+32]=o[l+0+64]=it(m,b,_),o[l+3+0]=o[l+2+32]=o[l+1+64]=o[l+0+96]=it(b,_,A),o[l+3+32]=o[l+2+64]=o[l+1+96]=it(_,A,k),o[l+3+64]=o[l+2+96]=it(A,k,C),o[l+3+96]=it(k,C,C)}function ca(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],_=o[l-1-32],A=o[l+0-32],k=o[l+1-32],C=o[l+2-32],D=o[l+3-32];o[l+0+0]=o[l+1+64]=_+A+1>>1,o[l+1+0]=o[l+2+64]=A+k+1>>1,o[l+2+0]=o[l+3+64]=k+C+1>>1,o[l+3+0]=C+D+1>>1,o[l+0+96]=it(b,m,d),o[l+0+64]=it(m,d,_),o[l+0+32]=o[l+1+96]=it(d,_,A),o[l+1+32]=o[l+2+96]=it(_,A,k),o[l+2+32]=o[l+3+96]=it(A,k,C),o[l+3+32]=it(k,C,D)}function eo(o,l){var d=o[l+0-32],m=o[l+1-32],b=o[l+2-32],_=o[l+3-32],A=o[l+4-32],k=o[l+5-32],C=o[l+6-32],D=o[l+7-32];o[l+0+0]=d+m+1>>1,o[l+1+0]=o[l+0+64]=m+b+1>>1,o[l+2+0]=o[l+1+64]=b+_+1>>1,o[l+3+0]=o[l+2+64]=_+A+1>>1,o[l+0+32]=it(d,m,b),o[l+1+32]=o[l+0+96]=it(m,b,_),o[l+2+32]=o[l+1+96]=it(b,_,A),o[l+3+32]=o[l+2+96]=it(_,A,k),o[l+3+64]=it(A,k,C),o[l+3+96]=it(k,C,D)}function Fl(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],_=o[l-1+96];o[l+0+0]=d+m+1>>1,o[l+2+0]=o[l+0+32]=m+b+1>>1,o[l+2+32]=o[l+0+64]=b+_+1>>1,o[l+1+0]=it(d,m,b),o[l+3+0]=o[l+1+32]=it(m,b,_),o[l+3+32]=o[l+1+64]=it(b,_,_),o[l+3+64]=o[l+2+64]=o[l+0+96]=o[l+1+96]=o[l+2+96]=o[l+3+96]=_}function El(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],_=o[l-1+96],A=o[l-1-32],k=o[l+0-32],C=o[l+1-32],D=o[l+2-32];o[l+0+0]=o[l+2+32]=d+A+1>>1,o[l+0+32]=o[l+2+64]=m+d+1>>1,o[l+0+64]=o[l+2+96]=b+m+1>>1,o[l+0+96]=_+b+1>>1,o[l+3+0]=it(k,C,D),o[l+2+0]=it(A,k,C),o[l+1+0]=o[l+3+32]=it(d,A,k),o[l+1+32]=o[l+3+64]=it(m,d,A),o[l+1+64]=o[l+3+96]=it(b,m,d),o[l+1+96]=it(_,b,m)}function jl(o,l){var d;for(d=0;8>d;++d)n(o,l+32*d,o,l-32,8)}function to(o,l){var d;for(d=0;8>d;++d)a(o,l,o[l-1],8),l+=32}function Bi(o,l,d){var m;for(m=0;8>m;++m)a(l,d+32*m,o,8)}function ui(o,l){var d,m=8;for(d=0;8>d;++d)m+=o[l+d-32]+o[l-1+32*d];Bi(m>>4,o,l)}function Dl(o,l){var d,m=4;for(d=0;8>d;++d)m+=o[l+d-32];Bi(m>>3,o,l)}function Ti(o,l){var d,m=4;for(d=0;8>d;++d)m+=o[l-1+32*d];Bi(m>>3,o,l)}function ro(o,l){Bi(128,o,l)}function fa(o,l,d){var m=o[l-d],b=o[l+0],_=3*(b-m)+Ml[1020+o[l-2*d]-o[l+d]],A=ds[112+(_+4>>3)];o[l-d]=Jr[255+m+ds[112+(_+3>>3)]],o[l+0]=Jr[255+b-A]}function ts(o,l,d,m){var b=o[l+0],_=o[l+d];return ln[255+o[l-2*d]-o[l-d]]>m||ln[255+_-b]>m}function rs(o,l,d,m){return 4*ln[255+o[l-d]-o[l+0]]+ln[255+o[l-2*d]-o[l+d]]<=m}function ns(o,l,d,m,b){var _=o[l-3*d],A=o[l-2*d],k=o[l-d],C=o[l+0],D=o[l+d],Y=o[l+2*d],ue=o[l+3*d];return 4*ln[255+k-C]+ln[255+A-D]>m?0:ln[255+o[l-4*d]-_]<=b&&ln[255+_-A]<=b&&ln[255+A-k]<=b&&ln[255+ue-Y]<=b&&ln[255+Y-D]<=b&&ln[255+D-C]<=b}function is(o,l,d,m){var b=2*m+1;for(m=0;16>m;++m)rs(o,l+m,d,b)&&fa(o,l+m,d)}function qn(o,l,d,m){var b=2*m+1;for(m=0;16>m;++m)rs(o,l+m*d,1,b)&&fa(o,l+m*d,1)}function Jn(o,l,d,m){var b;for(b=3;0<b;--b)is(o,l+=4*d,d,m)}function Ol(o,l,d,m){var b;for(b=3;0<b;--b)qn(o,l+=4,d,m)}function ci(o,l,d,m,b,_,A,k){for(_=2*_+1;0<b--;){if(ns(o,l,d,_,A))if(ts(o,l,d,k))fa(o,l,d);else{var C=o,D=l,Y=d,ue=C[D-2*Y],ce=C[D-Y],ee=C[D+0],xe=C[D+Y],ge=C[D+2*Y],J=27*(be=Ml[1020+3*(ee-ce)+Ml[1020+ue-xe]])+63>>7,Q=18*be+63>>7,be=9*be+63>>7;C[D-3*Y]=Jr[255+C[D-3*Y]+be],C[D-2*Y]=Jr[255+ue+Q],C[D-Y]=Jr[255+ce+J],C[D+0]=Jr[255+ee-J],C[D+Y]=Jr[255+xe-Q],C[D+2*Y]=Jr[255+ge-be]}l+=m}}function wn(o,l,d,m,b,_,A,k){for(_=2*_+1;0<b--;){if(ns(o,l,d,_,A))if(ts(o,l,d,k))fa(o,l,d);else{var C=o,D=l,Y=d,ue=C[D-Y],ce=C[D+0],ee=C[D+Y],xe=ds[112+((ge=3*(ce-ue))+4>>3)],ge=ds[112+(ge+3>>3)],J=xe+1>>1;C[D-2*Y]=Jr[255+C[D-2*Y]+J],C[D-Y]=Jr[255+ue+ge],C[D+0]=Jr[255+ce-xe],C[D+Y]=Jr[255+ee-J]}l+=m}}function no(o,l,d,m,b,_){ci(o,l,d,1,16,m,b,_)}function Mi(o,l,d,m,b,_){ci(o,l,1,d,16,m,b,_)}function ql(o,l,d,m,b,_){var A;for(A=3;0<A;--A)wn(o,l+=4*d,d,1,16,m,b,_)}function ha(o,l,d,m,b,_){var A;for(A=3;0<A;--A)wn(o,l+=4,1,d,16,m,b,_)}function Rl(o,l,d,m,b,_,A,k){ci(o,l,b,1,8,_,A,k),ci(d,m,b,1,8,_,A,k)}function io(o,l,d,m,b,_,A,k){ci(o,l,1,b,8,_,A,k),ci(d,m,1,b,8,_,A,k)}function ao(o,l,d,m,b,_,A,k){wn(o,l+4*b,b,1,8,_,A,k),wn(d,m+4*b,b,1,8,_,A,k)}function as(o,l,d,m,b,_,A,k){wn(o,l+4,1,b,8,_,A,k),wn(d,m+4,1,b,8,_,A,k)}function da(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function so(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function os(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new F}function Bl(){this.xb=this.a=0,this.l=new oa,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new os,this.ab=0,this.gc=s(4,so),this.Oc=0}function pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zi(o,l,d,m,b,_,A){for(o=o==null?0:o[l+0],l=0;l<A;++l)b[_+l]=o+d[m+l]&255,o=b[_+l]}function lo(o,l,d,m,b,_,A){var k;if(o==null)zi(null,null,d,m,b,_,A);else for(k=0;k<A;++k)b[_+k]=o[l+k]+d[m+k]&255}function fi(o,l,d,m,b,_,A){if(o==null)zi(null,null,d,m,b,_,A);else{var k,C=o[l+0],D=C,Y=C;for(k=0;k<A;++k)D=Y+(C=o[l+k])-D,Y=d[m+k]+(-256&D?0>D?0:255:D)&255,D=C,b[_+k]=Y}}function uo(o,l,d,m){var b=l.width,_=l.o;if(e(o!=null&&l!=null),0>d||0>=m||d+m>_)return null;if(!o.Cc){if(o.ga==null){var A;if(o.ga=new pa,(A=o.ga==null)||(A=l.width*l.o,e(o.Gb.length==0),o.Gb=i(A),o.Uc=0,o.Gb==null?A=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,A=1),A=!A),!A){A=o.ga;var k=o.Fa,C=o.P,D=o.qc,Y=o.mb,ue=o.nb,ce=C+1,ee=D-1,xe=A.l;if(e(k!=null&&Y!=null&&l!=null),mi[0]=null,mi[1]=zi,mi[2]=lo,mi[3]=fi,A.ca=Y,A.tb=ue,A.c=l.width,A.i=l.height,e(0<A.c&&0<A.i),1>=D)l=0;else if(A.$a=k[C+0]>>0&3,A.Z=k[C+0]>>2&3,A.Lc=k[C+0]>>4&3,C=k[C+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||C)l=0;else if(xe.put=Nr,xe.ac=zt,xe.bc=Sr,xe.ma=A,xe.width=l.width,xe.height=l.height,xe.Da=l.Da,xe.v=l.v,xe.va=l.va,xe.j=l.j,xe.o=l.o,A.$a)e:{e(A.$a==1),l=rn();t:for(;;){if(l==null){l=0;break e}if(e(A!=null),A.mc=l,l.c=A.c,l.i=A.i,l.l=A.l,l.l.ma=A,l.l.width=A.c,l.l.height=A.i,l.a=0,K(l.m,k,ce,ee),!Dn(A.c,A.i,1,l,null)||(l.ab==1&&l.gc[0].hc==3&&Rr(l.s)?(A.ic=1,k=l.c*l.i,l.Ta=null,l.Ua=0,l.V=i(k),l.Ba=0,l.V==null?(l.a=1,l=0):l=1):(A.ic=0,l=Ri(l,A.c)),!l))break t;l=1;break e}A.mc=null,l=0}else l=ee>=A.c*A.i;A=!l}if(A)return null;o.ga.Lc!=1?o.Ga=0:m=_-d}e(o.ga!=null),e(d+m<=_);e:{if(l=(k=o.ga).c,_=k.l.o,k.$a==0){if(ce=o.rc,ee=o.Vc,xe=o.Fa,C=o.P+1+d*l,D=o.mb,Y=o.nb+d*l,e(C<=o.P+o.qc),k.Z!=0)for(e(mi[k.Z]!=null),A=0;A<m;++A)mi[k.Z](ce,ee,xe,C,D,Y,l),ce=D,ee=Y,Y+=l,C+=l;else for(A=0;A<m;++A)n(D,Y,xe,C,l),ce=D,ee=Y,Y+=l,C+=l;o.rc=ce,o.Vc=ee}else{if(e(k.mc!=null),l=d+m,e((A=k.mc)!=null),e(l<=A.i),A.C>=l)l=1;else if(k.ic||ie(),k.ic){k=A.V,ce=A.Ba,ee=A.c;var ge=A.i,J=(xe=1,C=A.$/ee,D=A.$%ee,Y=A.m,ue=A.s,A.$),Q=ee*ge,be=ee*l,Ae=ue.wc,we=J<be?Ot(ue,D,C):null;e(J<=Q),e(l<=ge),e(Rr(ue));t:for(;;){for(;!Y.h&&J<be;){if(D&Ae||(we=Ot(ue,D,C)),e(we!=null),X(Y),256>(ge=sr(we.G[0],we.H[0],Y)))k[ce+J]=ge,++J,++D>=ee&&(D=0,++C<=l&&!(C%16)&&Gr(A,C));else{if(!(280>ge)){xe=0;break t}ge=Lr(ge-256,Y);var Me,Oe=sr(we.G[4],we.H[4],Y);if(X(Y),!(J>=(Oe=qr(ee,Oe=Lr(Oe,Y)))&&Q-J>=ge)){xe=0;break t}for(Me=0;Me<ge;++Me)k[ce+J+Me]=k[ce+J+Me-Oe];for(J+=ge,D+=ge;D>=ee;)D-=ee,++C<=l&&!(C%16)&&Gr(A,C);J<be&&D&Ae&&(we=Ot(ue,D,C))}e(Y.h==q(Y))}Gr(A,C>l?l:C);break t}!xe||Y.h&&J<Q?(xe=0,A.a=Y.h?5:3):A.$=J,l=xe}else l=yn(A,A.V,A.Ba,A.c,A.i,l,ta);if(!l){m=0;break e}}d+m>=_&&(o.Cc=1),m=1}if(!m)return null;if(o.Cc&&((m=o.ga)!=null&&(m.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+d*b}function f(o,l,d,m,b,_){for(;0<b--;){var A,k=o,C=l+(d?1:0),D=o,Y=l+(d?0:3);for(A=0;A<m;++A){var ue=D[Y+4*A];ue!=255&&(ue*=32897,k[C+4*A+0]=k[C+4*A+0]*ue>>23,k[C+4*A+1]=k[C+4*A+1]*ue>>23,k[C+4*A+2]=k[C+4*A+2]*ue>>23)}l+=_}}function w(o,l,d,m,b){for(;0<m--;){var _;for(_=0;_<d;++_){var A=o[l+2*_+0],k=15&(D=o[l+2*_+1]),C=4369*k,D=(240&D|D>>4)*C>>16;o[l+2*_+0]=(240&A|A>>4)*C>>16&240|(15&A|A<<4)*C>>16>>4&15,o[l+2*_+1]=240&D|k}l+=b}}function R(o,l,d,m,b,_,A,k){var C,D,Y=255;for(D=0;D<b;++D){for(C=0;C<m;++C){var ue=o[l+C];_[A+4*C]=ue,Y&=ue}l+=d,A+=k}return Y!=255}function G(o,l,d,m,b){var _;for(_=0;_<b;++_)d[m+_]=o[l+_]>>8}function ie(){sn=f,qt=w,Rt=R,Xt=G}function ye(o,l,d){B[o]=function(m,b,_,A,k,C,D,Y,ue,ce,ee,xe,ge,J,Q,be,Ae){var we,Me=Ae-1>>1,Oe=k[C+0]|D[Y+0]<<16,Qe=ue[ce+0]|ee[xe+0]<<16;e(m!=null);var Re=3*Oe+Qe+131074>>2;for(l(m[b+0],255&Re,Re>>16,ge,J),_!=null&&(Re=3*Qe+Oe+131074>>2,l(_[A+0],255&Re,Re>>16,Q,be)),we=1;we<=Me;++we){var xt=k[C+we]|D[Y+we]<<16,Nt=ue[ce+we]|ee[xe+we]<<16,wt=Oe+xt+Qe+Nt+524296,mt=wt+2*(xt+Qe)>>3;Re=mt+Oe>>1,Oe=(wt=wt+2*(Oe+Nt)>>3)+xt>>1,l(m[b+2*we-1],255&Re,Re>>16,ge,J+(2*we-1)*d),l(m[b+2*we-0],255&Oe,Oe>>16,ge,J+(2*we-0)*d),_!=null&&(Re=wt+Qe>>1,Oe=mt+Nt>>1,l(_[A+2*we-1],255&Re,Re>>16,Q,be+(2*we-1)*d),l(_[A+2*we+0],255&Oe,Oe>>16,Q,be+(2*we+0)*d)),Oe=xt,Qe=Nt}1&Ae||(Re=3*Oe+Qe+131074>>2,l(m[b+Ae-1],255&Re,Re>>16,ge,J+(Ae-1)*d),_!=null&&(Re=3*Qe+Oe+131074>>2,l(_[A+Ae-1],255&Re,Re>>16,Q,be+(Ae-1)*d)))}}function ke(){un[ps]=Gh,un[vs]=uc,un[ic]=Yh,un[gs]=cc,un[ms]=fc,un[zl]=hc,un[ac]=Jh,un[Ul]=uc,un[Hl]=cc,un[ys]=fc,un[Wl]=hc}function Te(o){return o&-16384?0>o?0:255:o>>$h}function $e(o,l){return Te((19077*o>>8)+(26149*l>>8)-14234)}function lt(o,l,d){return Te((19077*o>>8)-(6419*l>>8)-(13320*d>>8)+8708)}function ot(o,l){return Te((19077*o>>8)+(33050*l>>8)-17685)}function bt(o,l,d,m,b){m[b+0]=$e(o,d),m[b+1]=lt(o,l,d),m[b+2]=ot(o,l)}function Ht(o,l,d,m,b){m[b+0]=ot(o,l),m[b+1]=lt(o,l,d),m[b+2]=$e(o,d)}function Wt(o,l,d,m,b){var _=lt(o,l,d);l=_<<3&224|ot(o,l)>>3,m[b+0]=248&$e(o,d)|_>>5,m[b+1]=l}function tr(o,l,d,m,b){var _=240&ot(o,l)|15;m[b+0]=240&$e(o,d)|lt(o,l,d)>>4,m[b+1]=_}function yr(o,l,d,m,b){m[b+0]=255,bt(o,l,d,m,b+1)}function lr(o,l,d,m,b){Ht(o,l,d,m,b),m[b+3]=255}function xn(o,l,d,m,b){bt(o,l,d,m,b),m[b+3]=255}function Yr(o,l){return 0>o?0:o>l?l:o}function Rn(o,l,d){B[o]=function(m,b,_,A,k,C,D,Y,ue){for(var ce=Y+(-2&ue)*d;Y!=ce;)l(m[b+0],_[A+0],k[C+0],D,Y),l(m[b+1],_[A+0],k[C+0],D,Y+d),b+=2,++A,++C,Y+=2*d;1&ue&&l(m[b+0],_[A+0],k[C+0],D,Y)}}function ss(o,l,d){return d==0?o==0?l==0?6:5:l==0?4:0:d}function co(o,l,d,m,b){switch(o>>>30){case 3:Qn(l,d,m,b,0);break;case 2:$t(l,d,m,b);break;case 1:Pr(l,d,m,b)}}function fo(o,l){var d,m,b=l.M,_=l.Nb,A=o.oc,k=o.pc+40,C=o.oc,D=o.pc+584,Y=o.oc,ue=o.pc+600;for(d=0;16>d;++d)A[k+32*d-1]=129;for(d=0;8>d;++d)C[D+32*d-1]=129,Y[ue+32*d-1]=129;for(0<b?A[k-1-32]=C[D-1-32]=Y[ue-1-32]=129:(a(A,k-32-1,127,21),a(C,D-32-1,127,9),a(Y,ue-32-1,127,9)),m=0;m<o.za;++m){var ce=l.ya[l.aa+m];if(0<m){for(d=-1;16>d;++d)n(A,k+32*d-4,A,k+32*d+12,4);for(d=-1;8>d;++d)n(C,D+32*d-4,C,D+32*d+4,4),n(Y,ue+32*d-4,Y,ue+32*d+4,4)}var ee=o.Gd,xe=o.Hd+m,ge=ce.ad,J=ce.Hc;if(0<b&&(n(A,k-32,ee[xe].y,0,16),n(C,D-32,ee[xe].f,0,8),n(Y,ue-32,ee[xe].ea,0,8)),ce.Za){var Q=A,be=k-32+16;for(0<b&&(m>=o.za-1?a(Q,be,ee[xe].y[15],4):n(Q,be,ee[xe+1].y,0,4)),d=0;4>d;d++)Q[be+128+d]=Q[be+256+d]=Q[be+384+d]=Q[be+0+d];for(d=0;16>d;++d,J<<=2)Q=A,be=k+pc[d],_n[ce.Ob[d]](Q,be),co(J,ge,16*+d,Q,be)}else if(Q=ss(m,b,ce.Ob[0]),gi[Q](A,k),J!=0)for(d=0;16>d;++d,J<<=2)co(J,ge,16*+d,A,k+pc[d]);for(d=ce.Gc,Q=ss(m,b,ce.Dd),Zn[Q](C,D),Zn[Q](Y,ue),J=ge,Q=C,be=D,255&(ce=d>>0)&&(170&ce?mo(J,256,Q,be):an(J,256,Q,be)),ce=Y,J=ue,255&(d>>=8)&&(170&d?mo(ge,320,ce,J):an(ge,320,ce,J)),b<o.Ub-1&&(n(ee[xe].y,0,A,k+480,16),n(ee[xe].f,0,C,D+224,8),n(ee[xe].ea,0,Y,ue+224,8)),d=8*_*o.B,ee=o.sa,xe=o.ta+16*m+16*_*o.R,ge=o.qa,ce=o.ra+8*m+d,J=o.Ha,Q=o.Ia+8*m+d,d=0;16>d;++d)n(ee,xe+d*o.R,A,k+32*d,16);for(d=0;8>d;++d)n(ge,ce+d*o.B,C,D+32*d,8),n(J,Q+d*o.B,Y,ue+32*d,8)}}function va(o,l,d,m,b,_,A,k,C){var D=[0],Y=[0],ue=0,ce=C!=null?C.kd:0,ee=C??new oo;if(o==null||12>d)return 7;ee.data=o,ee.w=l,ee.ha=d,l=[l],d=[d],ee.gb=[ee.gb];e:{var xe=l,ge=d,J=ee.gb;if(e(o!=null),e(ge!=null),e(J!=null),J[0]=0,12<=ge[0]&&!r(o,xe[0],"RIFF")){if(r(o,xe[0]+8,"WEBP")){J=3;break e}var Q=Ee(o,xe[0]+4);if(12>Q||4294967286<Q){J=3;break e}if(ce&&Q>ge[0]-8){J=7;break e}J[0]=Q,xe[0]+=12,ge[0]-=12}J=0}if(J!=0)return J;for(Q=0<ee.gb[0],d=d[0];;){e:{var be=o;ge=l,J=d;var Ae=D,we=Y,Me=xe=[0];if((Re=ue=[ue])[0]=0,8>J[0])J=7;else{if(!r(be,ge[0],"VP8X")){if(Ee(be,ge[0]+4)!=10){J=3;break e}if(18>J[0]){J=7;break e}var Oe=Ee(be,ge[0]+8),Qe=1+je(be,ge[0]+12);if(2147483648<=Qe*(be=1+je(be,ge[0]+15))){J=3;break e}Me!=null&&(Me[0]=Oe),Ae!=null&&(Ae[0]=Qe),we!=null&&(we[0]=be),ge[0]+=18,J[0]-=18,Re[0]=1}J=0}}if(ue=ue[0],xe=xe[0],J!=0)return J;if(ge=!!(2&xe),!Q&&ue)return 3;if(_!=null&&(_[0]=!!(16&xe)),A!=null&&(A[0]=ge),k!=null&&(k[0]=0),A=D[0],xe=Y[0],ue&&ge&&C==null){J=0;break}if(4>d){J=7;break}if(Q&&ue||!Q&&!ue&&!r(o,l[0],"ALPH")){d=[d],ee.na=[ee.na],ee.P=[ee.P],ee.Sa=[ee.Sa];e:{Oe=o,J=l,Q=d;var Re=ee.gb;Ae=ee.na,we=ee.P,Me=ee.Sa,Qe=22,e(Oe!=null),e(Q!=null),be=J[0];var xt=Q[0];for(e(Ae!=null),e(Me!=null),Ae[0]=null,we[0]=null,Me[0]=0;;){if(J[0]=be,Q[0]=xt,8>xt){J=7;break e}var Nt=Ee(Oe,be+4);if(4294967286<Nt){J=3;break e}var wt=8+Nt+1&-2;if(Qe+=wt,0<Re&&Qe>Re){J=3;break e}if(!r(Oe,be,"VP8 ")||!r(Oe,be,"VP8L")){J=0;break e}if(xt[0]<wt){J=7;break e}r(Oe,be,"ALPH")||(Ae[0]=Oe,we[0]=be+8,Me[0]=Nt),be+=wt,xt-=wt}}if(d=d[0],ee.na=ee.na[0],ee.P=ee.P[0],ee.Sa=ee.Sa[0],J!=0)break}d=[d],ee.Ja=[ee.Ja],ee.xa=[ee.xa];e:if(Re=o,J=l,Q=d,Ae=ee.gb[0],we=ee.Ja,Me=ee.xa,Oe=J[0],be=!r(Re,Oe,"VP8 "),Qe=!r(Re,Oe,"VP8L"),e(Re!=null),e(Q!=null),e(we!=null),e(Me!=null),8>Q[0])J=7;else{if(be||Qe){if(Re=Ee(Re,Oe+4),12<=Ae&&Re>Ae-12){J=3;break e}if(ce&&Re>Q[0]-8){J=7;break e}we[0]=Re,J[0]+=8,Q[0]-=8,Me[0]=Qe}else Me[0]=5<=Q[0]&&Re[Oe+0]==47&&!(Re[Oe+4]>>5),we[0]=Q[0];J=0}if(d=d[0],ee.Ja=ee.Ja[0],ee.xa=ee.xa[0],l=l[0],J!=0)break;if(4294967286<ee.Ja)return 3;if(k==null||ge||(k[0]=ee.xa?2:1),A=[A],xe=[xe],ee.xa){if(5>d){J=7;break}k=A,ce=xe,ge=_,o==null||5>d?o=0:5<=d&&o[l+0]==47&&!(o[l+4]>>5)?(Q=[0],Re=[0],Ae=[0],K(we=new N,o,l,d),Je(we,Q,Re,Ae)?(k!=null&&(k[0]=Q[0]),ce!=null&&(ce[0]=Re[0]),ge!=null&&(ge[0]=Ae[0]),o=1):o=0):o=0}else{if(10>d){J=7;break}k=xe,o==null||10>d||!Vo(o,l+3,d-3)?o=0:(ce=o[l+0]|o[l+1]<<8|o[l+2]<<16,ge=16383&(o[l+7]<<8|o[l+6]),o=16383&(o[l+9]<<8|o[l+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=ee.Ja||!ge||!o?o=0:(A&&(A[0]=ge),k&&(k[0]=o),o=1))}if(!o||(A=A[0],xe=xe[0],ue&&(D[0]!=A||Y[0]!=xe)))return 3;C!=null&&(C[0]=ee,C.offset=l-C.w,e(4294967286>l-C.w),e(C.offset==C.ha-d));break}return J==0||J==7&&ue&&C==null?(_!=null&&(_[0]|=ee.na!=null&&0<ee.na.length),m!=null&&(m[0]=A),b!=null&&(b[0]=xe),0):J}function ho(o,l,d){var m=l.width,b=l.height,_=0,A=0,k=m,C=b;if(l.Da=o!=null&&0<o.Da,l.Da&&(k=o.cd,C=o.bd,_=o.v,A=o.j,11>d||(_&=-2,A&=-2),0>_||0>A||0>=k||0>=C||_+k>m||A+C>b))return 0;if(l.v=_,l.j=A,l.va=_+k,l.o=A+C,l.U=k,l.T=C,l.da=o!=null&&0<o.da,l.da){if(!Xe(k,C,d=[o.ib],_=[o.hb]))return 0;l.ib=d[0],l.hb=_[0]}return l.ob=o!=null&&o.ob,l.Kb=o==null||!o.Sd,l.da&&(l.ob=l.ib<3*m/4&&l.hb<3*b/4,l.Kb=0),1}function po(o){if(o==null)return 2;if(11>o.S){var l=o.f.RGBA;l.fb+=(o.height-1)*l.A,l.A=-l.A}else l=o.f.kb,o=o.height,l.O+=(o-1)*l.fa,l.fa=-l.fa,l.N+=(o-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(o-1>>1)*l.Db,l.Db=-l.Db,l.F!=null&&(l.J+=(o-1)*l.lb,l.lb=-l.lb);return 0}function ga(o,l,d,m){if(m==null||0>=o||0>=l)return 2;if(d!=null){if(d.Da){var b=d.cd,_=d.bd,A=-2&d.v,k=-2&d.j;if(0>A||0>k||0>=b||0>=_||A+b>o||k+_>l)return 2;o=b,l=_}if(d.da){if(!Xe(o,l,b=[d.ib],_=[d.hb]))return 2;o=b[0],l=_[0]}}m.width=o,m.height=l;e:{var C=m.width,D=m.height;if(o=m.S,0>=C||0>=D||!(o>=ps&&13>o))o=2;else{if(0>=m.Rd&&m.sd==null){A=_=b=l=0;var Y=(k=C*vc[o])*D;if(11>o||(_=(D+1)/2*(l=(C+1)/2),o==12&&(A=(b=C)*D)),(D=i(Y+2*_+A))==null){o=1;break e}m.sd=D,11>o?((C=m.f.RGBA).eb=D,C.fb=0,C.A=k,C.size=Y):((C=m.f.kb).y=D,C.O=0,C.fa=k,C.Fd=Y,C.f=D,C.N=0+Y,C.Ab=l,C.Cd=_,C.ea=D,C.W=0+Y+_,C.Db=l,C.Ed=_,o==12&&(C.F=D,C.J=0+Y+2*_),C.Tc=A,C.lb=b)}if(l=1,b=m.S,_=m.width,A=m.height,b>=ps&&13>b)if(11>b)o=m.f.RGBA,l&=(k=Math.abs(o.A))*(A-1)+_<=o.size,l&=k>=_*vc[b],l&=o.eb!=null;else{o=m.f.kb,k=(_+1)/2,Y=(A+1)/2,C=Math.abs(o.fa),D=Math.abs(o.Ab);var ue=Math.abs(o.Db),ce=Math.abs(o.lb),ee=ce*(A-1)+_;l&=C*(A-1)+_<=o.Fd,l&=D*(Y-1)+k<=o.Cd,l=(l&=ue*(Y-1)+k<=o.Ed)&C>=_&D>=k&ue>=k,l&=o.y!=null,l&=o.f!=null,l&=o.ea!=null,b==12&&(l&=ce>=_,l&=ee<=o.Tc,l&=o.F!=null)}else l=0;o=l?0:2}}return o!=0||d!=null&&d.fd&&(o=po(m)),o}var vr=64,ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ya=24,ba=32,vo=8,Tr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(o){return o},B.Predictor2=function(o,l,d){return l[d+0]},B.Predictor3=function(o,l,d){return l[d+1]},B.Predictor4=function(o,l,d){return l[d-1]},B.Predictor5=function(o,l,d){return Le(Le(o,l[d+1]),l[d+0])},B.Predictor6=function(o,l,d){return Le(o,l[d-1])},B.Predictor7=function(o,l,d){return Le(o,l[d+0])},B.Predictor8=function(o,l,d){return Le(l[d-1],l[d+0])},B.Predictor9=function(o,l,d){return Le(l[d+0],l[d+1])},B.Predictor10=function(o,l,d){return Le(Le(o,l[d-1]),Le(l[d+0],l[d+1]))},B.Predictor11=function(o,l,d){var m=l[d+0];return 0>=et(m>>24&255,o>>24&255,(l=l[d-1])>>24&255)+et(m>>16&255,o>>16&255,l>>16&255)+et(m>>8&255,o>>8&255,l>>8&255)+et(255&m,255&o,255&l)?m:o},B.Predictor12=function(o,l,d){var m=l[d+0];return(De((o>>24&255)+(m>>24&255)-((l=l[d-1])>>24&255))<<24|De((o>>16&255)+(m>>16&255)-(l>>16&255))<<16|De((o>>8&255)+(m>>8&255)-(l>>8&255))<<8|De((255&o)+(255&m)-(255&l)))>>>0},B.Predictor13=function(o,l,d){var m=l[d-1];return(We((o=Le(o,l[d+0]))>>24&255,m>>24&255)<<24|We(o>>16&255,m>>16&255)<<16|We(o>>8&255,m>>8&255)<<8|We(o>>0&255,m>>0&255))>>>0};var Tl=B.PredictorAdd0;B.PredictorAdd1=tt,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var go=B.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var ls,nn=B.ColorIndexInverseTransform,wa=B.MapARGB,us=B.VP8LColorIndexInverseTransformAlpha,cs=B.MapAlpha,hi=B.VP8LPredictorsAdd=[];hi.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Ui,Mr,kr,di,$n,Xn,xa,Qn,$t,mo,Pr,an,_a,fs,yo,Hi,Wi,pi,Vi,Aa,Gi,vi,bo,on,sn,qt,Rt,Xt,ir=i(511),Kn=i(2041),wo=i(225),Na=i(767),hs=0,Ml=Kn,ds=wo,Jr=Na,ln=ir,ps=0,vs=1,ic=2,gs=3,ms=4,zl=5,ac=6,Ul=7,Hl=8,ys=9,Wl=10,Eh=[2,3,7],jh=[3,3,11],oc=[280,256,256,256,40],Dh=[0,1,1,1,0],Oh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bh=8,Vl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xo=null,Th=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Uh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gi=[],_n=[],Zn=[],Vh=1,lc=2,mi=[],un=[];ye("UpsampleRgbLinePair",bt,3),ye("UpsampleBgrLinePair",Ht,3),ye("UpsampleRgbaLinePair",xn,4),ye("UpsampleBgraLinePair",lr,4),ye("UpsampleArgbLinePair",yr,4),ye("UpsampleRgba4444LinePair",tr,2),ye("UpsampleRgb565LinePair",Wt,2);var Gh=B.UpsampleRgbLinePair,Yh=B.UpsampleBgrLinePair,uc=B.UpsampleRgbaLinePair,cc=B.UpsampleBgraLinePair,fc=B.UpsampleArgbLinePair,hc=B.UpsampleRgba4444LinePair,Jh=B.UpsampleRgb565LinePair,bs=16,ws=1<<bs-1,_o=-227,Yl=482,$h=6,dc=0,Xh=i(256),Qh=i(256),Kh=i(256),Zh=i(256),ed=i(Yl-_o),td=i(Yl-_o);Rn("YuvToRgbRow",bt,3),Rn("YuvToBgrRow",Ht,3),Rn("YuvToRgbaRow",xn,4),Rn("YuvToBgraRow",lr,4),Rn("YuvToArgbRow",yr,4),Rn("YuvToRgba4444Row",tr,2),Rn("YuvToRgb565Row",Wt,2);var pc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xs=[0,2,8],rd=[8,7,6,4,4,2,2,2,1,1,1,1],nd=1;this.WebPDecodeRGBA=function(o,l,d,m,b){var _=vs,A=new da,k=new dr;A.ba=k,k.S=_,k.width=[k.width],k.height=[k.height];var C=k.width,D=k.height,Y=new Wr;if(Y==null||o==null)var ue=2;else e(Y!=null),ue=va(o,l,d,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(ue!=0?C=0:(C!=null&&(C[0]=Y.width[0]),D!=null&&(D[0]=Y.height[0]),C=1),C){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),b!=null&&(b[0]=k.height);e:{if(m=new oa,(b=new oo).data=o,b.w=l,b.ha=d,b.kd=1,l=[0],e(b!=null),((o=va(b.data,b.w,b.ha,null,null,null,l,null,b))==0||o==7)&&l[0]&&(o=4),(l=o)==0){if(e(A!=null),m.data=b.data,m.w=b.w+b.offset,m.ha=b.ha-b.offset,m.put=Nr,m.ac=zt,m.bc=Sr,m.ma=A,b.xa){if((o=rn())==null){A=1;break e}if(function(ce,ee){var xe=[0],ge=[0],J=[0];t:for(;;){if(ce==null)return 0;if(ee==null)return ce.a=2,0;if(ce.l=ee,ce.a=0,K(ce.m,ee.data,ee.w,ee.ha),!Je(ce.m,xe,ge,J)){ce.a=3;break t}if(ce.xb=lc,ee.width=xe[0],ee.height=ge[0],!Dn(xe[0],ge[0],1,ce,null))break t;return 1}return e(ce.a!=0),0}(o,m)){if(m=(l=ga(m.width,m.height,A.Oa,A.ba))==0){t:{m=o;r:for(;;){if(m==null){m=0;break t}if(e(m.s.yc!=null),e(m.s.Ya!=null),e(0<m.s.Wb),e((d=m.l)!=null),e((b=d.ma)!=null),m.xb!=0){if(m.ca=b.ba,m.tb=b.tb,e(m.ca!=null),!ho(b.Oa,d,gs)){m.a=2;break r}if(!Ri(m,d.width)||d.da)break r;if((d.da||gt(m.ca.S))&&ie(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&ie()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!Ge(m.s.vb,m.s.Wa.Xa)){m.a=1;break r}m.xb=0}if(!yn(m,m.V,m.Ba,m.c,m.i,d.o,tn))break r;b.Dc=m.Ma,m=1;break t}e(m.a!=0),m=0}m=!m}m&&(l=o.a)}else l=o.a}else{if((o=new wl)==null){A=1;break e}if(o.Fa=b.na,o.P=b.P,o.qc=b.Sa,Go(o,m)){if((l=ga(m.width,m.height,A.Oa,A.ba))==0){if(o.Aa=0,d=A.Oa,e((b=o)!=null),d!=null){if(0<(C=0>(C=d.Md)?0:100<C?255:255*C/100)){for(D=Y=0;4>D;++D)12>(ue=b.pb[D]).lc&&(ue.ia=C*rd[0>ue.lc?0:ue.lc]>>3),Y|=ue.ia;Y&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=d.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}xl(o,m)||(l=o.a)}}else l=o.a}l==0&&A.Oa!=null&&A.Oa.fd&&(l=po(A.ba))}A=l}_=A!=0?null:11>_?k.f.RGBA.eb:k.f.kb.y}else _=null;return _};var vc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(B,re){for(var de="",I=0;I<4;I++)de+=String.fromCharCode(B[re++]);return de}function v(B,re){return(B[re+0]<<0|B[re+1]<<8|B[re+2]<<16)>>>0}function g(B,re){return(B[re+0]<<0|B[re+1]<<8|B[re+2]<<16|B[re+3]<<24)>>>0}new c;var y=[0],p=[0],S=[],L=new c,P=t,x=function(B,re){var de={},I=0,F=!1,z=0,T=0;if(de.frames=[],!function(j,q,H,X){for(var ne=0;ne<X;ne++)if(j[q+ne]!=H.charCodeAt(ne))return!0;return!1}(B,re,"RIFF",4)){for(g(B,re+=4),re+=8;re<B.length;){var te=h(B,re),ae=g(B,re+=4);re+=4;var $=ae+(1&ae);switch(te){case"VP8 ":case"VP8L":de.frames[I]===void 0&&(de.frames[I]={}),(pe=de.frames[I]).src_off=F?T:re-8,pe.src_size=z+ae+8,I++,F&&(F=!1,z=0,T=0);break;case"VP8X":(pe=de.header={}).feature_flags=B[re];var K=re+4;pe.canvas_width=1+v(B,K),K+=3,pe.canvas_height=1+v(B,K),K+=3;break;case"ALPH":F=!0,z=$+8,T=re-8;break;case"ANIM":(pe=de.header).bgcolor=g(B,re),K=re+4,pe.loop_count=(Ie=B)[(N=K)+0]<<0|Ie[N+1]<<8,K+=2;break;case"ANMF":var he,pe;(pe=de.frames[I]={}).offset_x=2*v(B,re),re+=3,pe.offset_y=2*v(B,re),re+=3,pe.width=1+v(B,re),re+=3,pe.height=1+v(B,re),re+=3,pe.duration=v(B,re),re+=3,he=B[re++],pe.dispose=1&he,pe.blend=he>>1&1}te!="ANMF"&&(re+=$)}var Ie,N;return de}}(P,0);x.response=P,x.rgbaoutput=!0,x.dataurl=!1;var E=x.header?x.header:null,U=x.frames?x.frames:null;if(E){E.loop_counter=E.loop_count,y=[E.canvas_height],p=[E.canvas_width];for(var W=0;W<U.length&&U[W].blend!=0;W++);}var V=U[0],fe=L.WebPDecodeRGBA(P,V.src_off,V.src_size,p,y);V.rgba=fe,V.imgwidth=p[0],V.imgheight=y[0];for(var Z=0;Z<p[0]*y[0]*4;Z++)S[Z]=fe[Z];return this.width=p,this.height=y,this.data=S,this}(function(t){var e=function(){return typeof ju=="function"},r=function(y,p,S,L){var P=4,x=s;switch(L){case t.image_compression.FAST:P=1,x=i;break;case t.image_compression.MEDIUM:P=6,x=u;break;case t.image_compression.SLOW:P=9,x=c}y=n(y,p,S,x);var E=ju(y,{level:P});return t.__addimage__.arrayBufferToBinaryString(E)},n=function(y,p,S,L){for(var P,x,E,U=y.length/p,W=new Uint8Array(y.length+U),V=v(),fe=0;fe<U;fe+=1){if(E=fe*p,P=y.subarray(E,E+p),L)W.set(L(P,S,x),E+fe);else{for(var Z,B=V.length,re=[];Z<B;Z+=1)re[Z]=V[Z](P,S,x);var de=g(re.concat());W.set(re[de],E+fe)}x=P}return W},a=function(y){var p=Array.apply([],y);return p.unshift(0),p},i=function(y,p){var S,L=[],P=y.length;L[0]=1;for(var x=0;x<P;x+=1)S=y[x-p]||0,L[x+1]=y[x]-S+256&255;return L},s=function(y,p,S){var L,P=[],x=y.length;P[0]=2;for(var E=0;E<x;E+=1)L=S&&S[E]||0,P[E+1]=y[E]-L+256&255;return P},u=function(y,p,S){var L,P,x=[],E=y.length;x[0]=3;for(var U=0;U<E;U+=1)L=y[U-p]||0,P=S&&S[U]||0,x[U+1]=y[U]+256-(L+P>>>1)&255;return x},c=function(y,p,S){var L,P,x,E,U=[],W=y.length;U[0]=4;for(var V=0;V<W;V+=1)L=y[V-p]||0,P=S&&S[V]||0,x=S&&S[V-p]||0,E=h(L,P,x),U[V+1]=y[V]-E+256&255;return U},h=function(y,p,S){if(y===p&&p===S)return y;var L=Math.abs(p-S),P=Math.abs(y-S),x=Math.abs(y+p-S-S);return L<=P&&L<=x?y:P<=x?p:S},v=function(){return[a,i,s,u,c]},g=function(y){var p=y.map(function(S){return S.reduce(function(L,P){return L+Math.abs(P)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(y,p,S,L){var P,x,E,U,W,V,fe,Z,B,re,de,I,F,z,T,te=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(E=new Kp(y)).imgData,x=E.bits,P=E.colorSpace,W=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){B=(Z=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,de=new Uint8Array(B*E.colors),re=new Uint8Array(B);var $,K=E.pixelBitlength-E.bits;for(z=0,T=0;z<B;z++){for(F=Z[z],$=0;$<K;)de[T++]=F>>>$&255,$+=E.bits;re[z]=F>>>$&255}}if(E.bits===16){B=(Z=new Uint32Array(E.decodePixels().buffer)).length,de=new Uint8Array(B*(32/E.pixelBitlength)*E.colors),re=new Uint8Array(B*(32/E.pixelBitlength)),I=E.colors>1,z=0,T=0;for(var he=0;z<B;)F=Z[z++],de[T++]=F>>>0&255,I&&(de[T++]=F>>>16&255,F=Z[z++],de[T++]=F>>>0&255),re[he++]=F>>>16&255;x=8}L!==t.image_compression.NONE&&e()?(y=r(de,E.width*E.colors,E.colors,L),fe=r(re,E.width,1,L)):(y=de,fe=re,te=void 0)}if(E.colorType===3&&(P=this.color_spaces.INDEXED,V=E.palette,E.transparency.indexed)){var pe=E.transparency.indexed,Ie=0;for(z=0,B=pe.length;z<B;++z)Ie+=pe[z];if((Ie/=255)===B-1&&pe.indexOf(0)!==-1)U=[pe.indexOf(0)];else if(Ie!==B){for(Z=E.decodePixels(),re=new Uint8Array(Z.length),z=0,B=Z.length;z<B;z++)re[z]=pe[Z[z]];fe=r(re,E.width,1)}}var N=function(j){var q;switch(j){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(L);return te===this.decode.FLATE_DECODE&&(ae="/Predictor "+N+" "),ae+="/Colors "+W+" /BitsPerComponent "+x+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(fe&&this.__addimage__.isArrayBuffer(fe)||this.__addimage__.isArrayBufferView(fe))&&(fe=this.__addimage__.arrayBufferToBinaryString(fe)),{alias:S,data:y,index:p,filter:te,decodeParameters:ae,transparency:U,palette:V,sMask:fe,predictor:N,width:E.width,height:E.height,bitsPerComponent:x,colorSpace:P}}}})(Ze.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new Zp(e),s=i.width,u=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:s,height:u},v=new vu(100).encode(h,100);return t.processJPEG.call(this,v,r,n,a)},t.processGIF87A=t.processGIF89A}(Ze.API),Sn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ct.log("bit decode error:"+r)}},Sn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var c=this.palette[i>>7-u&1];this.data[s+4*u]=c.blue,this.data[s+4*u+1]=c.green,this.data[s+4*u+2]=c.red,this.data[s+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Sn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,u=i>>4,c=15&i,h=this.palette[u];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*a+1>=this.width)break;h=this.palette[c],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Sn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Sn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,h=i>>15?255:0,v=n*this.width*4+4*a;this.data[v]=c,this.data[v+1]=u,this.data[v+2]=s,this.data[v+3]=h}this.pos+=t}},Sn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,h=(s>>11)/e*255|0,v=a*this.width*4+4*i;this.data[v]=h,this.data[v+1]=c,this.data[v+2]=u,this.data[v+3]=255}this.pos+=t}},Sn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Sn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=s}},Sn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Sn(e,!1),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new vu(100).encode(c,100);return t.processJPEG.call(this,h,r,n,a)}}(Ze.API),cf.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new cf(e),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new vu(100).encode(c,100);return t.processJPEG.call(this,h,r,n,a)}}(Ze.API),Ze.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),u=0,c=0,h=0;h<a;h+=4){var v=n[h],g=n[h+1],y=n[h+2],p=n[h+3];i[u++]=v,i[u++]=g,i[u++]=y,s[c++]=p}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ja=Ze.API,Rs=ja.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,v=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,p=t.length,S=0,L=u[0]||c,P=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?P.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(y=g&&Lt(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/v:0,P.push((u[n]||L)/c+y)),S=n;return P},of=ja.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ja.processArabic&&(t=ja.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Rs.apply(this,arguments).reduce(function(i,s){return i+s},0)},sf=function(t,e,r,n){for(var a=[],i=0,s=t.length,u=0;i!==s&&u+e[i]<r;)u+=e[i],i++;a.push(t.slice(0,i));var c=i;for(u=0;i!==s;)u+e[i]>n&&(a.push(t.slice(c,i)),u=0,c=i),u+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},lf=function(t,e,r){r||(r={});var n,a,i,s,u,c,h,v=[],g=[v],y=r.textIndent||0,p=0,S=0,L=t.split(" "),P=Rs.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?L[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),E=[];L.map(function(W){(W=W.split(/\s*\n/)).length>1?E=E.concat(W.map(function(V,fe){return(fe&&V.length?`
`:"")+V})):E.push(W[0])}),L=E,c=of.apply(this,[x,r])}for(i=0,s=L.length;i<s;i++){var U=0;if(n=L[i],c&&n[0]==`
`&&(n=n.substr(1),U=1),y+p+(S=(a=Rs.apply(this,[n,r])).reduce(function(W,V){return W+V},0))>e||U){if(S>e){for(u=sf.apply(this,[n,a,e-(y+p),e]),v.push(u.shift()),v=[u.pop()];u.length;)g.push([u.shift()]);S=a.slice(n.length-(v[0]?v[0].length:0)).reduce(function(W,V){return W+V},0)}else v=[n];g.push(v),y=S+c,p=P}else v.push(n),y+=p+S,p=P}return h=c?function(W,V){return(V?x:"")+W.join(" ")}:function(W){return W.join(" ")},g.map(h)},ja.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var g=this.internal.getFont(v.fontName,v.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var u,c,h=[];for(u=0,c=n.length;u<c;u++)h=h.concat(lf.apply(this,[n[u],s,i]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(g){return"0x"+parseInt(g,10).toString(16)},s=t.__fontmetrics__.compress=function(g){var y,p,S,L,P=["{"];for(var x in g){if(y=g[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof y=="number")y<0?(S=i(y).slice(3),L="-"):(S=i(y).slice(2),L=""),S=L+S.slice(0,-1)+n[S.slice(-1)];else{if(Lt(y)!=="object")throw new Error("Don't know what to do with value type "+Lt(y)+".");S=s(y)}P.push(p+S)}return P.push("}"),P.join("")},u=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,S,L,P={},x=1,E=P,U=[],W="",V="",fe=g.length-1,Z=1;Z<fe;Z+=1)(L=g[Z])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(L):L=="{"?(U.push([E,S]),E={},S=void 0):L=="}"?((p=U.pop())[0][p[1]]=E,S=void 0,E=p[0]):L=="-"?x=-1:S===void 0?r.hasOwnProperty(L)?(W+=r[L],S=parseInt(W,16)*x,x=1,W=""):W+=L:r.hasOwnProperty(L)?(V+=r[L],E[S]=parseInt(V,16)*x,x=1,S=void 0,V=""):V+=L;return P},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,p=v.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var S=h.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])}(Ze.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Fo(u)),s.metadata=t.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ze),function(t){function e(){return(rt.canvg?Promise.resolve(rt.canvg):Pu(()=>import("./index.es-qaoQI3zZ.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ze.API.addSvgAsImage=function(r,n,a,i,s,u,c,h){if(isNaN(n)||isNaN(a))throw Ct.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Ct.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=i,v.height=s;var g=v.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,v.width,v.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(S){return S.fromString(g,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(y)}).then(function(){p.addImage(v.toDataURL("image/jpeg",1),n,a,i,s,c,h)})}}(),Ze.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Ze.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),c=[],h=0,v=0,g=0;function y(S,L){var P,x=!1;for(P=0;P<S.length;P+=1)S[P]===L&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=u.length;for(g=0;g<p;g+=1)r[u[g]].value=r[u[g]].defaultValue,r[u[g]].explicitSet=!1}if(Lt(t)==="object"){for(a in t)if(i=t[a],y(u,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&y(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")c.push(String(i[h]-1));else if(i[h].length>1){for(v=0;v<i[h].length;v+=1)typeof i[h][v]!="number"&&(n=!1);n===!0&&c.push([i[h][0]-1,i[h][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,L=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?L.push("/"+S+" /"+r[S].value):L.push("/"+S+" "+r[S].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+s.length+u.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+u+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var u,c=s.metadata.Unicode.widths,h=["","0","00","000","0000"],v=[""],g=0,y=i.length;g<y;++g){if(u=s.metadata.characterToGlyph(i.charCodeAt(g)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=i.charCodeAt(g),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return v.join("");u=u.toString(16),v.push(h[4-u.length],u)}return v.join("")},n=function(i){var s,u,c,h,v,g,y;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(u=Object.keys(i).sort(function(p,S){return p-S})).length;g<y;g++)s=u[g],c.length>=100&&(v+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(h=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+h+">"));return c.length&&(v+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,v=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),p="",S=0;S<y.length;S++)p+=String.fromCharCode(y[S]);var L=h();v({data:p,addLength1:!0,objectId:L}),c("endobj");var P=h();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:P}),c("endobj");var x=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Oa(u.fontName)),c("/FontFile2 "+L+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var E=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Oa(u.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+P+" 0 R"),c("/BaseFont /"+Oa(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,v=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var S=h();v({data:y,addLength1:!0,objectId:S}),c("endobj");var L=h();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:L}),c("endobj");var P=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Oa(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var x=0;x<u.metadata.hmtx.widths.length;x++)u.metadata.hmtx.widths[x]=parseInt(u.metadata.hmtx.widths[x]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Oa(u.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,u=i.text||"",c=i.x,h=i.y,v=i.options||{},g=i.mutex||{},y=g.pdfEscape,p=g.activeFontKey,S=g.fonts,L=p,P="",x=0,E="",U=S[L].encoding;if(S[L].encoding!=="Identity-H")return{text:u,x:c,y:h,options:v,mutex:g};for(E=u,L=p,Array.isArray(u)&&(E=u[0]),x=0;x<E.length;x+=1)S[L].metadata.hasOwnProperty("cmap")&&(s=S[L].metadata.cmap.unicode.codeMap[E[x].charCodeAt(0)]),s||E[x].charCodeAt(0)<256&&S[L].metadata.hasOwnProperty("Unicode")?P+=E[x]:P+="";var W="";return parseInt(L.slice(1))<14||U==="WinAnsiEncoding"?W=y(P,L).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(W=r(P,S[L])),g.isHex=!0,{text:W,x:c,y:h,options:v,mutex:g}};e.events.push(["postProcessText",function(i){var s=i.text||"",u=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?u.push([a(Object.assign({},c,{text:s[h][0]})).text,s[h][1],s[h][2]]):u.push(a(Object.assign({},c,{text:s[h]})).text);i.text=u}else i.text=a(Object.assign({},c,{text:s})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,u,c,h,v,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,U=0;this.__bidiEngine__={};var W=function(I){var F=I.charCodeAt(),z=F>>8,T=L[z];return T!==void 0?g[256*T+(255&F)]:z===252||z===253?"AL":x.test(z)?"L":z===8?"R":"N"},V=function(I){for(var F,z=0;z<I.length;z++){if((F=W(I.charAt(z)))==="L")return!1;if(F==="R")return!0}return!1},fe=function(I,F,z,T){var te,ae,$,K,he=F[T];switch(he){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(he="AN");break;case"AL":E=!0,he="R";break;case"WS":he="N";break;case"CS":T<1||T+1>=F.length||(te=z[T-1])!=="EN"&&te!=="AN"||(ae=F[T+1])!=="EN"&&ae!=="AN"?he="N":E&&(ae="AN"),he=ae===te?ae:"N";break;case"ES":he=(te=T>0?z[T-1]:"B")==="EN"&&T+1<F.length&&F[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&z[T-1]==="EN"){he="EN";break}if(E){he="N";break}for($=T+1,K=F.length;$<K&&F[$]==="ET";)$++;he=$<K&&F[$]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for(K=F.length,$=T+1;$<K&&F[$]==="NSM";)$++;if($<K){var pe=I[T],Ie=pe>=1425&&pe<=2303||pe===64286;if(te=F[$],Ie&&(te==="R"||te==="AL")){he="R";break}}}he=T<1||(te=F[T-1])==="B"?"N":z[T-1];break;case"B":E=!1,a=!0,he=U;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":he="N"}return he},Z=function(I,F,z){var T=I.split("");return z&&B(T,z,{hiLevel:U}),T.reverse(),F&&F.reverse(),T.join("")},B=function(I,F,z){var T,te,ae,$,K,he=-1,pe=I.length,Ie=0,N=[],j=U?p:y,q=[];for(E=!1,a=!1,i=!1,te=0;te<pe;te++)q[te]=W(I[te]);for(ae=0;ae<pe;ae++){if(K=Ie,N[ae]=fe(I,q,N,ae),T=240&(Ie=j[K][S[N[ae]]]),Ie&=15,F[ae]=$=j[Ie][5],T>0)if(T===16){for(te=he;te<ae;te++)F[te]=1;he=-1}else he=-1;if(j[Ie][6])he===-1&&(he=ae);else if(he>-1){for(te=he;te<ae;te++)F[te]=$;he=-1}q[ae]==="B"&&(F[ae]=0),z.hiLevel|=$}i&&function(H,X,ne){for(var le=0;le<ne;le++)if(H[le]==="S"){X[le]=U;for(var oe=le-1;oe>=0&&H[oe]==="WS";oe--)X[oe]=U}}(q,F,pe)},re=function(I,F,z,T,te){if(!(te.hiLevel<I)){if(I===1&&U===1&&!a)return F.reverse(),void(z&&z.reverse());for(var ae,$,K,he,pe=F.length,Ie=0;Ie<pe;){if(T[Ie]>=I){for(K=Ie+1;K<pe&&T[K]>=I;)K++;for(he=Ie,$=K-1;he<$;he++,$--)ae=F[he],F[he]=F[$],F[$]=ae,z&&(ae=z[he],z[he]=z[$],z[$]=ae);Ie=K}Ie++}}},de=function(I,F,z){var T=I.split(""),te={hiLevel:U};return z||(z=[]),B(T,z,te),function(ae,$,K){if(K.hiLevel!==0&&v)for(var he,pe=0;pe<ae.length;pe++)$[pe]===1&&(he=P.indexOf(ae[pe]))>=0&&(ae[pe]=P[he+1])}(T,z,te),re(2,T,F,z,te),re(1,T,F,z,te),T.join("")};return this.__bidiEngine__.doBidiReorder=function(I,F,z){if(function(te,ae){if(ae)for(var $=0;$<te.length;$++)ae[$]=$;u===void 0&&(u=V(te)),h===void 0&&(h=V(te))}(I,F),s||!c||h)if(s&&c&&u^h)U=u?1:0,I=Z(I,F,z);else if(!s&&c&&h)U=u?1:0,I=de(I,F,z),I=Z(I,F);else if(!s||u||c||h){if(s&&!c&&u^h)I=Z(I,F),u?(U=0,I=de(I,F,z)):(U=1,I=de(I,F,z),I=Z(I,F));else if(s&&u&&!c&&h)U=1,I=de(I,F,z),I=Z(I,F);else if(!s&&!c&&u^h){var T=v;u?(U=1,I=de(I,F,z),U=0,v=!1,I=de(I,F,z),v=T):(U=0,I=de(I,F,z),I=Z(I,F),U=1,v=!1,I=de(I,F,z),v=T,I=Z(I,F))}}else U=0,I=de(I,F,z);else U=u?1:0,I=de(I,F,z);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,u=I.isInputRtl,h=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(s=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?s.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):s.push([r.doBidiReorder(a[u])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Di(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new p5(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new e5(this.contents),this.head=new r5(this),this.name=new s5(this),this.cmap=new vh(this),this.toUnicode={},this.hhea=new n5(this),this.maxp=new l5(this),this.hmtx=new u5(this),this.post=new a5(this),this.os2=new i5(this),this.loca=new d5(this),this.glyf=new c5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,u,c,h;for(h=[],s=0,u=(c=this.bbox).length;s<u;s++)e=c[s],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,u;for(s=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var En,Di=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,u,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*u+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),e5=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,u,c,h,v,g,y,p,S,L;for(L in p=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(p)/c),s=Math.floor(g/c),v=16*p-g,(a=new Di).writeInt(this.scalarType),a.writeShort(p),a.writeShort(g),a.writeShort(s),a.writeShort(v),i=16*p,h=a.pos+i,u=null,S=[],r)for(y=r[L],a.writeString(L),a.writeInt(t(y)),a.writeInt(h),a.writeInt(y.length),S=S.concat(y),L==="head"&&(u=h),h+=y.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=gh.call(r);r.length%4;)r.push(0);for(i=new Di(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),t5={}.hasOwnProperty,Gn=function(t,e){for(var r in e)t5.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};En=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var r5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Di).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),ff=function(){function t(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,P,x,E,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,i=function(){var W,V;for(V=[],c=W=0;0<=y?W<y:W>y;c=0<=y?++W:--W)V.push(e.readUInt16());return V}(),e.pos+=2,L=function(){var W,V;for(V=[],c=W=0;0<=y?W<y:W>y;c=0<=y?++W:--W)V.push(e.readUInt16());return V}(),h=function(){var W,V;for(V=[],c=W=0;0<=y?W<y:W>y;c=0<=y?++W:--W)V.push(e.readUInt16());return V}(),v=function(){var W,V;for(V=[],c=W=0;0<=y?W<y:W>y;c=0<=y?++W:--W)V.push(e.readUInt16());return V}(),a=(this.length-e.pos+this.offset)/2,u=function(){var W,V;for(V=[],c=W=0;0<=a?W<a:W>a;c=0<=a?++W:--W)V.push(e.readUInt16());return V}(),c=x=0,U=i.length;x<U;c=++x)for(P=i[c],n=E=S=L[c];S<=P?E<=P:E>=P;n=S<=P?++E:--E)v[c]===0?s=n+h[c]:(s=u[v[c]/2+(n-S)-(y-c)]||0)!==0&&(s+=h[c]),this.codeMap[n]=65535&s}e.pos=g}return t.encode=function(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,P,x,E,U,W,V,fe,Z,B,re,de,I,F,z,T,te,ae,$,K,he,pe,Ie,N,j,q,H,X,ne,le,oe,Pe,Se,je;switch(T=new Di,s=Object.keys(e).sort(function(Ee,Ge){return Ee-Ge}),r){case"macroman":for(L=0,P=function(){var Ee=[];for(S=0;S<256;++S)Ee.push(0);return Ee}(),E={0:0},i={},te=0,he=s.length;te<he;te++)E[oe=e[a=s[te]]]==null&&(E[oe]=++L),i[a]={old:e[a],new:E[e[a]]},P[a]=E[e[a]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(P),{charMap:i,subtable:T.data,maxGlyphID:L+1};case"unicode":for(F=[],g=[],U=0,E={},n={},x=h=null,ae=0,pe=s.length;ae<pe;ae++)E[V=e[a=s[ae]]]==null&&(E[V]=++U),n[a]={old:V,new:E[V]},u=E[V]-a,x!=null&&u===h||(x&&g.push(x),F.push(a),h=u),x=a;for(x&&g.push(x),g.push(65535),F.push(65535),de=2*(re=F.length),B=2*Math.pow(Math.log(re)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,Z=2*re-B,c=[],fe=[],p=[],S=$=0,Ie=F.length;$<Ie;S=++$){if(I=F[S],v=g[S],I===65535){c.push(0),fe.push(0);break}if(I-(z=n[I].new)>=32768)for(c.push(0),fe.push(2*(p.length+re-S)),a=K=I;I<=v?K<=v:K>=v;a=I<=v?++K:--K)p.push(n[a].new);else c.push(z-I),fe.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*re+2*p.length),T.writeUInt16(0),T.writeUInt16(de),T.writeUInt16(B),T.writeUInt16(y),T.writeUInt16(Z),ne=0,N=g.length;ne<N;ne++)a=g[ne],T.writeUInt16(a);for(T.writeUInt16(0),le=0,j=F.length;le<j;le++)a=F[le],T.writeUInt16(a);for(Pe=0,q=c.length;Pe<q;Pe++)u=c[Pe],T.writeUInt16(u);for(Se=0,H=fe.length;Se<H;Se++)W=fe[Se],T.writeUInt16(W);for(je=0,X=p.length;je<X;je++)L=p[je],T.writeUInt16(L);return{charMap:n,subtable:T.data,maxGlyphID:U+1}}},t}(),vh=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new ff(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=ff.encode(r,n),(i=new Di).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),n5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),i5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),a5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],s=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;s=0<=c?++u:--u)h.push(r.readUInt32());return h}).call(this)}},e}(),o5=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},s5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,u,c,h,v,g,y,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(h={},s=g=0,y=a.length;g<y;s=++g)i=a[s],r.pos=i.offset,v=r.readString(i.length),u=new o5(v,i),h[p=i.nameID]==null&&(h[p]=[]),h[i.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),l5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),u5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,u,c,h;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,g;for(g=[],n=v=0;0<=i?v<i:v>i;n=0<=i?++v:--v)g.push(r.readInt16());return g}(),this.widths=(function(){var v,g,y,p;for(p=[],v=0,g=(y=this.metrics).length;v<g;v++)s=y[v],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(this.widths.push(a));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),gh=[].slice,c5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,u,c,h,v,g,y;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,u=(c=new Di(n.read(i))).readShort(),v=c.readShort(),y=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[r]=u===-1?new h5(c,v,y,h,g):new f5(c,u,v,y,h,g),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,u,c,h;for(u=[],s=[],c=0,h=n.length;c<h;c++)i=r[n[c]],s.push(u.length),i&&(u=u.concat(i.encode(a)));return s.push(u.length),{table:u,offsets:s}},e}(),f5=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),h5=function(){function t(e,r,n,a,i){var s,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Di(gh.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),d5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,En),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,u=0;u<a.length;++u)if(a[u]=i,s<n.length&&n[s]==u){++s,a[u]=i;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(i+=h)}for(var v=new Array(4*a.length),g=0;g<a.length;++g)v[4*g+3]=255&a[g],v[4*g+2]=(65280&a[g])>>8,v[4*g+1]=(16711680&a[g])>>16,v[4*g]=(4278190080&a[g])>>24;return v},e}(),p5=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,u,c;for(a={},s=0,u=e.length;s<u;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,P,x;for(a in n=vh.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},x=n.charMap)p[(c=x[a]).old]=c.new;for(S in y=n.maxGlyphID,s)S in p||(p[S]=y++);return v=function(E){var U,W;for(U in W={},E)W[E[U]]=U;return W}(p),g=Object.keys(v).sort(function(E,U){return E-U}),L=function(){var E,U,W;for(W=[],E=0,U=g.length;E<U;E++)u=g[E],W.push(v[u]);return W}(),i=this.font.glyf.encode(s,L,p),h=this.font.loca.encode(i.offsets,L),P={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var u,c,h;for(h=[],u=0,c=r.length;u<c;u++)n=r[u],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function mh(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,u=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,h=u*c,v=/\r\n|\r|\n/g,g="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(v):t,y=g.length||1),r+=u*(2-i),n.valign==="middle"?r-=y/2*h:n.valign==="bottom"&&(r-=y*h),n.halign==="center"||n.halign==="right"){var p=u;if(n.halign==="center"&&(p*=.5),g&&y>=1){for(var S=0;S<g.length;S++)a.text(g[S],e-a.getStringUnitWidth(g[S])*p,r),r+=h;return a}e-=a.getStringUnitWidth(t)*p}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var hf={},Ha=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:hf=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),u=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var v=t.unifyColor(e.fillColor);v&&(n=this.jsPDFDocument).setFillColor.apply(n,v),v=t.unifyColor(e.textColor),v&&(a=this.jsPDFDocument).setTextColor.apply(a,v),v=t.unifyColor(e.lineColor),v&&(i=this.jsPDFDocument).setDrawColor.apply(i,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return hf||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Mu=function(t,e){return Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Mu(t,e)};function yh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bh=function(t){yh(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function v5(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function g5(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function el(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function wh(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=xh(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function xh(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function pl(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function _h(t,e){var r=pl(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function m5(t,e,r,n,a){var i={},s=1.3333333333333333,u=gu(e,function(U){return a.getComputedStyle(U).backgroundColor});u!=null&&(i.fillColor=u);var c=gu(e,function(U){return a.getComputedStyle(U).color});c!=null&&(i.textColor=c);var h=b5(n,r);h&&(i.cellPadding=h);var v="borderTopColor",g=s*r,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var p=(parseFloat(y)||0)/g;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?v="borderRightColor":i.lineWidth.bottom?v="borderBottomColor":i.lineWidth.left&&(v="borderLeftColor"));var S=gu(e,function(U){return a.getComputedStyle(U)[v]});S!=null&&(i.lineColor=S);var L=["left","right","center","justify"];L.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),L=["middle","bottom","top"],L.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var P=parseInt(n.fontSize||"");isNaN(P)||(i.fontSize=P/s);var x=y5(n);x&&(i.fontStyle=x);var E=(n.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(i.font=E),i}function y5(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function gu(t,e){var r=Ah(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Ah(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Ah(t.parentElement,e):r}function b5(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(u){return parseInt(u||"0")/n}),s=pl(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Nh(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=r.document.querySelector(e):u=e;var c=Object.keys(t.getFontList()),h=t.scaleFactor(),v=[],g=[],y=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:v,body:g,foot:y};for(var p=0;p<u.rows.length;p++){var S=u.rows[p],L=(s=(i=S==null?void 0:S.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),P=w5(c,h,r,S,n,a);P&&(L==="thead"?v.push(P):L==="tfoot"?y.push(P):g.push(P))}return{head:v,body:g,foot:y}}function w5(t,e,r,n,a,i){for(var s=new bh(n),u=0;u<n.cells.length;u++){var c=n.cells[u],h=r.getComputedStyle(c);if(a||h.display!=="none"){var v=void 0;i&&(v=m5(t,c,e,h,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:v,_element:c,content:x5(c)})}}var g=r.getComputedStyle(n);if(s.length>0&&(a||g.display!=="none"))return s}function x5(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function _5(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ai(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var u=arguments[s];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])}return i}function Sh(t,e){var r=new Ha(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();_5(a,n,e);var i=ai({},a,n,e),s;typeof window<"u"&&(s=window);var u=A5(a,n,e),c=N5(a,n,e),h=S5(r,i),v=k5(r,i,s);return{id:e.tableId,content:v,hooks:c,styles:u,settings:h}}function A5(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var h=t[c],v=e[c],g=r[c];n.columnStyles=ai({},h,v,g)}else{var y=[t,e,r],p=y.map(function(S){return S[c]||{}});n[c]=ai({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var u=s[i];a(u)}return n}function N5(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var u=s[i];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function S5(t,e){var r,n,a,i,s,u,c,h,v,g,y,p,S=pl(e.margin,40/t.scaleFactor()),L=(r=L5(t,e.startY))!==null&&r!==void 0?r:S.top,P;e.showFoot===!0?P="everyPage":e.showFoot===!1?P="never":P=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=e.useCss)!==null&&i!==void 0?i:!1,U=e.theme||(E?"plain":"striped"),W=!!e.horizontalPageBreak,V=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:E,theme:U,startY:L,margin:S,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:x,showFoot:P,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:W,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function L5(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function k5(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var u=Nh(t,e.html,r,s,e.useCss)||{};n=u.head||n,a=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||P5(n,a,i);return{columns:c,head:n,body:a,foot:i}}function P5(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(s=(u==null?void 0:u.colSpan)||1);for(var c=0;c<s;c++){var h=void 0;Array.isArray(n)?h=a.length:h=i+(c>0?"_".concat(c):"");var v={dataKey:h};a.push(v)}}),a}var zu=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),C5=function(t){yh(e,t);function e(r,n,a,i,s,u){var c=t.call(this,r,n,u)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(zu),I5=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var u=0,c=r;u<c.length;u++){var h=c[u],v=new C5(e,this,n,a,i,s),g=h(v)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new zu(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new zu(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Lh=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof bh&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var u=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),h=c+u;return h>a?h:a},0)},t}(),kh=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=s.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=pl(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),F5=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function E5(t,e){j5(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Uu(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Uu(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),O5(e),q5(e,t),D5(e)}function j5(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=_h(t,e);e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){var v=e.hooks.didParseCell;e.callCellHooks(t,v,h,i,c,null);var g=h.padding("horizontal");h.contentWidth=el(h.text,h.styles,t)+g;var y=el(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var p=10/r;h.minWidth=h.styles.minCellWidth||p,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var v=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=v.cellWidth||v.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function Uu(t,e,r){for(var n=e,a=t.reduce(function(p,S){return p+S.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],u=s.wrappedWidth/a,c=n*u,h=s.width+c,v=r(s),g=h<v?v:h;e-=g-s.width,s.width=g}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(p){return e<0?p.width>r(p):!0});y.length&&(e=Uu(y,e,r))}return e}function D5(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var v=i.cells[c.index];if(!v)continue;if(v.height=i.height,v.rowSpan>1){var g=n.length-a,y=v.rowSpan>g?g:v.rowSpan;e[c.index]={cell:v,left:y,row:i}}}}}function O5(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,u=0;u<t.columns.length;u++){var c=t.columns[u];if(s-=1,s>1&&t.columns[u+1])i+=c.width,delete n.cells[c.index];else if(a){var h=a;delete n.cells[c.index],a=null,h.width=c.width+i}else{var h=n.cells[c.index];if(!h)continue;if(s=h.colSpan,i=0,h.colSpan>1){a=h,i+=c.width;continue}h.width=c.width+i}}}function q5(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){e.applyStyles(h.styles,!0);var v=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,v+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=df(h.text,v,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=df(h.text,v,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,v);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<y*h.rowSpan?r={height:y,count:h.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>i.height&&(i.height=y)}}r.count--}}function df(t,e,r,n,a){return t.map(function(i){return R5(i,e,r,n,a)})}function R5(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=el(t,r,n))return t;for(;e<el(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Ph(t,e){var r=new Ha(t),n=B5(e,r.scaleFactor()),a=new I5(e,n);return E5(r,a),r.applyStyles(r.userStyles),a}function B5(t,e){var r=t.content,n=M5(r.columns);if(r.head.length===0){var a=pf(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=pf(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:mu("head",r.head,n,s,i,e),body:mu("body",r.body,n,s,i,e),foot:mu("foot",r.foot,n,s,i,e)}}function mu(t,e,r,n,a,i){var s={},u=e.map(function(c,h){for(var v=0,g={},y=0,p=0,S=0,L=r;S<L.length;S++){var P=L[S];if(s[P.index]==null||s[P.index].left===0)if(p===0){var x=void 0;Array.isArray(c)?x=c[P.index-y-v]:x=c[P.dataKey];var E={};typeof x=="object"&&!Array.isArray(x)&&(E=(x==null?void 0:x.styles)||{});var U=z5(t,P,h,a,n,i,E),W=new kh(x,U,t);g[P.dataKey]=W,g[P.index]=W,p=W.colSpan-1,s[P.index]={left:W.rowSpan-1,times:p}}else p--,y++;else s[P.index].left--,p=s[P.index].times,v++}return new Lh(c,h,t,g)});return u}function pf(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=T5(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function T5(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function M5(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new F5(a,e,r)})}function z5(t,e,r,n,a,i,s){var u=g5(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var h=ai({},u.table,u[t],a.styles,c),v=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},g=t==="body"?v:{},y=t==="body"&&r%2===0?ai({},u.alternateRow,a.alternateRowStyles):{},p=v5(i),S=ai({},p,h,y,g);return ai(S,s)}function U5(t,e,r){var n;r===void 0&&(r={});var a=_h(t,e),i=new Map,s=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var p=e.columns.find(function(S){return S.dataKey===y||S.index===y});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),u.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var h=!0,v=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;v<e.columns.length;){if(i.has(v)){v++;continue}var g=e.columns[v].wrappedWidth;if(h||a>=g)h=!1,s.push(v),u.push(e.columns[v]),a-=g;else break;v++}return{colIndexes:s,columns:u,lastIndex:v-1}}function H5(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=U5(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Ch(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(y,p){return y+p.height},0);u+=h}var v=new Ha(t);(r.pageBreak==="always"||r.startY!=null&&u>v.pageSize().height)&&(Fh(v),i.y=a.top),e.callWillDrawPageHooks(v,i);var g=ai({},i);e.startPageNumber=v.pageNumber(),r.horizontalPageBreak?W5(v,e,g,i):(v.applyStyles(v.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return si(v,e,y,i,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(y,p){var S=p===e.body.length-1;tl(v,e,y,S,g,i,e.columns)}),v.applyStyles(v.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return si(v,e,y,i,e.columns)})),wh(v,e,g,i),e.callEndPageHooks(v,i),e.finalY=i.y,t.lastAutoTable=e,v.applyStyles(v.userStyles)}function W5(t,e,r,n){var a=H5(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,v){t.applyStyles(t.userStyles),v>0?Eo(t,e,r,n,h.columns,!0):vf(t,e,n,h.columns),V5(t,e,r,n,h.columns),yu(t,e,n,h.columns)});else for(var s=-1,u=a[0],c=function(){var h=s;if(u){t.applyStyles(t.userStyles);var v=u.columns;s>=0?Eo(t,e,r,n,v,!0):vf(t,e,n,v),h=gf(t,e,s+1,n,v),yu(t,e,n,v)}var g=h-s;a.slice(1).forEach(function(y){t.applyStyles(t.userStyles),Eo(t,e,r,n,y.columns,!0),gf(t,e,s+1,n,y.columns,g),yu(t,e,n,y.columns)}),s=h};s<e.body.length-1;)c()}function vf(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return si(t,e,i,r,n)})}function V5(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var u=s===e.body.length-1;tl(t,e,i,u,r,n,a)})}function gf(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),u=-1;return e.body.slice(r,s).forEach(function(c,h){var v=r+h===e.body.length-1,g=Ih(t,e,v,n);c.canEntireRowFit(g,a)&&(si(t,e,c,n,a),u=r+h)}),u}function yu(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return si(t,e,i,r,n)})}function G5(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function Y5(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,u=r.columns;s<u.length;s++){var c=u[s],h=t.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var v=new kh(h.raw,h.styles,h.section);v=ai(v,h),v.text=[];var g=G5(h,e,n);h.text.length>g&&(v.text=h.text.splice(g,h.text.length));var y=n.scaleFactor(),p=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,p),h.contentHeight>=e&&(h.contentHeight=e,v.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),v.contentHeight=v.getContentHeight(y,p),v.contentHeight>i&&(i=v.contentHeight),a[c.index]=v}}var S=new Lh(t.raw,-1,t.section,a,!0);S.height=i;for(var L=0,P=r.columns;L<P.length;L++){var c=P[L],v=S.cells[c.index];v&&(v.height=S.height);var h=t.cells[c.index];h&&(h.height=t.height)}return S}function J5(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,u=a-s;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),h=c<r;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var v=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>u;return g?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||n.settings.rowPageBreak==="avoid")}function tl(t,e,r,n,a,i,s){var u=Ih(t,e,n,i);if(r.canEntireRowFit(u,s))si(t,e,r,i,s);else if(J5(t,r,u,e)){var c=Y5(r,u,e,t);si(t,e,r,i,s),Eo(t,e,a,i,s),tl(t,e,c,n,a,i,s)}else Eo(t,e,a,i,s),tl(t,e,r,n,a,i,s)}function si(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var u=s[i],c=r.cells[u.index];if(!c){n.x+=u.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,c,r,u,n);if(h===!1){n.x+=u.width;continue}$5(t,c,n);var v=c.getTextPos();mh(c.text,v.x,v.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,u,n),n.x+=u.width}n.y+=r.height}function $5(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=xh(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),X5(t,e,r,n.lineWidth))}function X5(t,e,r,n){var a,i,s,u;n.top&&(a=r.x,i=r.y,s=r.x+e.width,u=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,u)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,u=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,u)),n.left&&(a=r.x,i=r.y,s=r.x,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.left,a,i,s,u)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.right,a,i,s,u));function c(h,v,g,y,p){t.getDocument().setLineWidth(h),t.getDocument().line(v,g,y,p,"S")}}function Ih(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Eo(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(u){return si(t,e,u,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;wh(t,e,r,n),Fh(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return si(t,e,u,n,a)}),t.applyStyles(t.userStyles))}function Fh(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Q5(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=Sh(this,n),i=Ph(this,a);return Ch(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){mh(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Ha.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Ha.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ha(this),i=Nh(a,e,window,r,!1),s=i.head,u=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:c,rows:u,data:u}}}var bu;function K5(t,e){var r=Sh(t,e),n=Ph(t,r);Ch(t,n)}try{if(typeof window<"u"&&window){var mf=window,yf=mf.jsPDF||((bu=mf.jspdf)===null||bu===void 0?void 0:bu.jsPDF);yf&&Q5(yf)}}catch(t){console.error("Could not apply autoTable plugin",t)}function Z5(t,e,r=""){const n=new Ze;n.setFontSize(20),n.setTextColor(0,102,255),n.text("CRIBS School Assessment Results",105,20,{align:"center"}),r&&(n.setFontSize(16),n.setTextColor(0,0,0),n.text(`School: ${r}`,105,30,{align:"center"}));const a={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality"};n.setFontSize(16),n.setTextColor(0,0,0),n.text(`Assessment Category: ${a[e]||e}`,105,r?40:30,{align:"center"});const s=new Date().toLocaleDateString();if(n.setFontSize(12),n.text(`Date: ${s}`,105,r?50:40,{align:"center"}),n.setFontSize(14),n.setTextColor(0,102,255),n.text("Recommended Interventions:",20,r?65:55),t.length===0)n.setFontSize(12),n.setTextColor(0,0,0),n.text("No issues were identified in this category. Your school is doing well in this area!",20,r?75:65);else{const c=t.map((h,v)=>[`${v+1}. ${h.icon||""}`,h.text]);K5(n,{startY:r?70:60,head:[["","Recommendation"]],body:c,theme:"grid",headStyles:{fillColor:[255,192,77],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{cellWidth:20},1:{cellWidth:"auto"}},styles:{overflow:"linebreak",cellPadding:5}})}let u=r?85:75;return n.lastAutoTable&&n.lastAutoTable.finalY&&(u=n.lastAutoTable.finalY+20),n.setFontSize(10),n.setTextColor(128,128,128),n.text("Generated by School Climate Assessment Tool",105,u,{align:"center"}),n.text("Powered by AI-for-Education.org",105,u+14,{align:"center"}),n}function e0(t,e,r=""){const n=Z5(t,e,r),a={"water-supply":"water","water-demand":"demand","dust-impacts":"dust","heat-impacts":"heat","rainwater-entry":"rain","flood-management":"flood","wildfire-impacts":"fire","electricity-supply":"elec","air-quality":"air"},i=new Date().toISOString().replace(/[:.]/g,"-").substring(0,19),s=`CRIBS_${a[e]||e}_${i}.pdf`;return n.save(s),s}var t0=Ve('<button class="mr-2 text-sm px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">← Start Over</button>'),r0=Ve('<button class="mr-2 text-sm px-3 py-1 rounded-lg bg-blue-100 hover:bg-blue-200 text-blue-700">View Flowchart</button>'),n0=Ve('<button class="text-sm px-3 py-1 rounded-lg bg-purple-100 hover:bg-purple-200 text-purple-700">Edit Flowchart</button>'),i0=Ve('<button class="text-sm px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">Exit Editor</button>'),a0=Ve("<!> <!> <!> <!>",1),o0=Ve('<div class="container mx-auto px-4 py-8"><!></div>'),s0=Ve('<main class="container fade-in svelte-1op70pk"><!></main>'),l0=Ve("<!> <!>",1);function u0(t,e){vn(e,!1);let r=yt("welcome"),n=yt(null),a=yt(null),i=yt({}),s=yt(0),u={},c=yt([]),h=new Set,v=yt(new Set);const g={"water-supply":[{id:"ws-availability",title:"Water Availability",description:"Evaluate if the current water supply meets the facility needs.",startQuestionId:"ws1"},{id:"ws-storage",title:"Water Storage Capacity",description:"Assess if water storage and distribution systems are sufficient.",startQuestionId:"ws4"}],"water-demand":[{id:"wd-toilets",title:"Toilet Water Usage",description:"Evaluate toilet water consumption and alternatives.",startQuestionId:"wd1"},{id:"wd-irrigation",title:"Irrigation Water Usage",description:"Assess water usage for gardens and outdoor areas.",startQuestionId:"wd3"}],"dust-impacts":[{id:"di-internal",title:"Internal Dust Sources",description:"Evaluate dust sources within the facility grounds.",startQuestionId:"di1"},{id:"di-external",title:"External Dust Sources",description:"Assess impact of dust from outside the facility.",startQuestionId:"di2"},{id:"di-mitigation",title:"Dust Mitigation Options",description:"Explore options for reducing dust impacts on the facility.",startQuestionId:"di5"}],"heat-impacts":[{id:"hi-direct-sunlight",title:"Direct Sunlight Issues",description:"Evaluate how direct sunlight affects building temperature.",startQuestionId:"hi1"},{id:"hi-roof-heat",title:"Roof Heat Transfer",description:"Assess how heat transfers through the roof structure.",startQuestionId:"hi12"}],"rainwater-entry":[{id:"re-roof",title:"Roof Leakage",description:"Address rainwater entry through the roof.",startQuestionId:"re1"},{id:"re-windows",title:"Window Leakage",description:"Evaluate rainwater entry through windows.",startQuestionId:"re8"},{id:"re-doors",title:"Door Leakage",description:"Address rainwater entry under doors.",startQuestionId:"re12"}],"flood-management":[{id:"fm-external",title:"External Flooding",description:"Manage external flood water sources.",startQuestionId:"fm1"},{id:"fm-drainage",title:"Site Drainage",description:"Improve site drainage to manage rainwater.",startQuestionId:"fm5"},{id:"fm-building",title:"Building Protection",description:"Protect buildings from flood damage.",startQuestionId:"fm7"},{id:"fm-contamination",title:"Water Contamination",description:"Address water contamination during flooding.",startQuestionId:"fm11"}],"wildfire-impacts":[{id:"wi-air",title:"Air Quality",description:"Manage air quality impacts from wildfires.",startQuestionId:"wi1"},{id:"wi-prevention",title:"Fire Prevention",description:"Reduce risk of fires spreading to site.",startQuestionId:"wi2"},{id:"wi-escape",title:"Emergency Escape",description:"Plan evacuation routes and emergency access.",startQuestionId:"wi3"}],"electricity-supply":[{id:"es-increase",title:"Increase Supply",description:"Evaluate options to enhance electricity supply.",startQuestionId:"es1"},{id:"es-reduce",title:"Reduce Demand",description:"Implement strategies to reduce electricity consumption.",startQuestionId:"es5"},{id:"es-lighting",title:"Natural Lighting",description:"Improve natural lighting to reduce electricity needs.",startQuestionId:"es11"}],"air-quality":[{id:"aq-outdoor",title:"Outdoor Air Quality",description:"Address external air quality issues affecting the facility.",startQuestionId:"aq1"},{id:"aq-indoor",title:"Indoor Air Quality",description:"Improve indoor air quality within the facility.",startQuestionId:"aq9"}],"rain-noise":[{id:"rn-building",title:"Rain Noise Impact",description:"Assess and mitigate the impact of rain noise on buildings",startQuestionId:"rn1"}]};let y={};function p(){Fe(r,"categories"),W()}function S(F){if(Fe(n,F.detail.detail),g[O(n)]&&g[O(n)].length>1)V(),Fe(r,"branches");else{V(),Fe(r,"question");const z=K1(O(n));z?(Fe(i,z),h.add(O(i).id),Z()):(console.error("No first question found for category ID:",O(n)),Fe(r,"results"),Z())}}function L(F){const z=F.detail.detail;Fe(a,z);const T=g[O(n)].find(K=>K.id===z);if(!T){console.error("Branch not found:",z);return}fe(),Fe(r,"question");const te=T.startQuestionId,$=Yt[O(n)].find(K=>K.id===te);$?(Fe(i,$),h.add(O(i).id),Z()):(console.error("Start question not found for branch:",z,"startQuestionId:",te),Fe(r,"branches"))}function P(F){const z=F.detail.answer,T=O(i).id;u[T]=z;const te=Q1(O(n),T,z);te?te.type==="recommendation"?(O(c).push(te.data),Fe(c,O(c)),O(a)&&(y[O(a)]||(y[O(a)]=[]),y[O(a)].push(te.data),O(v).add(O(a))),Fe(r,"results")):te.type==="end"?(O(a)&&O(v).add(O(a)),Fe(r,"results")):te.type==="question"?(Fe(i,te.data),h.add(O(i).id)):(console.error("Unknown next step type:",te.type),Fe(r,"results")):(console.error("Error determining next step from",T,"with answer",z),Fe(r,"results")),Z()}function x(){Fe(r,"categories"),W()}function E(){Fe(r,"branches"),fe()}function U(){const F=prompt("Enter school name (optional) for the PDF report:","");if(F===null)return;const z=[];for(const T in y)z.push(...y[T]);try{const T=e0(z.length>0?z:O(c),O(n),F);alert(`Results exported successfully as ${T}`)}catch(T){console.error("Error exporting PDF:",T),alert("An error occurred while exporting the results.")}}function W(){Fe(n,null),Fe(a,null),Fe(i,{}),Fe(s,0),u={},Fe(c,[]),h=new Set,Fe(v,new Set),y={}}function V(){Fe(a,null),Fe(i,{}),Fe(s,0),u={},Fe(c,[]),h=new Set,Fe(v,new Set),y={}}function fe(){Fe(i,{}),Fe(s,0),u={},Fe(c,[]),h=new Set}function Z(){var F;if(O(r)==="question"&&O(n)){const z=Object.keys(u).length;Fe(s,Math.min(99,Math.round(z/3*100)))}else if(O(r)==="results")Fe(s,100);else if(O(r)==="branches"){const z=((F=g[O(n)])==null?void 0:F.length)||1,T=O(v).size;Fe(s,Math.round(T/z*100))}else Fe(s,0)}function B(){Fe(r,"editor")}In();var re=l0(),de=kn(re);G1(de,{get progress(){return O(s)},children:(F,z)=>{var T=a0(),te=kn(T);{var ae=j=>{var q=t0();ct("click",q,()=>Fe(r,"welcome")),ze(j,q)};pt(te,j=>{O(r)!=="welcome"&&O(r)!=="editor"&&j(ae)})}var $=Ce(te,2);{var K=j=>{var q=r0();ct("click",q,()=>Fe(r,"visualization")),ze(j,q)};pt($,j=>{O(r)!=="visualization"&&O(r)!=="editor"&&j(K)})}var he=Ce($,2);{var pe=j=>{var q=n0();ct("click",q,B),ze(j,q)};pt(he,j=>{O(r)!=="editor"&&j(pe)})}var Ie=Ce(he,2);{var N=j=>{var q=i0();ct("click",q,()=>Fe(r,"welcome")),ze(j,q)};pt(Ie,j=>{O(r)==="editor"&&j(N)})}ze(F,T)},$$slots:{default:!0}});var I=Ce(de,2);b1(I,()=>O(r),F=>{var z=s0(),T=_e(z);{var te=$=>{J1($,{$$events:{start:p}})},ae=($,K)=>{{var he=Ie=>{t2(Ie,{$$events:{select:S}})},pe=(Ie,N)=>{{var j=H=>{const X=ar(()=>g[O(n)]||[]),ne=ar(()=>Array.from(O(v)));a2(H,{get category(){return O(n)},get branches(){return O(X)},get completedBranches(){return O(ne)},$$events:{select:L,back:x}})},q=(H,X)=>{{var ne=oe=>{u2(oe,{get question(){return O(i).text},get helpText(){return O(i).help},get currentCategory(){return O(n)},get questionId(){return O(i).id},$$events:{answer:P}})},le=(oe,Pe)=>{{var Se=Ee=>{const Ge=ar(()=>!!O(a));m2(Ee,{get results(){return O(c)},get category(){return O(n)},get fromBranch(){return O(Ge)},$$events:{categories:x,branches:E,export:U}})},je=(Ee,Ge)=>{{var me=Xe=>{P2(Xe,{})},M=(Xe,Be)=>{{var se=ve=>{var Ne=o0(),Le=_e(Ne);vp(Le,{}),ze(ve,Ne)};pt(Xe,ve=>{O(r)==="editor"&&ve(se)},Be)}};pt(Ee,Xe=>{O(r)==="visualization"?Xe(me):Xe(M,!1)},Ge)}};pt(oe,Ee=>{O(r)==="results"?Ee(Se):Ee(je,!1)},Pe)}};pt(H,oe=>{O(r)==="question"?oe(ne):oe(le,!1)},X)}};pt(Ie,H=>{O(r)==="branches"?H(j):H(q,!1)},N)}};pt($,Ie=>{O(r)==="categories"?Ie(he):Ie(pe,!1)},K)}};pt(T,$=>{O(r)==="welcome"?$(te):$(ae,!1)})}ze(F,z)}),ze(t,re),gn()}g1(u0,{target:document.getElementById("app")});export{Lt as _};
