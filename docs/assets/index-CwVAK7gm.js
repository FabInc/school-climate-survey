(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Ec=!1;var To=Array.isArray,vd=Array.prototype.indexOf,Vu=Array.from,wf=Object.defineProperty,Ra=Object.getOwnPropertyDescriptor,gd=Object.getOwnPropertyDescriptors,md=Object.prototype,yd=Array.prototype,_f=Object.getPrototypeOf,jc=Object.isExtensible;const Ba=()=>{};function bd(t){return t()}function xu(t){for(var e=0;e<t.length;e++)t[e]()}const pn=2,xf=4,nl=8,Gu=16,si=32,Va=64,Ws=128,en=256,Vs=512,jr=1024,Hn=2048,Oi=4096,ai=8192,il=16384,wd=32768,Yu=65536,Af=1<<17,_d=1<<19,Nf=1<<20,Au=1<<21,Ci=Symbol("$state"),xd=Symbol("legacy props");function Sf(t){return t===this.v}function Ju(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ad(t,e){return t!==e}function $u(t){return!Ju(t,this.v)}function Nd(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Sd(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ld(t){throw new Error("https://svelte.dev/e/effect_orphan")}function kd(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Pd(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Cd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Id(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fd(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ga=!1,Ed=!1;function jd(){Ga=!0}const Xu=1,Ku=2,Lf=4,Dd=8,Od=16,qd=1,Rd=2,Bd=4,Td=8,Md=16,zd=1,Ud=2,Ir=Symbol();function kf(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Bt=null;function Dc(t){Bt=t}function gn(t,e=!1,r){var n=Bt={p:Bt,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ga&&!e&&(Bt.l={s:null,u:null,r1:[],r2:Oo(!1)}),ol(()=>{n.d=!0})}function mn(t){const e=Bt;if(e!==null){const s=e.e;if(s!==null){var r=jt,n=Et;e.e=null;try{for(var a=0;a<s.length;a++){var i=s[a];Ei(i.effect),Wn(i.reaction),sl(i.fn)}}finally{Ei(r),Wn(n)}}Bt=e.p,e.m=!0}return{}}function Ya(){return!Ga||Bt!==null&&Bt.l===null}function $i(t){if(typeof t!="object"||t===null||Ci in t)return t;const e=_f(t);if(e!==md&&e!==yd)return t;var r=new Map,n=To(t),a=xi(0),i=Et,s=u=>{var c=Et;Wn(i);var h=u();return Wn(c),h};return n&&r.set("length",xi(t.length)),new Proxy(t,{defineProperty(u,c,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Cd();var v=r.get(c);return v===void 0?(v=s(()=>xi(h.value)),r.set(c,v)):Ie(v,s(()=>$i(h.value))),!0},deleteProperty(u,c){var h=r.get(c);if(h===void 0)c in u&&(r.set(c,s(()=>xi(Ir))),iu(a));else{if(n&&typeof c=="string"){var v=r.get("length"),g=Number(c);Number.isInteger(g)&&g<v.v&&Ie(v,g)}Ie(h,Ir),iu(a)}return!0},get(u,c,h){var p;if(c===Ci)return t;var v=r.get(c),g=c in u;if(v===void 0&&(!g||(p=Ra(u,c))!=null&&p.writable)&&(v=s(()=>xi($i(g?u[c]:Ir))),r.set(c,v)),v!==void 0){var y=O(v);return y===Ir?void 0:y}return Reflect.get(u,c,h)},getOwnPropertyDescriptor(u,c){var h=Reflect.getOwnPropertyDescriptor(u,c);if(h&&"value"in h){var v=r.get(c);v&&(h.value=O(v))}else if(h===void 0){var g=r.get(c),y=g==null?void 0:g.v;if(g!==void 0&&y!==Ir)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return h},has(u,c){var y;if(c===Ci)return!0;var h=r.get(c),v=h!==void 0&&h.v!==Ir||Reflect.has(u,c);if(h!==void 0||jt!==null&&(!v||(y=Ra(u,c))!=null&&y.writable)){h===void 0&&(h=s(()=>xi(v?$i(u[c]):Ir)),r.set(c,h));var g=O(h);if(g===Ir)return!1}return v},set(u,c,h,v){var E;var g=r.get(c),y=c in u;if(n&&c==="length")for(var p=h;p<g.v;p+=1){var S=r.get(p+"");S!==void 0?Ie(S,Ir):p in u&&(S=s(()=>xi(Ir)),r.set(p+"",S))}g===void 0?(!y||(E=Ra(u,c))!=null&&E.writable)&&(g=s(()=>xi(void 0)),Ie(g,s(()=>$i(h))),r.set(c,g)):(y=g.v!==Ir,Ie(g,s(()=>$i(h))));var L=Reflect.getOwnPropertyDescriptor(u,c);if(L!=null&&L.set&&L.set.call(v,h),!y){if(n&&typeof c=="string"){var C=r.get("length"),_=Number(c);Number.isInteger(_)&&_>=C.v&&Ie(C,_+1)}iu(a)}return!0},ownKeys(u){O(a);var c=Reflect.ownKeys(u).filter(g=>{var y=r.get(g);return y===void 0||y.v!==Ir});for(var[h,v]of r)v.v!==Ir&&!(h in u)&&c.push(h);return c},setPrototypeOf(){Id()}})}function iu(t,e=1){Ie(t,t.v+e)}function Oc(t){try{if(t!==null&&typeof t=="object"&&Ci in t)return t[Ci]}catch{}return t}function Pf(t,e){return Object.is(Oc(t),Oc(e))}function jo(t){var e=pn|Hn,r=Et!==null&&(Et.f&pn)!==0?Et:null;return jt===null||r!==null&&(r.f&en)!==0?e|=en:jt.f|=Nf,{ctx:Bt,deps:null,effects:null,equals:Sf,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??jt}}function ir(t){const e=jo(t);return e.equals=$u,e}function Cf(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Fi(e[r])}}function Hd(t){for(var e=t.parent;e!==null;){if((e.f&pn)===0)return e;e=e.parent}return null}function If(t){var e,r=jt;Ei(Hd(t));try{Cf(t),e=Vf(t)}finally{Ei(r)}return e}function Ff(t){var e=If(t),r=(ki||(t.f&en)!==0)&&t.deps!==null?Oi:jr;vn(t,r),t.equals(e)||(t.v=e,t.wv=Hf())}const Do=new Map;function Oo(t,e){var r={f:0,v:t,reactions:null,equals:Sf,rv:0,wv:0};return r}function xi(t,e){const r=Oo(t);return Zd(r),r}function yt(t,e=!1){var n;const r=Oo(t);return e||(r.equals=$u),Ga&&Bt!==null&&Bt.l!==null&&((n=Bt.l).s??(n.s=[])).push(r),r}function zr(t,e){return Ie(t,Vn(()=>O(t))),e}function Ie(t,e,r=!1){Et!==null&&!Tn&&Ya()&&(Et.f&(pn|Gu))!==0&&!(Er!=null&&Er.includes(t))&&Fd();let n=r?$i(e):e;return qo(t,n)}function qo(t,e){if(!t.equals(e)){var r=t.v;zo?Do.set(t,e):Do.set(t,r),t.v=e,(t.f&pn)!==0&&((t.f&Hn)!==0&&If(t),vn(t,(t.f&en)===0?jr:Oi)),t.wv=Hf(),Ef(t,Hn),Ya()&&jt!==null&&(jt.f&jr)!==0&&(jt.f&(si|Va))===0&&(hn===null?e1([t]):hn.push(t))}return e}function Ef(t,e){var r=t.reactions;if(r!==null)for(var n=Ya(),a=r.length,i=0;i<a;i++){var s=r[i],u=s.f;(u&Hn)===0&&(!n&&s===jt||(vn(s,e),(u&(jr|en))!==0&&((u&pn)!==0?Ef(s,Oi):fl(s))))}}let Wd=!1;var qc,jf,Df,Of;function Vd(){if(qc===void 0){qc=window,jf=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Df=Ra(e,"firstChild").get,Of=Ra(e,"nextSibling").get,jc(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),jc(r)&&(r.__t=void 0)}}function Qu(t=""){return document.createTextNode(t)}function Gs(t){return Df.call(t)}function al(t){return Of.call(t)}function ye(t,e){return Gs(t)}function Pn(t,e){{var r=Gs(t);return r instanceof Comment&&r.data===""?al(r):r}}function ke(t,e=1,r=!1){let n=t;for(;e--;)n=al(n);return n}function Gd(t){t.textContent=""}function qf(t){jt===null&&Et===null&&Ld(),Et!==null&&(Et.f&en)!==0&&jt===null&&Sd(),zo&&Nd()}function Yd(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ja(t,e,r,n=!0){var a=jt,i={ctx:Bt,deps:null,nodes_start:null,nodes_end:null,f:t|Hn,first:null,fn:e,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{cl(i),i.f|=wd}catch(c){throw Fi(i),c}else e!==null&&fl(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Nf|Ws))===0;if(!s&&n&&(a!==null&&Yd(i,a),Et!==null&&(Et.f&pn)!==0)){var u=Et;(u.effects??(u.effects=[])).push(i)}return i}function ol(t){const e=Ja(nl,null,!1);return vn(e,jr),e.teardown=t,e}function Nu(t){qf();var e=jt!==null&&(jt.f&si)!==0&&Bt!==null&&!Bt.m;if(e){var r=Bt;(r.e??(r.e=[])).push({fn:t,effect:jt,reaction:Et})}else{var n=sl(t);return n}}function Jd(t){return qf(),Mo(t)}function $d(t){const e=Ja(Va,t,!0);return(r={})=>new Promise(n=>{r.outro?Ro(e,()=>{Fi(e),n(void 0)}):(Fi(e),n(void 0))})}function sl(t){return Ja(xf,t,!1)}function Ki(t,e){var r=Bt,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Mo(()=>{t(),!n.ran&&(n.ran=!0,Ie(r.l.r2,!0),Vn(e))})}function Zu(){var t=Bt;Mo(()=>{if(O(t.l.r2)){for(var e of t.l.r1){var r=e.effect;(r.f&jr)!==0&&vn(r,Oi),$a(r)&&cl(r),e.ran=!1}t.l.r2.v=!1}})}function Mo(t){return Ja(nl,t,!0)}function wt(t,e=[],r=jo){const n=e.map(r);return ll(()=>t(...n.map(O)))}function ll(t,e=0){return Ja(nl|Gu|e,t,!0)}function Wa(t,e=!0){return Ja(nl|si,t,!0,e)}function Rf(t){var e=t.teardown;if(e!==null){const r=zo,n=Et;Rc(!0),Wn(null);try{e.call(null)}finally{Rc(r),Wn(n)}}}function Bf(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&Va)!==0?r.parent=null:Fi(r,e),r=n}}function Xd(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&si)===0&&Fi(e),e=r}}function Fi(t,e=!0){var r=!1;(e||(t.f&_d)!==0)&&t.nodes_start!==null&&(Kd(t.nodes_start,t.nodes_end),r=!0),Bf(t,e&&!r),Qs(t,0),vn(t,il);var n=t.transitions;if(n!==null)for(const i of n)i.stop();Rf(t);var a=t.parent;a!==null&&a.first!==null&&Tf(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Kd(t,e){for(;t!==null;){var r=t===e?null:al(t);t.remove(),t=r}}function Tf(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Ro(t,e){var r=[];ec(t,r,!0),Mf(r,()=>{Fi(t),e&&e()})}function Mf(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var a of t)a.out(n)}else e()}function ec(t,e,r){if((t.f&ai)===0){if(t.f^=ai,t.transitions!==null)for(const s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var a=n.next,i=(n.f&Yu)!==0||(n.f&si)!==0;ec(n,e,i?r:!1),n=a}}}function Ys(t){zf(t,!0)}function zf(t,e){if((t.f&ai)!==0){t.f^=ai,(t.f&jr)===0&&(t.f^=jr),$a(t)&&(vn(t,Hn),fl(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&Yu)!==0||(r.f&si)!==0;zf(r,a?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let Js=[];function Qd(){var t=Js;Js=[],xu(t)}function $s(t){Js.length===0&&queueMicrotask(Qd),Js.push(t)}let Bs=!1,Su=!1,Xs=null,Qi=!1,zo=!1;function Rc(t){zo=t}let Ts=[];let Et=null,Tn=!1;function Wn(t){Et=t}let jt=null;function Ei(t){jt=t}let Er=null;function Zd(t){Et!==null&&Et.f&Au&&(Er===null?Er=[t]:Er.push(t))}let Fr=null,Qr=0,hn=null;function e1(t){hn=t}let Uf=1,Ks=0,ki=!1,Li=null;function Hf(){return++Uf}function $a(t){var g;var e=t.f;if((e&Hn)!==0)return!0;if((e&Oi)!==0){var r=t.deps,n=(e&en)!==0;if(r!==null){var a,i,s=(e&Vs)!==0,u=n&&jt!==null&&!ki,c=r.length;if(s||u){var h=t,v=h.parent;for(a=0;a<c;a++)i=r[a],(s||!((g=i==null?void 0:i.reactions)!=null&&g.includes(h)))&&(i.reactions??(i.reactions=[])).push(h);s&&(h.f^=Vs),u&&v!==null&&(v.f&en)===0&&(h.f^=en)}for(a=0;a<c;a++)if(i=r[a],$a(i)&&Ff(i),i.wv>t.wv)return!0}(!n||jt!==null&&!ki)&&vn(t,jr)}return!1}function t1(t,e){for(var r=e;r!==null;){if((r.f&Ws)!==0)try{r.fn(t);return}catch{r.f^=Ws}r=r.parent}throw Bs=!1,t}function Bc(t){return(t.f&il)===0&&(t.parent===null||(t.parent.f&Ws)===0)}function ul(t,e,r,n){if(Bs){if(r===null&&(Bs=!1),Bc(e))throw t;return}if(r!==null&&(Bs=!0),t1(t,e),Bc(e))throw t}function Wf(t,e,r=!0){var n=t.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];Er!=null&&Er.includes(t)||((i.f&pn)!==0?Wf(i,e,!1):e===i&&(r?vn(i,Hn):(i.f&jr)!==0&&vn(i,Oi),fl(i)))}}function Vf(t){var p;var e=Fr,r=Qr,n=hn,a=Et,i=ki,s=Er,u=Bt,c=Tn,h=t.f;Fr=null,Qr=0,hn=null,ki=(h&en)!==0&&(Tn||!Qi||Et===null),Et=(h&(si|Va))===0?t:null,Er=null,Dc(t.ctx),Tn=!1,Ks++,t.f|=Au;try{var v=(0,t.fn)(),g=t.deps;if(Fr!==null){var y;if(Qs(t,Qr),g!==null&&Qr>0)for(g.length=Qr+Fr.length,y=0;y<Fr.length;y++)g[Qr+y]=Fr[y];else t.deps=g=Fr;if(!ki)for(y=Qr;y<g.length;y++)((p=g[y]).reactions??(p.reactions=[])).push(t)}else g!==null&&Qr<g.length&&(Qs(t,Qr),g.length=Qr);if(Ya()&&hn!==null&&!Tn&&g!==null&&(t.f&(pn|Oi|Hn))===0)for(y=0;y<hn.length;y++)Wf(hn[y],t);return a!==null&&a!==t&&(Ks++,hn!==null&&(n===null?n=hn:n.push(...hn))),v}finally{Fr=e,Qr=r,hn=n,Et=a,ki=i,Er=s,Dc(u),Tn=c,t.f^=Au}}function r1(t,e){let r=e.reactions;if(r!==null){var n=vd.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(e.f&pn)!==0&&(Fr===null||!Fr.includes(e))&&(vn(e,Oi),(e.f&(en|Vs))===0&&(e.f^=Vs),Cf(e),Qs(e,0))}function Qs(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)r1(t,r[n])}function cl(t){var e=t.f;if((e&il)===0){vn(t,jr);var r=jt,n=Bt,a=Qi;jt=t,Qi=!0;try{(e&Gu)!==0?Xd(t):Bf(t),Rf(t);var i=Vf(t);t.teardown=typeof i=="function"?i:null,t.wv=Uf;var s=t.deps,u;Ec&&Ed&&t.f&Hn}catch(c){ul(c,t,r,n||t.ctx)}finally{Qi=a,jt=r}}}function n1(){try{kd()}catch(t){if(Xs!==null)ul(t,Xs,null);else throw t}}function i1(){var t=Qi;try{var e=0;for(Qi=!0;Ts.length>0;){e++>1e3&&n1();var r=Ts,n=r.length;Ts=[];for(var a=0;a<n;a++){var i=o1(r[a]);a1(i)}Do.clear()}}finally{Su=!1,Qi=t,Xs=null}}function a1(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(il|ai))===0)try{$a(n)&&(cl(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Tf(n):n.fn=null))}catch(a){ul(a,n,null,n.ctx)}}}function fl(t){Su||(Su=!0,queueMicrotask(i1));for(var e=Xs=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Va|si))!==0){if((r&jr)===0)return;e.f^=jr}}Ts.push(e)}function o1(t){for(var e=[],r=t;r!==null;){var n=r.f,a=(n&(si|Va))!==0,i=a&&(n&jr)!==0;if(!i&&(n&ai)===0){if((n&xf)!==0)e.push(r);else if(a)r.f^=jr;else try{$a(r)&&cl(r)}catch(c){ul(c,r,null,r.ctx)}var s=r.first;if(s!==null){r=s;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function O(t){var e=t.f,r=(e&pn)!==0;if(Li!==null&&Li.add(t),Et!==null&&!Tn){if(!(Er!=null&&Er.includes(t))){var n=Et.deps;t.rv<Ks&&(t.rv=Ks,Fr===null&&n!==null&&n[Qr]===t?Qr++:Fr===null?Fr=[t]:(!ki||!Fr.includes(t))&&Fr.push(t))}}else if(r&&t.deps===null&&t.effects===null){var a=t,i=a.parent;i!==null&&(i.f&en)===0&&(a.f^=en)}return r&&(a=t,$a(a)&&Ff(a)),zo&&Do.has(t)?Do.get(t):t.v}function s1(t){var e=Li;Li=new Set;var r=Li,n;try{if(Vn(t),e!==null)for(n of Li)e.add(n)}finally{Li=e}return r}function l1(t){var e=s1(()=>Vn(t));for(var r of e)if((r.f&Af)!==0)for(const n of r.deps||[])(n.f&pn)===0&&qo(n,n.v);else qo(r,r.v)}function Vn(t){var e=Tn;try{return Tn=!0,t()}finally{Tn=e}}const u1=-7169;function vn(t,e){t.f=t.f&u1|e}function ni(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ci in t)Lu(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Ci in r&&Lu(r)}}}function Lu(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Lu(t[n],e)}catch{}const r=_f(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=gd(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const c1=["touchstart","touchmove"];function f1(t){return c1.includes(t)}let Tc=!1;function h1(){Tc||(Tc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Gf(t){var e=Et,r=jt;Wn(null),Ei(null);try{return t()}finally{Wn(e),Ei(r)}}function tc(t,e,r,n=r){t.addEventListener(e,()=>Gf(r));const a=t.__on_r;a?t.__on_r=()=>{a(),n(!0)}:t.__on_r=()=>n(!0),h1()}const d1=new Set,Mc=new Set;function p1(t,e,r,n={}){function a(i){if(n.capture||Co.call(e,i),!i.cancelBubble)return Gf(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?$s(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function ft(t,e,r,n,a){var i={capture:n,passive:a},s=p1(t,e,r,i);(e===document.body||e===window||e===document)&&ol(()=>{e.removeEventListener(t,s,i)})}function Co(t){var E;var e=this,r=e.ownerDocument,n=t.type,a=((E=t.composedPath)==null?void 0:E.call(t))||[],i=a[0]||t.target,s=0,u=t.__root;if(u){var c=a.indexOf(u);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var h=a.indexOf(e);if(h===-1)return;c<=h&&(s=c)}if(i=a[s]||t.target,i!==e){wf(t,"currentTarget",{configurable:!0,get(){return i||r}});var v=Et,g=jt;Wn(null),Ei(null);try{for(var y,p=[];i!==null;){var S=i.assignedSlot||i.parentNode||i.host||null;try{var L=i["__"+n];if(L!=null&&(!i.disabled||t.target===i))if(To(L)){var[C,..._]=L;C.apply(i,[t,..._])}else L.call(i,t)}catch(U){y?p.push(U):y=U}if(t.cancelBubble||S===e||S===null)break;i=S}if(y){for(let U of p)queueMicrotask(()=>{throw U});throw y}}finally{t.__root=e,delete t.currentTarget,Wn(v),Ei(g)}}}function v1(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ku(t,e){var r=jt;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Ve(t,e){var r=(e&zd)!==0,n=(e&Ud)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=v1(i?t:"<!>"+t),r||(a=Gs(a)));var s=n||jf?document.importNode(a,!0):a.cloneNode(!0);if(r){var u=Gs(s),c=s.lastChild;ku(u,c)}else ku(s,s);return s}}function Ca(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Qu();return t.append(e,r),ku(e,r),t}function ze(t,e){t!==null&&t.before(e)}function ut(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function g1(t,e){return m1(t,e)}const Ia=new Map;function m1(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:s=!0}){Vd();var u=new Set,c=g=>{for(var y=0;y<g.length;y++){var p=g[y];if(!u.has(p)){u.add(p);var S=f1(p);e.addEventListener(p,Co,{passive:S});var L=Ia.get(p);L===void 0?(document.addEventListener(p,Co,{passive:S}),Ia.set(p,1)):Ia.set(p,L+1)}}};c(Vu(d1)),Mc.add(c);var h=void 0,v=$d(()=>{var g=r??e.appendChild(Qu());return Wa(()=>{if(i){gn({});var y=Bt;y.c=i}a&&(n.$$events=a),h=t(g,n)||{},i&&mn()}),()=>{var S;for(var y of u){e.removeEventListener(y,Co);var p=Ia.get(y);--p===0?(document.removeEventListener(y,Co),Ia.delete(y)):Ia.set(y,p)}Mc.delete(c),g!==r&&((S=g.parentNode)==null||S.removeChild(g))}});return y1.set(h,v),h}let y1=new WeakMap;function ht(t,e,[r,n]=[0,0]){var a=t,i=null,s=null,u=Ir,c=r>0?Yu:0,h=!1;const v=(y,p=!0)=>{h=!0,g(p,y)},g=(y,p)=>{u!==(u=y)&&(u?(i?Ys(i):p&&(i=Wa(()=>p(a))),s&&Ro(s,()=>{s=null})):(s?Ys(s):p&&(s=Wa(()=>p(a,[r+1,n]))),i&&Ro(i,()=>{i=null})))};ll(()=>{h=!1,e(v),h||g(null,null)},c)}function b1(t,e,r){var n=t,a=Ir,i,s=Ya()?Ad:Ju;ll(()=>{s(a,a=e())&&(i&&Ro(i),i=Wa(()=>r(n)))})}function Ur(t,e){return e}function w1(t,e,r,n){for(var a=[],i=e.length,s=0;s<i;s++)ec(e[s].e,a,!0);var u=i>0&&a.length===0&&r!==null;if(u){var c=r.parentNode;Gd(c),c.append(r),n.clear(),Si(t,e[0].prev,e[i-1].next)}Mf(a,()=>{for(var h=0;h<i;h++){var v=e[h];u||(n.delete(v.k),Si(t,v.prev,v.next)),Fi(v.e,!u)}})}function Hr(t,e,r,n,a,i=null){var s=t,u={flags:e,items:new Map,first:null},c=(e&Lf)!==0;if(c){var h=t;s=h.appendChild(Qu())}var v=null,g=!1,y=ir(()=>{var p=r();return To(p)?p:p==null?[]:Vu(p)});ll(()=>{var p=O(y),S=p.length;g&&S===0||(g=S===0,_1(p,u,s,a,e,n,r),i!==null&&(S===0?v?Ys(v):v=Wa(()=>i(s)):v!==null&&Ro(v,()=>{v=null})),O(y))})}function _1(t,e,r,n,a,i,s){var T,oe,se,fe;var u=(a&Dd)!==0,c=(a&(Xu|Ku))!==0,h=t.length,v=e.items,g=e.first,y=g,p,S=null,L,C=[],_=[],E,U,V,W;if(u)for(W=0;W<h;W+=1)E=t[W],U=i(E,W),V=v.get(U),V!==void 0&&((T=V.a)==null||T.measure(),(L??(L=new Set)).add(V));for(W=0;W<h;W+=1){if(E=t[W],U=i(E,W),V=v.get(U),V===void 0){var ce=y?y.e.nodes_start:r;S=A1(ce,e,S,S===null?e.first:S.next,E,U,W,n,a,s),v.set(U,S),C=[],_=[],y=S.next;continue}if(c&&x1(V,E,W,a),(V.e.f&ai)!==0&&(Ys(V.e),u&&((oe=V.a)==null||oe.unfix(),(L??(L=new Set)).delete(V))),V!==y){if(p!==void 0&&p.has(V)){if(C.length<_.length){var Q=_[0],B;S=Q.prev;var ee=C[0],he=C[C.length-1];for(B=0;B<C.length;B+=1)zc(C[B],Q,r);for(B=0;B<_.length;B+=1)p.delete(_[B]);Si(e,ee.prev,he.next),Si(e,S,ee),Si(e,he,Q),y=Q,S=he,W-=1,C=[],_=[]}else p.delete(V),zc(V,y,r),Si(e,V.prev,V.next),Si(e,V,S===null?e.first:S.next),Si(e,S,V),S=V;continue}for(C=[],_=[];y!==null&&y.k!==U;)(y.e.f&ai)===0&&(p??(p=new Set)).add(y),_.push(y),y=y.next;if(y===null)continue;V=y}C.push(V),S=V,y=V.next}if(y!==null||p!==void 0){for(var I=p===void 0?[]:Vu(p);y!==null;)(y.e.f&ai)===0&&I.push(y),y=y.next;var F=I.length;if(F>0){var z=(a&Lf)!==0&&h===0?r:null;if(u){for(W=0;W<F;W+=1)(se=I[W].a)==null||se.measure();for(W=0;W<F;W+=1)(fe=I[W].a)==null||fe.fix()}w1(e,I,z,v)}}u&&$s(()=>{var te;if(L!==void 0)for(V of L)(te=V.a)==null||te.apply()}),jt.first=e.first&&e.first.e,jt.last=S&&S.e}function x1(t,e,r,n){(n&Xu)!==0&&qo(t.v,e),(n&Ku)!==0?qo(t.i,r):t.i=r}function A1(t,e,r,n,a,i,s,u,c,h){var v=(c&Xu)!==0,g=(c&Od)===0,y=v?g?yt(a):Oo(a):a,p=(c&Ku)===0?s:Oo(s),S={i:p,v:y,k:i,a:null,e:null,prev:r,next:n};try{return S.e=Wa(()=>u(t,y,p,h),Wd),S.e.prev=r&&r.e,S.e.next=n&&n.e,r===null?e.first=S:(r.next=S,r.e.next=S.e),n!==null&&(n.prev=S,n.e.prev=S.e),S}finally{}}function zc(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,a=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==n;){var s=al(i);a.before(i),i=s}}function Si(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function N1(t,e,r,n,a){var u;var i=(u=e.$$slots)==null?void 0:u[r],s=!1;i===!0&&(i=e.children,s=!0),i===void 0||i(t,s?()=>n:n)}function S1(t,e,r){var n=t==null?"":""+t;return e&&(n=n?n+" "+e:e),n===""?null:n}function L1(t,e){return t==null?null:String(t)}function Ii(t,e,r,n,a,i){var s=t.__className;if(s!==r||s===void 0){var u=S1(r,n);u==null?t.removeAttribute("class"):t.className=u,t.__className=r}return i}function dn(t,e,r,n){var a=t.__style;if(a!==e){var i=L1(e);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}return n}function Mn(t,e,r=e){var n=Ya();tc(t,"input",a=>{var i=a?t.defaultValue:t.value;if(i=su(t)?lu(i):i,r(i),n&&i!==(i=e())){var s=t.selectionStart,u=t.selectionEnd;t.value=i??"",u!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(u,t.value.length))}}),Vn(e)==null&&t.value&&r(su(t)?lu(t.value):t.value),Mo(()=>{var a=e();su(t)&&a===lu(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}const au=new Set;function ou(t,e,r,n,a=n){var i=r.getAttribute("type")==="checkbox",s=t;if(e!==null)for(var u of e)s=s[u]??(s[u]=[]);s.push(r),tc(r,"change",()=>{var c=r.__value;i&&(c=k1(s,c,r.checked)),a(c)},()=>a(i?[]:null)),Mo(()=>{var c=n();i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=Pf(r.__value,c)}),ol(()=>{var c=s.indexOf(r);c!==-1&&s.splice(c,1)}),au.has(s)||(au.add(s),$s(()=>{s.sort((c,h)=>c.compareDocumentPosition(h)===4?-1:1),au.delete(s)})),$s(()=>{})}function k1(t,e,r){for(var n=new Set,a=0;a<t.length;a+=1)t[a].checked&&n.add(t[a].__value);return r||n.delete(e),Array.from(n)}function su(t){var e=t.type;return e==="number"||e==="range"}function lu(t){return t===""?null:+t}function Yf(t,e,r){if(t.multiple)return I1(t,e);for(var n of t.options){var a=Io(n);if(Pf(a,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function P1(t,e){sl(()=>{var r=new MutationObserver(()=>{var n=t.__value;Yf(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function C1(t,e,r=e){var n=!0;tc(t,"change",a=>{var i=a?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(i),Io);else{var u=t.querySelector(i)??t.querySelector("option:not([disabled])");s=u&&Io(u)}r(s)}),sl(()=>{var a=e();if(Yf(t,a,n),n&&a===void 0){var i=t.querySelector(":checked");i!==null&&(a=Io(i),r(a))}t.__value=a,n=!1}),P1(t)}function I1(t,e){for(var r of t.options)r.selected=~e.indexOf(Io(r))}function Io(t){return"__value"in t?t.__value:t.value}function Cn(t=!1){const e=Bt,r=e.l.u;if(!r)return;let n=()=>ni(e.s);if(t){let a=0,i={};const s=jo(()=>{let u=!1;const c=e.s;for(const h in c)c[h]!==i[h]&&(i[h]=c[h],u=!0);return u&&a++,a});n=()=>O(s)}r.b.length&&Jd(()=>{Uc(e,n),xu(r.b)}),Nu(()=>{const a=Vn(()=>r.m.map(bd));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Nu(()=>{Uc(e,n),xu(r.a)})}function Uc(t,e){if(t.l.s)for(const r of t.l.s)O(r);e()}function Es(t,e){var i;var r=(i=t.$$events)==null?void 0:i[e.type],n=To(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function Jf(t,e,r){if(t==null)return e(void 0),Ba;const n=Vn(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const Fa=[];function F1(t,e=Ba){let r=null;const n=new Set;function a(u){if(Ju(t,u)&&(t=u,r)){const c=!Fa.length;for(const h of n)h[1](),Fa.push(h,t);if(c){for(let h=0;h<Fa.length;h+=2)Fa[h][0](Fa[h+1]);Fa.length=0}}}function i(u){a(u(t))}function s(u,c=Ba){const h=[u,c];return n.add(h),n.size===1&&(r=e(a,i)||Ba),u(t),()=>{n.delete(h),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:s}}function E1(t){let e;return Jf(t,r=>e=r)(),e}let js=!1,Pu=Symbol();function j1(t,e,r){const n=r[e]??(r[e]={store:null,source:yt(void 0),unsubscribe:Ba});if(n.store!==t&&!(Pu in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Ba;else{var a=!0;n.unsubscribe=Jf(t,i=>{a?n.source.v=i:Ie(n.source,i)}),a=!1}return t&&Pu in r?E1(t):O(n.source)}function D1(){const t={};function e(){ol(()=>{for(var r in t)t[r].unsubscribe();wf(t,Pu,{enumerable:!1,value:!0})})}return[t,e]}function O1(t){var e=js;try{return js=!1,[t(),js]}finally{js=e}}function Hc(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Ft(t,e,r,n){var Q;var a=(r&qd)!==0,i=!Ga||(r&Rd)!==0,s=(r&Td)!==0,u=(r&Md)!==0,c=!1,h;s?[h,c]=O1(()=>t[e]):h=t[e];var v=Ci in t||xd in t,g=s&&(((Q=Ra(t,e))==null?void 0:Q.set)??(v&&e in t&&(B=>t[e]=B)))||void 0,y=n,p=!0,S=!1,L=()=>(S=!0,p&&(p=!1,u?y=Vn(n):y=n),y);h===void 0&&n!==void 0&&(g&&i&&Pd(),h=L(),g&&g(h));var C;if(i)C=()=>{var B=t[e];return B===void 0?L():(p=!0,S=!1,B)};else{var _=(a?jo:ir)(()=>t[e]);_.f|=Af,C=()=>{var B=O(_);return B!==void 0&&(y=void 0),B===void 0?y:B}}if((r&Bd)===0)return C;if(g){var E=t.$$legacy;return function(B,ee){return arguments.length>0?((!i||!ee||E||c)&&g(ee?C():B),B):C()}}var U=!1,V=!1,W=yt(h),ce=jo(()=>{var B=C(),ee=O(W);return U?(U=!1,V=!0,ee):(V=!1,W.v=B)});return s&&O(ce),a||(ce.equals=$u),function(B,ee){if(Li!==null&&(U=V,C(),O(W)),arguments.length>0){const he=ee?O(ce):i&&s?$i(B):B;if(!ce.equals(he)){if(U=!0,Ie(W,he),S&&y!==void 0&&(y=he),Hc(ce))return B;Vn(()=>O(ce))}return B}return Hc(ce)?ce.v:O(ce)}}function q1(t){Bt===null&&kf(),Ga&&Bt.l!==null?B1(Bt).m.push(t):Nu(()=>{const e=Vn(t);if(typeof e=="function")return e})}function R1(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function qi(){const t=Bt;return t===null&&kf(),(e,r,n)=>{var i;const a=(i=t.s.$$events)==null?void 0:i[e];if(a){const s=To(a)?a.slice():[a],u=R1(e,r,n);for(const c of s)c.call(t.x,u);return!u.defaultPrevented}return!0}}function B1(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const T1="5";var bf;typeof window<"u"&&((bf=window.__svelte??(window.__svelte={})).v??(bf.v=new Set)).add(T1);jd();var M1=Ve('<div class="progress-container svelte-o93zow"><div class="progress-bar-container svelte-o93zow"><div class="progress-bar svelte-o93zow"></div></div> <span class="svelte-o93zow"> </span></div>'),z1=Ve('<header class="svelte-o93zow"><h1 class="svelte-o93zow">School Climate Assessment Tool</h1> <div class="actions-container svelte-o93zow"><!> <!></div></header>');function U1(t,e){let r=Ft(e,"progress",8,0);var n=z1(),a=ke(ye(n),2),i=ye(a);N1(i,e,"default",{});var s=ke(i,2);{var u=c=>{var h=M1(),v=ye(h),g=ye(v),y=ke(v,2),p=ye(y);wt(()=>{dn(g,`width: ${r()??""}%;`),ut(p,`${r()??""}% Complete`)}),ze(c,h)};ht(s,c=>{r()>0&&c(u)})}ze(t,n)}var H1=Ve('<div class="welcome-container svelte-7w3gni"><h2 class="svelte-7w3gni">Welcome to the School Climate Assessment Tool</h2> <p class="svelte-7w3gni">This tool helps education leaders assess climate-related risks in their schools. Based on your responses, it provides tailored recommendations for improvement. It is a beta version and for experimental purposes only.</p> <button class="svelte-7w3gni">Start Assessment</button></div>');function W1(t,e){gn(e,!1);const r=qi();function n(){r("start")}Cn();var a=H1(),i=ke(ye(a),4);ft("click",i,n),ze(t,a),mn()}const V1=JSON.parse(`{"rec_make_accessible":{"text":"Make water source accessible. Ensure the backup water supply can be easily accessed when needed.","icon":"💧","final":true},"rec_drill_borehole":{"text":"Drill borehole to access groundwater. This provides a reliable water source independent of municipal supply.","icon":"⚙️","final":true},"rec_increase_storage":{"text":"Increase water storage capacity. Install additional tanks to store water when it's available for use during periods of shortage.","icon":"🏺","final":true},"rec_reduce_flush":{"text":"Reduce flush capacity. Install water-saving devices in toilet cisterns to reduce water usage per flush.","icon":"🚽","final":true},"rec_composting_toilets":{"text":"Install composting toilets to reduce water demands. These systems require little to no water and can provide fertilizer for non-food plants.","icon":"♻️","final":true},"rec_grey_water":{"text":"Install grey water recycling system. Reuse water from handwashing and other clean sources for irrigation.","icon":"💧","final":true},"rec_plant_vegetation":{"text":"Plant drought-resistant vegetation and trees to prevent soil erosion within the site. This will stabilize the soil and reduce dust while ensuring ventilation and cooling aren't affected.","icon":"🌳","final":true},"rec_external_screen":{"text":"Install external screens or barriers to shield buildings from dust source. This could include fencing with climbing plants or purpose-built dust screens.","icon":"🏢","final":true},"rec_infrastructure":{"text":"Invest in infrastructure adjacent to site - e.g., paving dirt roads, planting vegetation buffers, or installing dust suppression systems.","icon":"🛣️","final":true},"rec_ventilation_openings":{"text":"Amend or add openings to allow ventilation while preventing dust entry. Install screened windows or vents positioned to maximize airflow while minimizing dust infiltration.","icon":"💨","final":true},"rec_ac_systems":{"text":"Consider installation of AC systems to maintain comfortable temperatures while keeping windows closed during dusty periods.","icon":"❄️","final":true},"rec_artificial_lighting":{"text":"Increase artificial lighting. Install energy-efficient lighting systems to compensate for closed windows during dusty periods.","icon":"💡","final":true},"rec_heat_wall_facing":{"text":"Consider heat reflection materials for wall and wall facing areas","icon":"🔆","final":true},"rec_off_setting":{"text":"Off-setting structure","icon":"🏗️","final":true},"rec_additional_structure":{"text":"Additional structure (beams required)","icon":"🏢","final":true},"rec_check_ventilation":{"text":"Check ventilation for issues","icon":"💨","final":true},"rec_check_natural_light":{"text":"Check natural light levels","icon":"☀️","final":true},"rec_paint_ceiling":{"text":"Add ceiling at high level with insulation on top","icon":"🖌️","final":true},"rec_add_vents":{"text":"Add vents in ceiling","icon":"💨","final":true},"rec_repair_ceiling":{"text":"Repair/replace damaged ceiling","icon":"🔧","final":true},"rec_cool_roof":{"text":"Cool roof shingles/sheet metal/white painted galvanized","icon":"❄️","final":true},"rec_ventilate_roof":{"text":"Ventilate roof (lift ridge tiles out of mortar)","icon":"💨","final":true},"rec_insulate_roof":{"text":"Insulate roof: sheep's wool or recycled plastic or straw","icon":"🧠","final":true},"rec_roof_monitor":{"text":"Roof monitor / ventilator / monitor roof","icon":"🏢","final":true},"rec_storm_roof":{"text":"Re-build roof with particular attention to truss design and roofage","icon":"🏗️","final":true},"rec_rotten_roof":{"text":"Re-build roof with particular attention to preventing rafter ingress","icon":"🏗️","final":true},"rec_disrepaired_roof":{"text":"Re-build roof with particular attention to weathering exposure","icon":"🏗️","final":true},"rec_insect_roof":{"text":"Re-build roof with particular attention to tying down and fixings","icon":"🏗️","final":true},"rec_treatment_roof":{"text":"Re-build roof with particular attention to treating wood and fixings","icon":"🏗️","final":true},"rec_lesson_failure":{"text":"Go to 'Lesson for failure'","icon":"📚","final":true},"rec_replace_sheets":{"text":"Replace roof sheets","icon":"🔧","final":true},"rec_reposition_sheets":{"text":"Re-position sheets with overlap of at least 6\\" (150mm)","icon":"🔧","final":true},"rec_correct_structure":{"text":"Correct structure to increase gradient to at least 20 degrees","icon":"🏗️","final":true},"rec_replace_ridge":{"text":"Replace ridge pieces","icon":"🔧","final":true},"rec_replace_washers":{"text":"Replace rubber washers or nails","icon":"🔧","final":true},"rec_extend_roof":{"text":"Extend roof overhangs","icon":"🏠","final":true},"rec_add_awnings":{"text":"Add awnings to windows (where applied as may)","icon":"🪟","final":true},"rec_add_sill":{"text":"Add / improve window sills","icon":"🪟","final":true},"rec_add_step":{"text":"Add step","icon":"🪜","final":true},"rec_add_drainage":{"text":"Add drain to protect / slope in front of doors draining away from door / building","icon":"🌊","final":true},"rec_terminal_drainage":{"text":"Terminal drainage channels at the site boundaries to point water flow away","icon":"🌊","final":true},"rec_infrastructure_project":{"text":"Larger infrastructure project required adjacent to the site","icon":"🏗️","final":true},"rec_rainwater_tank":{"text":"Rainwater collection tank","icon":"🏺","final":true},"rec_swaleways":{"text":"Swaleways","icon":"🌊","final":true},"rec_improve_drainage":{"text":"Improve drainage channels on site to allow faster run-off","icon":"🌊","final":true},"rec_raise_floor":{"text":"Raise floor level","icon":"🏠","final":true},"rec_add_floor_drainage":{"text":"Add floor drainage","icon":"🌊","final":true},"rec_electrical_protection":{"text":"Move electrical sockets and switches OR build defensive at doorways OR Provision of power boots and floors from wall damage","icon":"⚡","final":true},"rec_relocate_source":{"text":"Review location of water source","icon":"💧","final":true},"rec_drainage_clearing":{"text":"Drainage system enlarged beneath facility needs to be in place before facility interventions will be effective","icon":"🌊","final":true},"rec_waste_system":{"text":"Collection, removal/disposal at suitable time","icon":"🗑️","final":true},"rec_increase_capacity":{"text":"Increase capacity of trash cans","icon":"🗑️","final":true},"rec_protect_storage":{"text":"Protect storage that is protected from wind, floods and animals","icon":"🏠","final":true},"rec_increase_toilet_numbers":{"text":"Increase number of toilets","icon":"🚽","final":true},"rec_add_access":{"text":"Add raised access for maintenance vehicle access","icon":"🛣️","final":true},"rec_add_capacity":{"text":"Composting toilets","icon":"♻️","final":true},"rec_raise_lids":{"text":"Raise lids and manholes covers","icon":"🔧","final":true},"rec_early_warning":{"text":"Early warning system: go to recommendations","icon":"⚠️","final":true},"rec_signage_escape":{"text":"Signage for escape routes","icon":"🚶","final":true},"rec_escape_routes":{"text":"Escape route from buildings to the boundary","icon":"🚶","final":true},"rec_air_quality":{"text":"Go to 'Outcome: Air quality poor'","icon":"💨","final":true},"rec_buffer_zone":{"text":"Buffer zone?","icon":"🌳","final":true},"rec_signage":{"text":"Signage","icon":"🪧","final":true},"rec_hardstanding":{"text":"Creation of hardstanding on site","icon":"🛣️","final":true},"rec_protect_fuel":{"text":"Flattening with fire-retardant coatings","icon":"🧯","final":true},"rec_fire_retardant":{"text":"Flattening with fire-retardant coatings","icon":"🧯","final":true},"rec_increase_water_storage":{"text":"Increase water storage","icon":"🏺","final":true},"rec_protect_route":{"text":"Protect route to water source","icon":"🛣️","final":true},"rec_grid_connection":{"text":"National grid supply is reliable but too expensive to use","icon":"🔌","final":true},"rec_battery_installation":{"text":"Battery installation","icon":"🔋","final":true},"rec_solar_heaters":{"text":"Solar water heaters","icon":"☀️","final":true},"rec_efficient_devices":{"text":"Replace electrical devices for energy efficient models","icon":"💡","final":true},"rec_temperature_guidance":{"text":"Follow guidance on 'temperature is a problem'","icon":"🌡️","final":true},"rec_solar_fridges":{"text":"Solar fridges","icon":"❄️","final":true},"rec_efficient_lighting":{"text":"Layout and energy efficient bulbs and automatic operation","icon":"💡","final":true},"rec_window_improvements":{"text":"Window number/size/layout (check against ventilation/cooling/storms)","icon":"🪟","final":true},"rec_white_surfaces":{"text":"Internal painting white","icon":"🖌️","final":true},"rec_light_shelves":{"text":"Light shelves","icon":"☀️","final":true},"rec_light_tubes":{"text":"Light tubes","icon":"💡","final":true},"rec_change_surfaces":{"text":"Change surfaces adjacent to buildings","icon":"🖌️","final":true},"rec_relocate_generator":{"text":"Relocate generator","icon":"🔌","final":true},"rec_screens_trees":{"text":"Screens and trees","icon":"🌳","final":true},"rec_system_change":{"text":"System change: (convertible off-site? Flexible collection?)","icon":"🔄","final":true},"rec_improve_ventilation":{"text":"Improve ventilation of WASH system","icon":"💨","final":true},"rec_improve_air_movement":{"text":"Go to 'Improve air movement'","icon":"💨","final":true},"rec_replace_materials":{"text":"Replace man-made materials with natural materials","icon":"♻️","final":true},"rec_remove_materials":{"text":"Remove materials that are inappropriate / reduce drying out","icon":"♻️","final":true},"rec_air_filtration":{"text":"Filtration of air supply / AC?","icon":"💨","final":true},"check_natural_lighting":{"text":"Check natural lighting is maintained","icon":"☀️","final":true},"check_ventilation_cooling":{"text":"Check ventilation and cooling requirements","icon":"💨","final":true},"rec_add_insulated_ceilings":{"text":"Add insulated ceilings.","icon":"🏠","final":true},"rec_rearrange_site_layout":{"text":"Re-arrange site layout with car-parking facilities and metal structures away from main buildings.","icon":"🗺️","final":true},"rec_replace_hard_surfaces":{"text":"Replace hard ground surfaces with softer surfaces and vegetation.","icon":"🌳","final":true}}`),G1={"water-supply":[{id:"ws1",text:"Water supply doesn't meet demand (over a 3 day period)?",help:"Consider if your school's water supply is insufficient to meet basic needs over a 3-day period. This includes drinking water, sanitation, and other essential uses.",next:{yes:"ws2",no:"ws4"}},{id:"ws2",text:"Is there a back-up water supply nearby that can be made accessible?",help:"Is there an alternative water source (like a municipal connection, another well, or water delivery service) that could be accessed?",next:{yes:"rec_make_accessible",no:"rec_drill_borehole"}},{id:"ws4",text:"Water supply meets demand (quantity of water) but isn't available from the source or the times when it's required?",help:"Is water available in sufficient quantity overall, but not when you need it? For example, intermittent municipal supply or seasonal water source variations.",next:{yes:"rec_increase_storage",no:"end"}}],"water-demand":[{id:"wd1",text:"Are there flush toilets with cisterns?",help:"Does your school use conventional flush toilets that use a significant amount of water per flush?",next:{yes:"rec_reduce_flush",no:"wd2"}},{id:"wd2",text:"Are composting / dry toilets culturally feasible for this facility?",help:"Consider local cultural norms and acceptance. Would waterless toilet solutions be acceptable to students, staff, and the community?",next:{yes:"rec_composting_toilets",no:"wd3"}},{id:"wd3",text:"Is water used for irrigation?",help:"Is water being used for gardens, sports fields, or other landscaping purposes?",next:{yes:"rec_grey_water",no:"end"}}],"dust-impacts":[{id:"di1",text:"Is the ground surface within the facility site a source of dust? Is bare earth that turns to dust?",help:"Look for large areas of exposed soil within your school grounds that could be generating dust, especially during dry periods.",next:{yes:"rec_plant_vegetation",no:"di2"}},{id:"di2",text:"Is there a main source of dust from outside of the facility? (e.g., an adjacent dirt road or a direction from which the dust comes?)",help:"Identify if dust is primarily coming from external sources like unpaved roads, construction sites, or agricultural fields.",next:{yes:"di3",no:"di5"}},{id:"di3",text:"Is there at least 3m between the facility building and the source of the dust?",help:"Estimate the distance between your school buildings and the identified external dust source. Is there at least 3 meters (about 10 feet) of space?",next:{yes:"rec_external_screen",no:"rec_infrastructure"}},{id:"di5",text:"Are cooling and ventilation reduced when the openings are closed off to dust?",help:"When windows and doors are closed to prevent dust entry, does the building become significantly hotter or poorly ventilated?",next:{yes:"di6",no:"di7"}},{id:"di6",text:"Is electrical supply capacity sufficient for AC?",help:"Does your school have adequate electrical infrastructure to support air conditioning systems?",next:{yes:"rec_ac_systems",no:"rec_ventilation_openings"}},{id:"di7",text:"Is lighting insufficient when openings are closed off to dust?",help:"When windows are closed to prevent dust, do rooms become too dark for effective teaching and learning?",next:{yes:"rec_artificial_lighting",no:"end"}}],"heat-impacts":[{id:"hi1",text:"Is there direct sunlight on walls?",help:"Assess if direct sunlight hitting the exterior walls of the building is contributing to heat gain.",next:{yes:["hi2","hi3"],no:"end"}},{id:"hi2",text:"East and West walls?",help:"Determine if the east and west-facing walls are receiving direct sunlight, which can significantly increase heat gain.",next:{yes:"hi4",no:"end"}},{id:"hi3",text:"South and north walls?",help:"Assess if south and north-facing walls are receiving direct sunlight throughout the day.",next:{yes:"hi5",no:"end"}},{id:"hi4",text:"External shading device",help:"Consider external shading solutions for east and west walls to reduce direct sunlight exposure.",next:{notPossible:"rec_heat_wall_facing",yes:"check_natural_lighting"}},{id:"hi5",text:"Extend roof overhangs",help:"Extending roof overhangs can provide shading for walls, reducing heat gain.",next:{optionA:"rec_off_setting",optionB:"rec_additional_structure",yes:"check_ventilation_cooling"}},{id:"hi6",text:"Direct sunlight through windows?",help:"Assess if direct sunlight entering through windows is causing indoor heating.",next:{yes:["hi7","hi11"],no:"end"}},{id:"hi7",text:"External shading device at windows",help:"Consider external shading solutions for windows to reduce direct sunlight penetration.",next:{notPossible:"hi8",yes:"end"}},{id:"hi8",text:"Are windows glazed?",help:"Check if windows have glazing that helps control heat gain.",next:{yes:"hi9",no:"end"}},{id:"hi9",text:"Can glazing be improved with tinting?",help:"Consider whether adding window tinting could improve heat control.",next:{yes:"hi10",no:"end"}},{id:"hi10",text:"Is there a ceiling in good condition?",help:"Assess the condition of existing ceilings for potential heat insulation improvements.",next:{yes:"end",no:["rec_paint_ceiling","rec_add_vents","rec_repair_ceiling"]}},{id:"hi11",text:"Improved window design",help:"Consider redesigning windows to better control solar heat gain.",next:{yes:["rec_check_ventilation","rec_check_natural_light"],no:"end"}},{id:"hi12",text:"Heating through roof?",help:"Determine if significant heat gain is occurring through the roof structure.",next:{yes:"hi13",no:"end"}},{id:"hi13",text:"Is roof structure sound?",help:"Assess the structural integrity of the roof system.",next:{yes:"hi14",no:"hi15"}},{id:"hi14",text:"Are roof sheets in good condition?",help:"Check the condition of roof sheets or covering materials.",next:{yes:"end",no:["rec_cool_roof","rec_ventilate_roof","rec_insulate_roof","rec_roof_monitor"]}},{id:"hi15",text:"Reason for failure?",help:"Identify the primary cause of roof structure issues.",next:{stormDamage:"rec_storm_roof",rottenTrigrees:"rec_rotten_roof",rotDisrepaired:"rec_disrepaired_roof",insectAttack:"hi16"}},{id:"hi16",text:"Is insect-resistant timber species available?",help:"Determine if locally available timber species are naturally resistant to insect damage.",next:{yes:"rec_insect_roof",no:"hi17"}},{id:"hi17",text:"Is environmentally-friendly insect treatment available for timber?",help:"Check the availability of eco-friendly wood treatments for insect resistance.",next:{yes:"rec_treatment_roof",no:"end"}}],"rainwater-entry":[{id:"re1",text:"Rainwater enters through roof",help:"Assess if rainwater is penetrating through the roof structure.",next:{yes:"re2",no:"end"}},{id:"re2",text:"Is the roof structurally sound?",help:"Evaluate the overall structural integrity of the roof system.",next:{yes:"re3",no:"rec_lesson_failure"}},{id:"re3",text:"Are the roof sheets generally in good condition?",help:"Inspect the roof sheets for damage, deterioration, or improper installation.",next:{yes:"re4",no:"rec_replace_sheets"}},{id:"re4",text:"Is leaking only on the junction between sheets?",help:"Determine if leaks are primarily occurring at the seams or junctions between roof sheets.",next:{yes:"re5",no:"re6"}},{id:"re5",text:"Is the gradient of the roof greater than 20 degrees?",help:"Measure the slope of the roof to determine if it has adequate pitch for drainage.",next:{yes:"rec_reposition_sheets",no:"rec_correct_structure"}},{id:"re6",text:"Is the leaking only at the ridge?",help:"Identify if leaks are concentrated along the ridge of the roof.",next:{yes:"rec_replace_ridge",no:"re7"}},{id:"re7",text:"Is leaking in random, isolated locations?",help:"Determine if leaks appear in scattered locations with no clear pattern.",next:{yes:"rec_replace_washers",no:"end"}},{id:"re8",text:"Rainwater enters through windows",help:"Assess if rainwater penetration is occurring through windows.",next:{yes:"re9",no:"end"}},{id:"re9",text:"During heavy vertical rain?",help:"Determine if leakage happens primarily during intense downpours with little wind.",next:{yes:"rec_extend_roof",no:"re10"}},{id:"re10",text:"Only during storm events when there are strong winds too?",help:"Identify if leakage occurs mainly during windy rainstorms.",next:{yes:"rec_add_awnings",no:"end"}},{id:"re11",text:"Does water get in under the bottom of the window?",help:"Check if water is penetrating beneath the window sill or bottom frame.",next:{yes:"rec_add_sill",no:"end"}},{id:"re12",text:"Rainwater enters under doors",help:"Assess if rainwater is entering beneath doorways.",next:{yes:"re13",no:"end"}},{id:"re13",text:"Does the floor ground in front of the door rise from the building away from the floor?",help:"Check if the ground slopes toward the building instead of away from it.",next:{yes:"end",no:"re14"}},{id:"re14",text:`Is there a step of at least 1" (25mm) at the door that's visible and usable and raised?`,help:"Determine if doorways have an adequate threshold to prevent water entry.",next:{yes:"end",no:"rec_add_step"}}],"flood-management":[{id:"fm1",text:"The source of flood waters are external to the site",help:"Determine if flooding originates from beyond the school grounds.",next:{yes:"fm2",no:"end"}},{id:"fm2",text:"Is there a local drainage system with channels etc. in place where floodwater can be diverted into?",help:"Assess if local drainage infrastructure exists that could be utilized.",next:{yes:"rec_terminal_drainage",no:"fm3"}},{id:"fm3",text:"Is there space on the site for water collection (run away)?",help:"Evaluate if the site has adequate space for water detention or retention areas.",next:{yes:"fm4",no:"rec_infrastructure_project"}},{id:"fm4",text:"Water collection",help:"Consider implementing water collection solutions.",next:{optionA:"rec_rainwater_tank",optionB:"rec_swaleways",no:"end"}},{id:"fm5",text:"Drainage within the site is insufficient to drain rainwater",help:"Assess if on-site drainage systems are inadequate for managing rainwater.",next:{yes:"fm6",no:"end"}},{id:"fm6",text:"Is there a local drainage system nearby where surface runoff rainwater can be diverted into?",help:"Determine if existing drainage infrastructure is available near the site.",next:{yes:"rec_improve_drainage",no:"end"}},{id:"fm7",text:"Floods wash away soils from under buildings or damage them from floods",help:"Assess if flooding is causing soil erosion or structural damage to buildings.",next:{yes:"fm8",no:"end"}},{id:"fm8",text:"Can the floor level of the building be raised?",help:"Evaluate if it's feasible to elevate building floor levels above flood elevation.",next:{yes:"rec_raise_floor",no:"fm9"}},{id:"fm9",text:"Does the floor drain out of the building?",help:"Determine if water that enters the building can drain out easily.",next:{yes:"fm10",no:"rec_add_floor_drainage"}},{id:"fm10",text:'Are electrical sockets and switches at least 1" above the floor?',help:"Check if electrical fixtures are positioned at a safe height above potential flood levels.",next:{yes:"end",no:"rec_electrical_protection"}},{id:"fm11",text:"Water supply becomes contaminated during flooding",help:"Assess if flood events compromise water quality.",next:{yes:"fm12",no:"end"}},{id:"fm12",text:"Is water source at least 10m away from toilet areas or waste facilities (solid waste)?",help:"Determine if adequate separation exists between water sources and potential contamination sources.",next:{yes:"end",no:"rec_relocate_source"}},{id:"fm13",text:"Waste (rubbish) blocks drainage system",help:"Assess if solid waste is impeding drainage systems.",next:{yes:"fm14",no:"end"}},{id:"fm14",text:"Is there a system for removing rubbish from the facility site?",help:"Determine if waste management systems are in place.",next:{yes:"rec_drainage_clearing",no:"rec_waste_system"}},{id:"fm15",text:"Is there sufficient storage capacity for waste at the facility?",help:"Evaluate if adequate waste storage capacity exists on site.",next:{yes:"fm16",no:"rec_increase_capacity"}},{id:"fm16",text:"Is upslope storage protected from severe winds and storms?",help:"Assess if waste storage areas are secure during extreme weather.",next:{yes:"end",no:"rec_protect_storage"}},{id:"fm17",text:"Sewage system / foul water drainage - problems",help:"Assess issues with sewage or foul water drainage systems.",next:{yes:"fm18",no:"end"}},{id:"fm18",text:"Are the toilets above flood levels?",help:"Determine if toilet facilities are positioned above potential flood levels.",next:{yes:"end",no:"rec_increase_toilet_numbers"}},{id:"fm19",text:"Is there vehicle access to septic tanks for emptying?",help:"Assess if maintenance vehicles can access septic systems.",next:{yes:"fm20",no:"rec_add_access"}},{id:"fm20",text:"Is septic tank of sufficient volume for usage?",help:"Evaluate if septic tank capacity is adequate for the facility's needs.",next:{yes:"fm21",no:"rec_add_capacity"}},{id:"fm21",text:"Are the lids and manholes for the system above flood water levels?",help:"Check if system access points are positioned above flood levels to prevent infiltration.",next:{yes:"end",no:"rec_raise_lids"}},{id:"fm22",text:"Can the site facility be subjected to flash floods?",help:"Assess vulnerability to rapid-onset flooding events.",next:{yes:"fm23",no:"rec_early_warning"}},{id:"fm23",text:"Is there a safe escape route from the facility site (leading to higher land)?",help:"Identify evacuation routes to higher elevation areas.",next:{yes:"rec_signage_escape",no:"rec_escape_routes"}}],"wildfire-impacts":[{id:"wi1",text:"Wildfires impact air quality",help:"Assess how wildfire smoke affects indoor air quality at the facility.",next:{yes:"rec_air_quality",no:"end"}},{id:"wi2",text:"Reducing risk of fires spreading onto site",help:"Evaluate preventive measures to protect the site from approaching wildfires.",next:{yes:"rec_buffer_zone",no:"end"}},{id:"wi3",text:"Escape",help:"Assess evacuation procedures and infrastructure in case of wildfires.",next:{yes:["wi4","wi5"],no:"end"}},{id:"wi4",text:"Protected escape route",help:"Identify designated evacuation routes protected from fire exposure.",next:{yes:"rec_signage",no:"end"}},{id:"wi5",text:"Emergency Vehicle access",help:"Ensure emergency vehicles can access the facility during wildfire events.",next:{yes:"wi6",no:"end"}},{id:"wi6",text:"Roads to site accessible by fire truck?",help:"Evaluate if fire trucks can reach the facility via existing roads.",next:{yes:"end",no:"wi7"}},{id:"wi7",text:"Fire truck can get to within 90m of buildings (also on hoisty ground)?",help:"Determine if fire trucks can get close enough to buildings for effective firefighting.",next:{yes:"end",no:"rec_hardstanding"}},{id:"wi8",text:"Reducing spread on site / damage to buildings",help:"Implement measures to prevent fire spread on site and minimize building damage.",next:{yes:["wi9","wi10"],no:"end"}},{id:"wi9",text:"Fuel and gas storage protected?",help:"Ensure proper protection of fuel and gas storage areas from fire exposure.",next:{yes:"end",no:"rec_protect_fuel"}},{id:"wi10",text:"Protecting building materials",help:"Select and maintain fire-resistant building materials.",next:{yes:["rec_fire_retardant","wi11"],no:"end"}},{id:"wi11",text:"Is there a water supply for fire fighting?",help:"Ensure adequate water supply is available for firefighting purposes.",next:{yes:"wi12",no:"rec_increase_water_storage"}},{id:"wi12",text:"Is the route to and from this supply protected from fire?",help:"Ensure access to water supply remains available during fire events.",next:{yes:"end",no:"rec_protect_route"}}],"electricity-supply":[{id:"es1",text:"Increase electricity supply",help:"Evaluate options for enhancing electricity supply to the facility.",next:{yes:["es2","es3"],no:"end"}},{id:"es2",text:"Solar PV installation",help:"Consider implementing solar photovoltaic systems for electricity generation.",next:{yes:"es4",no:"end"}},{id:"es3",text:"National grid supply is either unavailable or unreliable",help:"Assess limitations of the existing electrical grid connection.",next:{yes:"rec_grid_connection",no:"end"}},{id:"es4",text:"Is electricity required during hours of darkness?",help:"Determine if nighttime electricity demand exists at the facility.",next:{yes:"rec_battery_installation",no:"end"}},{id:"es5",text:"Reduce electricity demand",help:"Implement strategies to lower overall electricity consumption.",next:{yes:["es6","es7","es8","es9"],no:"end"}},{id:"es6",text:"Are energy-efficient or passive water heaters used to heat water?",help:"Assess current water heating systems for energy efficiency.",next:{yes:"end",no:"rec_solar_heaters"}},{id:"es7",text:"Are energy-efficient devices used throughout?",help:"Evaluate if energy-efficient equipment and appliances are in use.",next:{yes:"end",no:"rec_efficient_devices"}},{id:"es8",text:"Are electric fans and / or AC systems used to maintain comfortable internal temperatures?",help:"Assess current cooling strategies and their energy consumption.",next:{yes:"rec_temperature_guidance",no:"end"}},{id:"es9",text:"Is refrigeration required?",help:"Determine if refrigeration is necessary for facility operations.",next:{yes:"rec_solar_fridges",no:"end"}},{id:"es10",text:"Is artificial lighting required during daylight hours?",help:"Evaluate daytime lighting needs and potential natural light utilization.",next:{yes:"end",no:"rec_efficient_lighting"}},{id:"es11",text:"Natural lighting is insufficient",help:"Assess inadequacies in natural lighting within the facility.",next:{yes:"es12",no:"end"}},{id:"es12",text:"Can the number, size and location of windows and doors be improved?",help:"Evaluate potential improvements to fenestration for better daylighting.",next:{yes:"rec_window_improvements",no:"es13"}},{id:"es13",text:"Can window reveals and internal walls be painted white?",help:"Consider light-colored surfaces to enhance light reflection.",next:{yes:"rec_white_surfaces",no:"es14"}},{id:"es14",text:"Can light shelves be added?",help:"Evaluate if light shelves could improve daylight penetration deeper into spaces.",next:{yes:"rec_light_shelves",no:"rec_light_tubes"}},{id:"es15",text:"Glare is a problem",help:"Assess issues with excessive brightness or contrast causing visual discomfort.",next:{yes:"es16",no:"end"}},{id:"es16",text:"Does sunlight enter the building through windows?",help:"Determine if direct sunlight penetration is causing glare issues.",next:{yes:"end",no:"es17"}},{id:"es17",text:"Are the windows / sources of light evenly distributed?",help:"Evaluate the distribution of light sources throughout the space.",next:{yes:"end",no:"es18"}},{id:"es18",text:"Are there reflective / white surfaces next to the building?",help:"Identify if external reflective surfaces are contributing to glare problems.",next:{yes:"rec_change_surfaces",no:"end"}}],"rain-noise":[{id:"rn1",text:"Does the noise from rain make the buildings unusable during rainy season / storms?",help:"Assess if the sound of rain inside the buildings is disruptive to the point of making them unusable.",next:{yes:"rn2",no:"end"}},{id:"rn2",text:"Do the buildings have insulated ceilings?",help:"Check if there are insulated ceilings installed in the buildings.",next:{yes:"rn3",no:"rec_add_insulated_ceilings"}},{id:"rn3",text:"Can car-parking and any other metal structures be moved away from the buildings?",help:"Evaluate if it's feasible to relocate car parking areas and other metal structures that might amplify rain noise away from the main buildings.",next:{yes:"rec_rearrange_site_layout",no:"rn4"}},{id:"rn4",text:"Are there hard surfaces next to buildings (for example concrete, tarmac) that can be replaced?",help:"Identify if hard ground surfaces like concrete or tarmac adjacent to the buildings could be replaced with softer, less reflective materials.",next:{yes:"rec_replace_hard_surfaces",no:"end"}}],"air-quality":[{id:"aq1",text:"Outdoor air quality is poor",help:"Assess external air quality issues affecting the facility.",next:{yes:"aq2",no:"end"}},{id:"aq2",text:"Source of air pollution are outside of the boundary of the facility site?",help:"Determine if air pollution originates from beyond the site boundaries.",next:{yes:"aq3",no:"aq4"}},{id:"aq3",text:"Exhaust from generators / sources of outdoor air pollution contribute to poor air quality",help:"Identify specific external pollution sources affecting air quality.",next:{yes:"aq5",no:"aq6"}},{id:"aq4",text:"Generator self-required to operate facility?",help:"Determine if on-site generators are necessary for facility operations.",next:{yes:"aq7",no:"end"}},{id:"aq5",text:"Fumes from generators / sources of outdoor air pollution contribute to poor air quality",help:"Assess the impact of exhaust fumes from generators or other external sources.",next:{yes:"end",no:"rec_relocate_generator"}},{id:"aq6",text:"Can screens / trees be added to protect the facility from sources of air pollution?",help:"Evaluate if natural barriers can help filter or block air pollutants.",next:{yes:"rec_screens_trees",no:"rec_system_change"}},{id:"aq7",text:"Generator self-required to operate facility?",help:"Determine if on-site generators are necessary for facility operations.",next:{yes:"aq8",no:"end"}},{id:"aq8",text:"Install generator with better air quality output",help:"Consider upgrading to generators with cleaner emissions.",next:{yes:"end",no:"rec_relocate_generator"}},{id:"aq9",text:"Indoor air quality is poor",help:"Assess internal air quality issues within the facility.",next:{yes:"aq10",no:"end"}},{id:"aq10",text:"The source of poor quality air is external",help:"Determine if poor indoor air quality stems from external sources.",next:{yes:"end",no:"aq11"}},{id:"aq11",text:"Air quality is affected by WASH facilities?",help:"Assess if water, sanitation, and hygiene facilities are contributing to air quality issues.",next:{yes:"rec_improve_ventilation",no:"aq12"}},{id:"aq12",text:"Poor air quality is due to build-up of CO2?",help:"Determine if carbon dioxide buildup from occupants is the main air quality concern.",next:{yes:"rec_improve_air_movement",no:"aq13"}},{id:"aq13",text:"Poor air quality is due to internal man-made building materials?",help:"Identify if building materials are off-gassing and affecting air quality.",next:{yes:"rec_replace_materials",no:"aq14"}},{id:"aq14",text:"Poor air quality is due to dampness and mold?",help:"Assess if moisture issues are causing mold and affecting air quality.",next:{yes:"rec_remove_materials",no:"end"}},{id:"aq15",text:"Is external air quality the same throughout the site?",help:"Determine if air quality varies across different areas of the site.",next:{yes:"end",no:"aq16"}},{id:"aq16",text:"Supply for ventilation and cooling system at the part of building with 'cleaner' air",help:"Consider strategic placement of ventilation intakes in areas with better air quality.",next:{yes:"end",no:"rec_air_filtration"}}],recommendations:V1},Yt=G1;function Y1(t,e,r){const n=Yt[t].find(s=>s.id===e);if(!n)return console.error(`Question with ID ${e} not found in category ${t}`),null;const a=n.next[r];if(Array.isArray(a)){const s=a[0];if(typeof s=="string"&&s.startsWith("rec_"))return{type:"recommendation",data:Yt.recommendations[s]};const u=Yt[t].find(c=>c.id===s);return u?{type:"question",data:u}:(console.error(`Next question with ID ${s} not found in category ${t}`),null)}if(typeof a=="string"&&a.startsWith("rec_"))return{type:"recommendation",data:Yt.recommendations[a]};if(a==="end")return{type:"end"};const i=Yt[t].find(s=>s.id===a);return i?{type:"question",data:i}:(console.error(`Next question with ID ${a} not found in category ${t}`),null)}function J1(t){return!Yt[t]||Yt[t].length===0?null:Yt[t][0]}var $1=Ve('<div class="category-card svelte-1sh48qa"><div class="icon svelte-1sh48qa"> </div> <h3 class="svelte-1sh48qa"> </h3> <p class="svelte-1sh48qa"> </p></div>'),X1=Ve('<div class="categories-container svelte-1sh48qa"><h2 class="svelte-1sh48qa">Select Assessment Category</h2> <p class="svelte-1sh48qa">Choose one of the following categories to begin your assessment:</p> <div class="category-cards svelte-1sh48qa"></div></div>');function K1(t,e){gn(e,!1);const r={"water-supply":"💧","water-demand":"🚰","dust-impacts":"💨","heat-impacts":"🔆","rainwater-entry":"🌧️","flood-management":"🌊","wildfire-impacts":"🔥","electricity-supply":"⚡","air-quality":"🌬️","rain-noise":"🔊"},n={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"},a={"water-supply":"Assess if your water supply is sufficient and reliable.","water-demand":"Evaluate if water demand can be reduced or managed better.","dust-impacts":"Assess how airborne dust affects your school environment.","heat-impacts":"Evaluate heat issues and cooling solutions.","rainwater-entry":"Address problems with rainwater entering buildings.","flood-management":"Manage flood risks and mitigation strategies.","wildfire-impacts":"Assess wildfire risks and protection measures.","electricity-supply":"Evaluate electricity supply and consumption.","air-quality":"Address indoor and outdoor air quality issues.","rain-noise":"Evaluate and mitigate noise from rain impacting building usability."};let i=Ft(e,"categories",24,()=>Object.keys(Yt).filter(v=>v!=="recommendations").map(v=>({id:v,title:n[v]||v,description:a[v]||`Assess ${v.replace("-"," ")} issues.`,icon:r[v]||"📋"})));const s=qi();function u(v){s("select",{detail:v})}Cn();var c=X1(),h=ke(ye(c),4);Hr(h,5,i,Ur,(v,g)=>{var y=$1(),p=ye(y),S=ye(p),L=ke(p,2),C=ye(L),_=ke(L,2),E=ye(_);wt(()=>{ut(S,O(g).icon),ut(C,O(g).title),ut(E,O(g).description)}),ft("click",y,()=>u(O(g).id)),ze(v,y)}),ze(t,c),mn()}var Q1=Ve('<span class="completed-badge svelte-vpqirj">✓</span>'),Z1=Ve('<div class="branch-card svelte-vpqirj"><div class="branch-header svelte-vpqirj"><h3 class="svelte-vpqirj"> </h3> <!></div> <p class="svelte-vpqirj"> </p></div>'),e2=Ve('<div class="branch-container svelte-vpqirj"><h2 class="svelte-vpqirj"> </h2> <p class="svelte-vpqirj">This area has multiple question paths. Select one to begin:</p> <div class="branch-list svelte-vpqirj"></div> <div class="action-buttons svelte-vpqirj"><button class="secondary-button svelte-vpqirj">Return to Categories</button></div></div>');function t2(t,e){gn(e,!1);let r=Ft(e,"category",8,""),n=Ft(e,"branches",24,()=>[]),a=Ft(e,"completedBranches",24,()=>[]);const i=qi(),s={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"};function u(L){i("select",{detail:L})}function c(){i("back")}Cn();var h=e2(),v=ye(h),g=ye(v),y=ke(v,4);Hr(y,5,n,Ur,(L,C)=>{var _=Z1(),E=ye(_),U=ye(E),V=ye(U),W=ke(U,2);{var ce=ee=>{var he=Q1();ze(ee,he)};ht(W,ee=>{a().includes(O(C).id)&&ee(ce)})}var Q=ke(E,2),B=ye(Q);wt(()=>{ut(V,O(C).title),ut(B,O(C).description)}),ft("click",_,()=>u(O(C).id)),ze(L,_)});var p=ke(y,2),S=ye(p);wt(()=>ut(g,s[r()]||r())),ft("click",S,c),ze(t,h),mn()}var r2=Ve('<div class="help-text svelte-1hoic59"><p class="svelte-1hoic59"> </p></div>'),n2=Ve("<button> </button>"),i2=Ve('<div class="question-card svelte-1hoic59"><div class="question-content svelte-1hoic59"><h3 class="svelte-1hoic59"> </h3> <button class="help-button svelte-1hoic59"> </button></div> <!> <div></div></div>');function a2(t,e){gn(e,!1);let r=Ft(e,"question",8,""),n=Ft(e,"helpText",8,""),a=Ft(e,"showHelp",12,!1),i=Ft(e,"currentCategory",8,""),s=Ft(e,"questionId",8,"");const u=qi();let c=yt([]);function h(W){return{yes:"Yes",no:"No",optionA:"Option A",optionB:"Option B",stormDamage:"Storm Damage",rottenTrigrees:"Rotten Timber",rotDisrepaired:"Disrepair",insectAttack:"Insect Attack"}[W]||W.charAt(0).toUpperCase()+W.slice(1)}function v(){a(!a())}function g(W){u("answer",{answer:W})}Ki(()=>(ni(i()),ni(s()),Yt),()=>{var W;if(i()&&s()){const ce=(W=Yt[i()])==null?void 0:W.find(Q=>Q.id===s());ce&&ce.next?Ie(c,Object.keys(ce.next)):Ie(c,["yes","no"])}else Ie(c,["yes","no"])}),Zu(),Cn();var y=i2(),p=ye(y),S=ye(p),L=ye(S),C=ke(S,2),_=ye(C),E=ke(p,2);{var U=W=>{var ce=r2(),Q=ye(ce),B=ye(Q);wt(()=>ut(B,n())),ze(W,ce)};ht(E,W=>{a()&&W(U)})}var V=ke(E,2);Hr(V,5,()=>O(c),Ur,(W,ce)=>{var Q=n2(),B=ye(Q);wt(ee=>{Ii(Q,1,`answer-button ${O(ce)==="yes"?"yes-button":O(ce)==="no"?"no-button":"option-button"}`,"svelte-1hoic59"),ut(B,ee)},[()=>h(O(ce))],ir),ft("click",Q,()=>g(O(ce))),ze(W,Q)}),wt(()=>{ut(L,r()),ut(_,a()?"Hide Help":"Show Help"),Ii(V,1,`answer-buttons ${O(c).length>2?"multi-options":""}`,"svelte-1hoic59")}),ft("click",C,v),ze(t,y),mn()}var o2=Ve('<div class="recommendation-card svelte-wftzfa"><div class="icon svelte-wftzfa"> </div> <p class="svelte-wftzfa"> </p></div>');function s2(t,e){let r=Ft(e,"recommendation",8,""),n=Ft(e,"icon",8,"");var a=o2(),i=ye(a),s=ye(i),u=ke(i,2),c=ye(u);wt(()=>{ut(s,n()),ut(c,r())}),ze(t,a)}var l2=Ve('<div class="no-results svelte-1afab5b"><p>No issues were identified in this category. Your school is doing well in this area!</p></div>'),u2=Ve('<p class="results-intro svelte-1afab5b">Based on your responses, we recommend the following interventions:</p> <div class="recommendations-list svelte-1afab5b"></div>',1),c2=Ve('<button class="secondary-button svelte-1afab5b">Return to Branches</button>'),f2=Ve('<button class="secondary-button svelte-1afab5b">Return to Categories</button>'),h2=Ve('<div class="results-container svelte-1afab5b"><h2 class="svelte-1afab5b"> </h2> <!> <div class="action-buttons svelte-1afab5b"><!> <button class="primary-button svelte-1afab5b">Export Results</button></div></div>');function d2(t,e){gn(e,!1);let r=Ft(e,"results",24,()=>[]),n=Ft(e,"category",8,""),a=Ft(e,"fromBranch",8,!1);const i=qi();function s(){i("categories")}function u(){i("branches")}function c(){i("export")}const h={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality","rain-noise":"Rain Noise Issues"};Cn();var v=h2(),g=ye(v),y=ye(g),p=ke(g,2);{var S=W=>{var ce=l2();ze(W,ce)},L=W=>{var ce=u2(),Q=ke(Pn(ce),2);Hr(Q,5,r,Ur,(B,ee)=>{s2(B,{get recommendation(){return O(ee).text},get icon(){return O(ee).icon}})}),ze(W,ce)};ht(p,W=>{r().length===0?W(S):W(L,!1)})}var C=ke(p,2),_=ye(C);{var E=W=>{var ce=c2();ft("click",ce,u),ze(W,ce)},U=W=>{var ce=f2();ft("click",ce,s),ze(W,ce)};ht(_,W=>{a()?W(E):W(U,!1)})}var V=ke(_,2);wt(()=>ut(y,`Assessment Results: ${(h[n()]||n())??""}`)),ft("click",V,c),ze(t,v),mn()}var p2=Ve('<div class="p-3 rounded-lg border border-dashed mt-2 flex items-center"><span class="mr-2 text-xl"> </span> <span class="font-medium"> </span></div>'),v2=Ve('<button class="ml-2 p-1 hover:bg-gray-200 rounded-full flex-shrink-0" aria-label="Show help information"><svg class="w-4 h-4 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></button>'),g2=Ve('<div class="answer-branch mb-2 pl-2 border-l-2 border-gray-300 svelte-qegg60"><div class="answer-label flex items-center mb-1"><div class="answer-tag px-3 py-1 rounded bg-gray-200 text-gray-800 text-sm flex items-center"><svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> </div></div> <!></div>'),m2=Ve('<div class="answer-branch mb-2 pl-2 border-l-2 border-gray-300 svelte-qegg60"><div class="answer-label flex items-center mb-1"><div class="answer-tag px-3 py-1 rounded bg-gray-200 text-gray-800 text-sm flex items-center"><svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> </div></div> <div class="p-3 rounded-lg border border-dashed mt-1 flex items-center ml-2"><span class="font-medium">End of this path</span></div></div>'),y2=Ve('<div class="node-children pl-8 mt-2"><!></div>'),b2=Ve('<div class="decision-node mb-3 svelte-qegg60"><div class="node-header p-3 rounded-lg shadow-sm flex items-start cursor-pointer relative hover:bg-opacity-80 hover:shadow-md svelte-qegg60" role="button" tabindex="0"><div class="chevron-container flex-shrink-0 mr-2 flex items-center justify-center h-6 w-6"><svg class="h-5 w-5 transition-transform duration-200 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></div> <div class="flex-1"><div class="font-medium"> </div></div> <!></div> <!></div>');function Cu(t,e){gn(e,!1);const r=yt(),n=yt(),a=yt(),i=yt();let s=Ft(e,"nodeId",8),u=Ft(e,"category",8),c=Ft(e,"level",8,0),h=Ft(e,"expandedNodes",24,()=>({})),v=Ft(e,"categoryColors",8);const g=qi();function y(V,W){return!Yt||!Yt[W]?null:Yt[W].find(ce=>ce.id===V)}function p(V){return!Yt||!Yt.recommendations?null:Yt.recommendations[V]}function S(V){V.stopPropagation(),console.log("Toggling node:",s(),"Current state:",O(a)),g("toggleNode",{nodeId:s()})}function L(V,W){V.preventDefault(),V.stopPropagation(),g("showTooltip",{e:V,helpText:W})}Ki(()=>(ni(s()),ni(u())),()=>{Ie(r,y(s(),u()))}),Ki(()=>(O(r),ni(s())),()=>{Ie(n,O(r)?null:p(s()))}),Ki(()=>(ni(h()),ni(s())),()=>{Ie(a,h()[s()])}),Ki(()=>ni(c()),()=>{Ie(i,c()*16)}),Zu(),Cn();var C=Ca(),_=Pn(C);{var E=V=>{},U=(V,W)=>{{var ce=B=>{var ee=p2(),he=ye(ee),I=ye(he),F=ke(he,2),z=ye(F);wt(()=>{dn(ee,`
      border-color: ${v()[u()]||"#CBD5E0"};
      margin-left: ${O(i)+24}px;
    `),ut(I,O(n).icon),ut(z,O(n).text)}),ze(B,ee)},Q=(B,ee)=>{{var he=I=>{var F=b2(),z=ye(F),T=ye(z),oe=ye(T),se=ke(T,2),fe=ye(se),te=ye(fe),de=ke(se,2);{var ve=j=>{var q=v2();ft("click",q,H=>L(H,O(r).help)),ze(j,q)};ht(de,j=>{O(r).help&&j(ve)})}var Ee=ke(z,2);{var x=j=>{var q=y2(),H=ye(q);{var X=Y=>{var re=Ca(),ne=Pn(re);Hr(ne,1,()=>Object.entries(O(r).next),Ur,(Ce,Se)=>{let je=()=>O(Se)[0],Fe=()=>O(Se)[1];var We=Ca(),ge=Pn(We);{var M=Be=>{var ae=g2(),pe=ye(ae),_e=ye(pe),Ne=ke(ye(_e)),De=ke(pe,2);{var Ue=Ze=>{var at=Ca(),pt=Pn(at);Hr(pt,1,Fe,Ur,(Xe,nt)=>{var qe=Ca(),er=Pn(qe);const vt=ir(()=>c()+1);Cu(er,{get nodeId(){return O(nt)},get category(){return u()},get level(){return O(vt)},get expandedNodes(){return h()},get categoryColors(){return v()},$$events:{toggleNode(hr){Es.call(this,e,hr)},showTooltip(hr){Es.call(this,e,hr)}}}),ze(Xe,qe)}),ze(Ze,at)},Ke=Ze=>{var at=Ca(),pt=Pn(at);const Xe=ir(()=>c()+1);Cu(pt,{get nodeId(){return Fe()},get category(){return u()},get level(){return O(Xe)},get expandedNodes(){return h()},get categoryColors(){return v()},$$events:{toggleNode(nt){Es.call(this,e,nt)},showTooltip(nt){Es.call(this,e,nt)}}}),ze(Ze,at)};ht(De,Ze=>{Array.isArray(Fe())?Ze(Ue):Ze(Ke,!1)})}wt(()=>ut(Ne,` ${je()??""}`)),ze(Be,ae)},Ye=Be=>{var ae=m2(),pe=ye(ae),_e=ye(pe),Ne=ke(ye(_e)),De=ke(pe,2);wt(()=>{ut(Ne,` ${je()??""}`),dn(De,`border-color: ${v()[u()]||"#CBD5E0"}`)}),ze(Be,ae)};ht(ge,Be=>{Fe()!=="end"?Be(M):Be(Ye,!1)})}ze(Ce,We)}),ze(Y,re)};ht(H,Y=>{typeof O(r).next=="object"&&Y(X)})}wt(()=>dn(q,`margin-left: ${O(i)+16}px;`)),ze(j,q)};ht(Ee,j=>{O(a)&&O(r).next&&j(x)})}wt(()=>{dn(z,`
        background-color: ${v()[u()]+"20"};
        border-left: 4px solid ${v()[u()]||"#CBD5E0"};
        margin-left: ${O(i)??""}px;
      `),dn(oe,`transform: ${O(a)?"rotate(90deg)":"rotate(0deg)"}`),ut(te,O(r).text)}),ft("click",z,S),ft("keydown",z,j=>j.key==="Enter"&&S(j)),ze(I,F)};ht(B,I=>{O(r)&&I(he)},ee)}};ht(V,B=>{!O(r)&&O(n)?B(ce):B(Q,!1)},W)}};ht(_,V=>{s()?V(U,!1):V(E)})}ze(t,C),mn()}var w2=Ve('<div><h2 class="text-lg font-semibold capitalize svelte-ppcgph"> </h2> <p class="text-sm text-gray-600 mt-1"> </p></div>'),_2=Ve('<div class="mt-6 border-t pt-4"><h2 class="text-xl font-semibold capitalize mb-4 svelte-ppcgph"> </h2> <div class="space-y-2"></div></div>'),x2=Ve('<div class="fixed bg-white p-3 rounded shadow-lg max-w-xs z-50 text-sm"> </div>'),A2=Ve('<div class="max-w-full"><h1 class="text-2xl font-bold mb-4 svelte-ppcgph">School Facility Management Decision Trees</h1> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"></div> <!> <!></div>');function N2(t,e){gn(e,!1);let r=yt(null),n=yt({}),a=yt({visible:!1,text:"",x:0,y:0});const i={"water-supply":"#2196F3","water-demand":"#4CAF50","dust-impacts":"#FFC107","heat-impacts":"#FF5722","rainwater-entry":"#3F51B5","flood-management":"#00BCD4","wildfire-impacts":"#F44336","electricity-supply":"#9C27B0","rain-noise":"#607D8B","air-quality":"#8BC34A"};function s(C){Ie(r,O(r)===C?null:C),Ie(n,{})}function u(C){const{nodeId:_}=C.detail;console.log("Handling toggle node:",_,"Current state:",O(n)[_]),Ie(n,{...O(n),[_]:!O(n)[_]}),console.log("Updated expandedNodes:",O(n),"New state for",_,":",!O(n)[_])}function c(C){const{e:_,helpText:E}=C.detail,U=_.clientX,V=_.clientY;Ie(a,{visible:!0,text:E,x:U,y:V})}function h(){Ie(a,{...O(a),visible:!1})}Cn();var v=A2(),g=ke(ye(v),2);Hr(g,5,()=>Object.keys(Yt).filter(C=>C!=="recommendations"),Ur,(C,_)=>{var E=w2(),U=ye(E),V=ye(U),W=ke(U,2),ce=ye(W);wt(Q=>{Ii(E,1,`p-4 rounded-lg shadow cursor-pointer transition-all ${O(r)===O(_)?"ring-2 ring-offset-2":"hover:shadow-md"}`),dn(E,`
          background-color: ${i[O(_)]+"10"};
          border-left: 4px solid ${i[O(_)]||"#CBD5E0"};
          ${O(r)===O(_)?`ring-color: ${i[O(_)]};`:""}
        `),ut(V,Q),ut(ce,`${Yt[O(_)].length??""} decision points`)},[()=>O(_).replace(/-/g," ")],ir),ft("click",E,()=>s(O(_))),ze(C,E)});var y=ke(g,2);{var p=C=>{var _=_2(),E=ye(_),U=ye(E),V=ke(E,2);Hr(V,5,()=>Yt[O(r)].filter(W=>W.id.endsWith("1")),Ur,(W,ce)=>{Cu(W,{get nodeId(){return O(ce).id},get category(){return O(r)},level:0,get expandedNodes(){return O(n)},categoryColors:i,$$events:{toggleNode:u,showTooltip:c}})}),wt(W=>{dn(E,`color: ${i[O(r)]??""}`),ut(U,`${W??""} Decision Tree`)},[()=>O(r).replace(/-/g," ")],ir),ze(C,_)};ht(y,C=>{O(r)&&C(p)})}var S=ke(y,2);{var L=C=>{var _=x2(),E=ye(_);wt(()=>{dn(_,`top: ${O(a).y+10}px; left: ${O(a).x+10}px;`),ut(E,O(a).text)}),ft("mouseleave",_,h),ze(C,_)};ht(S,C=>{O(a).visible&&C(L)})}ze(t,v),mn()}function S2(t){const e=JSON.stringify(t,null,2),r=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(r),a=document.createElement("a");return a.href=n,a.download="flowchart_data.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),e}function L2(t){try{const e=JSON.parse(t);if(!e||typeof e!="object")throw new Error("Invalid JSON format: Not an object");const r=Object.keys(e).some(a=>a!=="recommendations"&&Array.isArray(e[a])),n=e.recommendations&&typeof e.recommendations=="object";if(!r||!n)throw new Error("Invalid flowchart data: Missing categories or recommendations");return e}catch(e){return console.error("Error importing flowchart data:",e),null}}const tn=F1(JSON.parse(JSON.stringify(Yt)));function k2(t,e,r){tn.update(n=>{const a=n[t].findIndex(i=>i.id===e);return a!==-1&&(n[t][a]={...n[t][a],...r}),n})}function P2(t,e){tn.update(r=>(r[t]=[...r[t],e],r))}function C2(t,e){tn.update(r=>(r[t]=r[t].filter(n=>n.id!==e),r[t].forEach(n=>{n.next&&Object.entries(n.next).forEach(([a,i])=>{i===e?n.next[a]="end":Array.isArray(i)&&(n.next[a]=i.filter(s=>s!==e),i.length===0&&(n.next[a]="end"))})}),r))}function I2(t){tn.update(e=>(e[t]||(e[t]=[]),e))}function F2(t){tn.update(e=>{if(e[t]){const{[t]:r,...n}=e;return n}return e})}function E2(t,e){tn.update(r=>(r.recommendations&&r.recommendations[t]&&(r.recommendations[t]={...r.recommendations[t],...e}),r))}function j2(t,e){tn.update(r=>(r.recommendations||(r.recommendations={}),r.recommendations[t]=e,r))}function D2(t){tn.update(e=>{if(e.recommendations&&e.recommendations[t]){const{[t]:r,...n}=e.recommendations;e.recommendations=n,Object.keys(e).forEach(a=>{a!=="recommendations"&&e[a].forEach(i=>{i.next&&Object.entries(i.next).forEach(([s,u])=>{u===t?i.next[s]="end":Array.isArray(u)&&(i.next[s]=u.filter(c=>c!==t),u.length===0&&(i.next[s]="end"))})})})}return e})}function O2(){let t;tn.subscribe(r=>{t=JSON.stringify(r,null,2)})();try{return localStorage.setItem("flowchartData",t),console.log("Flowchart saved to localStorage"),!0}catch(r){return console.error("Failed to save to localStorage:",r),!1}}function q2(){try{const t=localStorage.getItem("flowchartData");return t?(tn.set(JSON.parse(t)),!0):!1}catch(t){return console.error("Failed to load from localStorage:",t),!1}}function R2(){let t;return tn.subscribe(r=>{t=r})(),S2(t)}function B2(t){try{const e=L2(t);return e?(tn.set(e),!0):!1}catch(e){return console.error("Failed to parse JSON:",e),!1}}function $f(t){const e=t.split("-").map(a=>a[0]).join(""),r=Date.now().toString(36),n=Math.floor(Math.random()*1e4).toString(36);return`${e}-${r}${n}`}var T2=Ve('<div class="form-error"> </div>'),M2=Ve('<div class="alert alert-error"> </div>'),z2=Ve("<option> </option>"),U2=Ve("<option> </option>"),H2=Ve('<div class="option-item"><div class="option-key"> </div> <select class="form-select"><option>END (Visualization End)</option><optgroup label="Go to Recommendation"></optgroup><optgroup label="Go to Node"></optgroup></select> <button class="icon-button delete-button" title="Remove this option"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path></svg></button></div>'),W2=Ve('<div class="options-list"></div>'),V2=Ve('<div class="empty-state small"><svg class="empty-state-icon small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> <p class="empty-state-text">No options defined yet. Click "Add Option" to add navigation paths.</p></div>'),G2=Ve('<div class="confirm-dialog"><p> </p> <div class="confirm-actions"><button class="action-button secondary-button">Cancel</button> <button class="action-button danger-button">Remove</button></div></div>'),Y2=Ve('<div class="editor-panel"><div class="editor-panel-header"><h2 class="editor-panel-title"> </h2></div> <div class="editor-panel-body"><div class="form-group"><label for="node-id" class="form-label">Node ID</label> <input type="text" id="node-id" placeholder="Enter node ID or leave blank to auto-generate"> <!></div> <div class="form-group"><label for="node-text" class="form-label">Question Text</label> <textarea id="node-text" placeholder="Enter the question text" class="form-textarea" rows="4"></textarea></div> <div class="form-group"><label for="node-help" class="form-label">Help Text (Optional)</label> <textarea id="node-help" placeholder="Enter any help text to clarify the question" class="form-textarea" rows="3"></textarea></div> <div class="form-section"><div class="form-section-header"><h3 class="form-section-title">Navigation Options</h3> <button class="action-button primary-button small" type="button"><svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Option</button></div> <!> <!></div> <!></div> <div class="editor-panel-footer"><button class="action-button secondary-button">Cancel</button> <button class="action-button primary-button">Save</button></div></div>');function J2(t,e){gn(e,!1);let r=Ft(e,"node",8),n=Ft(e,"category",8),a=Ft(e,"recommendations",24,()=>({})),i=Ft(e,"allNodes",24,()=>[]),s=yt(JSON.parse(JSON.stringify(r()))),u=yt(""),c=yt(""),h=yt(null);const v=qi();function g(Y){return Y.trim()?i().some(ne=>ne.id===Y&&ne.id!==r().id)?"This Node ID is already in use":"":"Node ID is required"}function y(){const Y=prompt('Enter key (option text like "yes", "no", etc.):');if(Y&&Y.trim()){if(O(s).next&&O(s).next[Y]){alert(`Option "${Y}" already exists.`);return}O(s).next||zr(s,O(s).next={}),zr(s,O(s).next[Y]="end"),Ie(s,{...O(s)})}}function p(){O(h)&&O(s).next&&(delete O(s).next[O(h)],Ie(s,{...O(s)}),Ie(h,null))}function S(){const Y=O(s).id||$f(n());if(Ie(u,g(Y)),!O(u)){if(Ie(c,""),O(s).next)for(const[re,ne]of Object.entries(O(s).next)){if(ne==="end"||ne.startsWith("rec:"))continue;if(!i().some(Se=>Se.id===ne)){Ie(c,`Target node "${ne}" doesn't exist. Either create it or use a valid node ID.`);return}}O(c)||v("save",{category:n(),nodeId:r().id,updatedNode:O(s)})}}function L(){v("cancel")}function C(Y){if(Y==="end")return"END";if(Y.startsWith("rec:")){const re=Y.replace("rec:","");return a()[re]?`REC: ${re} - ${a()[re].text}`:`REC: ${re}`}return Y}Cn();var _=Y2(),E=ye(_),U=ye(E),V=ye(U),W=ke(E,2),ce=ye(W),Q=ke(ye(ce),2),B=ke(Q,2);{var ee=Y=>{var re=T2(),ne=ye(re);wt(()=>ut(ne,O(u))),ze(Y,re)};ht(B,Y=>{O(u)&&Y(ee)})}var he=ke(ce,2),I=ke(ye(he),2),F=ke(he,2),z=ke(ye(F),2),T=ke(F,2),oe=ye(T),se=ke(ye(oe),2),fe=ke(oe,2);{var te=Y=>{var re=M2(),ne=ye(re);wt(()=>ut(ne,O(c))),ze(Y,re)};ht(fe,Y=>{O(c)&&Y(te)})}var de=ke(fe,2);{var ve=Y=>{var re=W2();Hr(re,5,()=>Object.entries(O(s).next),Ur,(ne,Ce)=>{let Se=()=>O(Ce)[0];var je=H2(),Fe=ye(je),We=ye(Fe),ge=ke(Fe,2);wt(()=>{O(s),l1(()=>{Se(),a(),i(),r()})});var M=ye(ge);M.value=M.__value="end";var Ye=ke(M);Hr(Ye,5,()=>Object.keys(a()),Ur,(pe,_e)=>{var Ne=z2(),De={},Ue=ye(Ne);wt(Ke=>{De!==(De=`rec:${O(_e)??""}`)&&(Ne.value=Ne.__value=`rec:${O(_e)??""}`),ut(Ue,`${O(_e)??""} - ${Ke??""}...`)},[()=>a()[O(_e)].text.substring(0,40)],ir),ze(pe,Ne)});var Be=ke(Ye);Hr(Be,5,()=>i().filter(pe=>pe.id!==r().id),Ur,(pe,_e)=>{var Ne=U2(),De={},Ue=ye(Ne);wt(Ke=>{De!==(De=O(_e).id)&&(Ne.value=(Ne.__value=O(_e).id)??""),ut(Ue,`${O(_e).id??""} - ${Ke??""}...`)},[()=>O(_e).text.substring(0,40)],ir),ze(pe,Ne)});var ae=ke(ge,2);wt(()=>ut(We,Se())),C1(ge,()=>O(s).next[Se()],pe=>zr(s,O(s).next[Se()]=pe)),ft("click",ae,()=>Ie(h,Se())),ze(ne,je)}),ze(Y,re)},Ee=Y=>{var re=V2();ze(Y,re)};ht(de,Y=>{O(s).next&&Object.keys(O(s).next).length>0?Y(ve):Y(Ee,!1)})}var x=ke(T,2);{var j=Y=>{var re=G2(),ne=ye(re),Ce=ye(ne),Se=ke(ne,2),je=ye(Se),Fe=ke(je,2);wt(We=>ut(Ce,`Remove option "${O(h)??""}" that goes to ${We??""}?`),[()=>C(O(s).next[O(h)])],ir),ft("click",je,()=>Ie(h,null)),ft("click",Fe,p),ze(Y,re)};ht(x,Y=>{O(h)&&Y(j)})}var q=ke(W,2),H=ye(q),X=ke(H,2);wt(()=>{ut(V,r().id?"Edit Node":"New Node"),Ii(Q,1,`form-input ${O(u)?"error":""}`)}),Mn(Q,()=>O(s).id,Y=>zr(s,O(s).id=Y)),Mn(I,()=>O(s).text,Y=>zr(s,O(s).text=Y)),Mn(z,()=>O(s).help,Y=>zr(s,O(s).help=Y)),ft("click",se,y),ft("click",H,L),ft("click",X,S),ze(t,_),mn()}var $2=Ve('<div class="form-error"> </div>'),X2=Ve('<div class="editor-panel"><div class="editor-panel-header"><h2 class="editor-panel-title"> </h2></div> <div class="editor-panel-body"><div class="form-group"><label for="rec-id" class="form-label">Recommendation ID</label> <input type="text" id="rec-id" placeholder="Enter recommendation ID or leave blank to auto-generate"> <!></div> <div class="form-group"><label for="rec-text" class="form-label">Recommendation Text</label> <textarea id="rec-text" placeholder="Enter the recommendation text" class="form-textarea" rows="6"></textarea></div> <div class="form-group"><label for="rec-description" class="form-label">Description (Optional)</label> <textarea id="rec-description" placeholder="Enter additional details about this recommendation" class="form-textarea" rows="4"></textarea></div> <div class="form-group"><label for="rec-reference" class="form-label">Reference (Optional)</label> <input type="text" id="rec-reference" placeholder="Enter any reference information" class="form-input"></div> <div class="form-group"><label class="form-label">Priority</label> <div class="radio-group"><label class="radio-label"><input type="radio" name="priority"> <span class="radio-text priority-high">High</span></label> <label class="radio-label"><input type="radio" name="priority"> <span class="radio-text priority-medium">Medium</span></label> <label class="radio-label"><input type="radio" name="priority"> <span class="radio-text priority-low">Low</span></label></div></div></div> <div class="editor-panel-footer"><button class="action-button secondary-button">Cancel</button> <button class="action-button primary-button">Save</button></div></div>');function K2(t,e){gn(e,!1);const r=[];let n=Ft(e,"recommendation",8),a=Ft(e,"category",8),i=Ft(e,"allRecommendations",24,()=>[]),s=yt(JSON.parse(JSON.stringify(n()))),u=yt("");const c=qi();function h(x){return x.trim()?i().some(q=>q.id===x&&q.id!==n().id)?"This Recommendation ID is already in use":"":"Recommendation ID is required"}function v(){const x=O(s).id||$f(`${a()}-rec`);Ie(u,h(x)),!O(u)&&(O(s).id||zr(s,O(s).id=x),c("save",{category:a(),recId:n().id,updatedRecommendation:O(s)}))}function g(){c("cancel")}Cn();var y=X2(),p=ye(y),S=ye(p),L=ye(S),C=ke(p,2),_=ye(C),E=ke(ye(_),2),U=ke(E,2);{var V=x=>{var j=$2(),q=ye(j);wt(()=>ut(q,O(u))),ze(x,j)};ht(U,x=>{O(u)&&x(V)})}var W=ke(_,2),ce=ke(ye(W),2),Q=ke(W,2),B=ke(ye(Q),2),ee=ke(Q,2),he=ke(ye(ee),2),I=ke(ee,2),F=ke(ye(I),2),z=ye(F),T=ye(z);T.value=T.__value="high";var oe=ke(z,2),se=ye(oe);se.value=se.__value="medium";var fe=ke(oe,2),te=ye(fe);te.value=te.__value="low";var de=ke(C,2),ve=ye(de),Ee=ke(ve,2);wt(()=>{ut(L,n().id?"Edit Recommendation":"New Recommendation"),Ii(E,1,`form-input ${O(u)?"error":""}`)}),Mn(E,()=>O(s).id,x=>zr(s,O(s).id=x)),Mn(ce,()=>O(s).text,x=>zr(s,O(s).text=x)),Mn(B,()=>O(s).description,x=>zr(s,O(s).description=x)),Mn(he,()=>O(s).reference,x=>zr(s,O(s).reference=x)),ou(r,[],T,()=>O(s).priority,x=>zr(s,O(s).priority=x)),ou(r,[],se,()=>O(s).priority,x=>zr(s,O(s).priority=x)),ou(r,[],te,()=>O(s).priority,x=>zr(s,O(s).priority=x)),ft("click",ve,g),ft("click",Ee,v),ze(t,y),mn()}var Q2=Ve('<div class="alert alert-success mb-4"><svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Flowchart saved successfully!</span></div>'),Z2=Ve('<div class="modal-content mb-4"><div class="modal-header"><h3 class="modal-title">Import Flowchart Data</h3></div> <div class="form-group"><textarea class="form-textarea" rows="8" placeholder="Paste JSON here..."></textarea></div> <div class="form-buttons"><button class="action-button secondary-button">Cancel</button> <button class="action-button primary-button">Import</button></div></div>'),ep=Ve('<div><div class="category-card-color"></div> <h2 class="category-title capitalize svelte-ppcgph"> </h2> <p class="category-count"> </p></div>'),tp=Ve('<button class="action-button primary-button"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Node</button>'),rp=Ve('<button class="action-button primary-button"><svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> Add Recommendation</button>'),np=Ve('<div class="node-options"> </div>'),ip=Ve('<div class="node-card"><div class="node-card-color"></div> <div class="node-title"> </div> <div class="node-id"> </div> <!> <div class="node-actions"><button class="icon-button edit-button" title="Edit node"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="icon-button delete-button" title="Delete node"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div></div>'),ap=Ve('<div class="empty-state"><svg class="empty-state-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><line x1="9" y1="12" x2="15" y2="12"></line></svg> <p class="empty-state-text"> </p></div>'),op=Ve('<div class="mb-4"><input type="text" placeholder="Search nodes..." class="search-input"></div> <div class="space-y-2"><!> <!></div>',1),sp=Ve('<div class="node-card"><div class="flex items-start"><div class="mr-3 text-2xl"> </div> <div class="flex-1"><div class="node-title"> </div> <div class="node-id"> </div></div></div> <div class="node-actions"><button class="icon-button edit-button" title="Edit recommendation"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="icon-button delete-button" title="Delete recommendation"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></button></div></div>'),lp=Ve('<div class="empty-state"><svg class="empty-state-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> <p class="empty-state-text"> </p></div>'),up=Ve('<div class="mb-4"><input type="text" placeholder="Search recommendations..." class="search-input"></div> <div class="space-y-2"><!> <!></div>',1),cp=Ve('<div class="mt-6 border-t pt-4"><div class="flex justify-between items-center mb-4"><div class="flex items-center"><h2 class="text-xl font-semibold capitalize svelte-ppcgph"> </h2> <button class="icon-button delete-button ml-2" title="Delete this category"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path></svg></button></div> <div class="flex gap-2"><div class="tab-container"><button>Nodes</button> <button>Recommendations</button></div> <!></div></div> <!></div>'),fp=Ve('<div class="modal-overlay"><div class="modal-content max-w-2xl"><!></div></div>'),hp=Ve('<div class="modal-overlay"><div class="modal-content max-w-2xl"><!></div></div>'),dp=Ve('<div class="editor-container"><div class="editor-header"><h1 class="editor-title svelte-ppcgph">Flowchart Editor</h1> <div class="action-buttons flex gap-3"><button class="action-button success-button"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg> Save</button> <button class="action-button info-button"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Export</button> <button class="action-button secondary-button"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path><polyline points="17 10 12 15 7 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Import</button></div></div> <!> <!> <div class="categories-grid"><!> <div class="add-category-card"><svg class="add-category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"></path></svg> <span class="add-category-text">Add New Category</span></div></div> <!> <!> <!></div>');function pp(t,e){gn(e,!1);const[r,n]=D1(),a=()=>j1(tn,"$flowchartStore",r);let i=yt(null),s=yt(null),u=yt(null),c=!1,h=!1,v=yt("nodes"),g=yt(!1),y=yt(""),p=yt([]),S=yt(""),L=yt(""),C=yt([]),_=yt(!1);const E={"water-supply":"#2196F3","water-demand":"#4CAF50","dust-impacts":"#FFC107","heat-impacts":"#FF5722","rainwater-entry":"#3F51B5","flood-management":"#00BCD4","wildfire-impacts":"#F44336","electricity-supply":"#9C27B0","rain-noise":"#607D8B","air-quality":"#8BC34A"};q1(()=>{q2()});function U(ae){Ie(s,{node:JSON.parse(JSON.stringify(ae)),category:O(i)}),c=!1}function V(){c=!0,Ie(s,{node:{id:"",text:"",help:"",next:{yes:"end",no:"end"}},category:O(i)})}function W(ae,pe){Ie(u,{recommendationId:ae,recommendation:JSON.parse(JSON.stringify(pe)),category:pe.category}),h=!1}function ce(){h=!0,Ie(u,{recommendationId:"",recommendation:{text:"",icon:"💡",final:!0},category:O(i)})}function Q(ae){const{category:pe,nodeId:_e,updatedNode:Ne}=ae.detail;if(c){const De=_e||te(pe),Ue={...Ne,id:De};P2(pe,Ue)}else k2(pe,_e,Ne);Ie(s,null),c=!1}function B(ae){const{recommendationId:pe,updatedRecommendation:_e}=ae.detail;h?j2(pe,_e):E2(pe,_e),Ie(u,null),h=!1}function ee(){Ie(s,null),Ie(u,null),c=!1,h=!1}function he(ae){confirm(`Are you sure you want to delete this node (${ae})? This action cannot be undone.`)&&C2(O(i),ae)}function I(ae){confirm(`Are you sure you want to delete this recommendation (${ae})? This action cannot be undone.`)&&D2(ae)}function F(){const ae=prompt('Enter new category name (use kebab-case, e.g., "my-category"):');if(ae&&ae.trim()){const pe=ae.trim().toLowerCase().replace(/\s+/g,"-");I2(pe),Ie(i,pe)}}function z(){O(i)&&confirm(`Are you sure you want to delete the entire "${O(i)}" category? This action cannot be undone.`)&&(F2(O(i)),Ie(i,null))}function T(){O2()?(Ie(_,!0),setTimeout(()=>{Ie(_,!1)},3e3)):alert("Failed to save. This may be due to storage limitations in your browser.")}function oe(){const ae=R2();console.log("Exported JSON data:",ae)}function se(){Ie(g,!O(g)),Ie(y,"")}function fe(){try{B2(O(y))?(alert("Flowchart imported successfully!"),Ie(g,!1)):alert("Failed to import flowchart. Please check the JSON format.")}catch(ae){alert(`Error importing: ${ae.message}`)}}function te(ae){if(!ae)return"";const pe=ae.split("-").map(De=>De[0]).join(""),_e=(a()[ae]||[]).filter(De=>De.id.startsWith(pe)).map(De=>{const Ue=parseInt(De.id.replace(/^[a-z]+/,""),10);return isNaN(Ue)?0:Ue}),Ne=_e.length>0?Math.max(..._e):0;return`${pe}${Ne+1}`}function de(ae){if(E[ae])return E[ae];let pe=0;for(let Ne=0;Ne<ae.length;Ne++)pe=ae.charCodeAt(Ne)+((pe<<5)-pe);return`hsl(${Math.abs(pe)%360}, 70%, 50%)`}Ki(()=>(O(i),a(),O(S)),()=>{O(i)&&a()[O(i)]?Ie(p,a()[O(i)].filter(ae=>O(S)===""||ae.id.toLowerCase().includes(O(S).toLowerCase())||ae.text.toLowerCase().includes(O(S).toLowerCase()))):Ie(p,[])}),Ki(()=>(a(),O(L)),()=>{a().recommendations?Ie(C,Object.entries(a().recommendations).filter(([ae,pe])=>O(L)===""||ae.toLowerCase().includes(O(L).toLowerCase())||pe.text.toLowerCase().includes(O(L).toLowerCase())).map(([ae,pe])=>({id:ae,...pe}))):Ie(C,[])}),Zu(),Cn();var ve=dp(),Ee=ye(ve),x=ke(ye(Ee),2),j=ye(x),q=ke(j,2),H=ke(q,2),X=ke(Ee,2);{var Y=ae=>{var pe=Q2();ze(ae,pe)};ht(X,ae=>{O(_)&&ae(Y)})}var re=ke(X,2);{var ne=ae=>{var pe=Z2(),_e=ke(ye(pe),2),Ne=ye(_e),De=ke(_e,2),Ue=ye(De),Ke=ke(Ue,2);Mn(Ne,()=>O(y),Ze=>Ie(y,Ze)),ft("click",Ue,se),ft("click",Ke,fe),ze(ae,pe)};ht(re,ae=>{O(g)&&ae(ne)})}var Ce=ke(re,2),Se=ye(Ce);Hr(Se,1,()=>Object.keys(a()).filter(ae=>ae!=="recommendations"),Ur,(ae,pe)=>{var _e=ep(),Ne=ye(_e),De=ke(Ne,2),Ue=ye(De),Ke=ke(De,2),Ze=ye(Ke);wt((at,pt)=>{Ii(_e,1,`category-card ${O(i)===O(pe)?"active":""}`),dn(Ne,`background-color: ${at??""};`),ut(Ue,pt),ut(Ze,`${a()[O(pe)].length??""} decision points`)},[()=>de(O(pe)),()=>O(pe).replace(/-/g," ")],ir),ft("click",_e,()=>Ie(i,O(pe))),ze(ae,_e)});var je=ke(Se,2),Fe=ke(Ce,2);{var We=ae=>{var pe=cp(),_e=ye(pe),Ne=ye(_e),De=ye(Ne),Ue=ye(De),Ke=ke(De,2),Ze=ke(Ne,2),at=ye(Ze),pt=ye(at),Xe=ke(pt,2),nt=ke(at,2);{var qe=dt=>{var zt=tp();ft("click",zt,V),ze(dt,zt)},er=dt=>{var zt=rp();ft("click",zt,ce),ze(dt,zt)};ht(nt,dt=>{O(v)==="nodes"?dt(qe):dt(er,!1)})}var vt=ke(_e,2);{var hr=dt=>{var zt=op(),gt=Pn(zt),yn=ye(gt),Dt=ke(gt,2),dr=ye(Dt);Hr(dr,1,()=>O(p),Ur,(Ge,et)=>{var pr=ip(),Pt=ye(pr),mr=ke(Pt,2),Dr=ye(mr),Je=ke(mr,2),yr=ye(Je),Lr=ke(Je,2);{var or=Or=>{var rn=np(),Gr=ye(rn);wt(Yr=>ut(Gr,`Options: ${Yr??""}`),[()=>Object.keys(O(et).next).join(", ")],ir),ze(Or,rn)};ht(Lr,Or=>{O(et).next&&Or(or)})}var Ut=ke(Lr,2),Tt=ye(Ut),sr=ke(Tt,2);wt(Or=>{dn(Pt,`background-color: ${Or??""};`),ut(Dr,O(et).text),ut(yr,`ID: ${O(et).id??""}`)},[()=>de(O(i))],ir),ft("click",Tt,()=>U(O(et))),ft("click",sr,()=>he(O(et).id)),ze(Ge,pr)});var Vr=ke(dr,2);{var Ot=Ge=>{var et=ap(),pr=ke(ye(et),2),Pt=ye(pr);wt(()=>ut(Pt,O(S)?"No nodes matching your search":'No nodes in this category yet. Click "Add Node" to create one.')),ze(Ge,et)};ht(Vr,Ge=>{O(p).length===0&&Ge(Ot)})}Mn(yn,()=>O(S),Ge=>Ie(S,Ge)),ze(dt,zt)},At=dt=>{var zt=up(),gt=Pn(zt),yn=ye(gt),Dt=ke(gt,2),dr=ye(Dt);Hr(dr,1,()=>O(C),Ur,(Ge,et)=>{var pr=sp(),Pt=ye(pr),mr=ye(Pt),Dr=ye(mr),Je=ke(mr,2),yr=ye(Je),Lr=ye(yr),or=ke(yr,2),Ut=ye(or),Tt=ke(Pt,2),sr=ye(Tt),Or=ke(sr,2);wt(()=>{ut(Dr,O(et).icon||"💡"),ut(Lr,O(et).text),ut(Ut,`ID: ${O(et).id??""}`)}),ft("click",sr,()=>W(O(et).id,O(et))),ft("click",Or,()=>I(O(et).id)),ze(Ge,pr)});var Vr=ke(dr,2);{var Ot=Ge=>{var et=lp(),pr=ke(ye(et),2),Pt=ye(pr);wt(()=>ut(Pt,O(L)?"No recommendations matching your search":'No recommendations available yet. Click "Add Recommendation" to create one.')),ze(Ge,et)};ht(Vr,Ge=>{O(C).length===0&&Ge(Ot)})}Mn(yn,()=>O(L),Ge=>Ie(L,Ge)),ze(dt,zt)};ht(vt,dt=>{O(v)==="nodes"?dt(hr):dt(At,!1)})}wt((dt,zt)=>{dn(De,`color: ${dt??""}`),ut(Ue,zt),Ii(pt,1,`tab-button ${O(v)==="nodes"?"active":""}`),Ii(Xe,1,`tab-button ${O(v)==="recommendations"?"active":""}`)},[()=>de(O(i)),()=>O(i).replace(/-/g," ")],ir),ft("click",Ke,z),ft("click",pt,()=>Ie(v,"nodes")),ft("click",Xe,()=>Ie(v,"recommendations")),ze(ae,pe)};ht(Fe,ae=>{O(i)&&ae(We)})}var ge=ke(Fe,2);{var M=ae=>{var pe=fp(),_e=ye(pe),Ne=ye(_e);const De=ir(()=>a().recommendations||{}),Ue=ir(()=>a()[O(i)]||[]);J2(Ne,{get node(){return O(s).node},get category(){return O(s).category},get recommendations(){return O(De)},get allNodes(){return O(Ue)},$$events:{save:Q,cancel:ee}}),ze(ae,pe)};ht(ge,ae=>{O(s)&&ae(M)})}var Ye=ke(ge,2);{var Be=ae=>{var pe=hp(),_e=ye(pe),Ne=ye(_e);const De=ir(()=>a().recommendations||{});K2(Ne,{get recommendation(){return O(u).recommendation},get category(){return O(u).category},get allRecommendations(){return O(De)},$$events:{save:B,cancel:ee}}),ze(ae,pe)};ht(Ye,ae=>{O(u)&&ae(Be)})}ft("click",j,T),ft("click",q,oe),ft("click",H,se),ft("click",je,F),ze(t,ve),mn(),n()}const vp="modulepreload",gp=function(t){return"/school-climate-survey/"+t},Wc={},Iu=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(r.map(h=>{if(h=gp(h),h in Wc)return;Wc[h]=!0;const v=h.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":vp,v||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),v)return new Promise((p,S)=>{y.addEventListener("load",p),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function Lt(t){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}var Sr=Uint8Array,Zr=Uint16Array,rc=Int32Array,hl=new Sr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dl=new Sr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fu=new Sr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xf=function(t,e){for(var r=new Zr(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new rc(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Kf=Xf(hl,2),Qf=Kf.b,Eu=Kf.r;Qf[28]=258,Eu[258]=28;var Zf=Xf(dl,0),mp=Zf.b,Vc=Zf.r,ju=new Zr(32768);for(var Mt=0;Mt<32768;++Mt){var Ai=(Mt&43690)>>1|(Mt&21845)<<1;Ai=(Ai&52428)>>2|(Ai&13107)<<2,Ai=(Ai&61680)>>4|(Ai&3855)<<4,ju[Mt]=((Ai&65280)>>8|(Ai&255)<<8)>>1}var Un=function(t,e,r){for(var n=t.length,a=0,i=new Zr(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Zr(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var u;if(r){u=new Zr(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var h=a<<4|t[a],v=e-t[a],g=s[t[a]-1]++<<v,y=g|(1<<v)-1;g<=y;++g)u[ju[g]>>c]=h}else for(u=new Zr(n),a=0;a<n;++a)t[a]&&(u[a]=ju[s[t[a]-1]++]>>15-t[a]);return u},ji=new Sr(288);for(var Mt=0;Mt<144;++Mt)ji[Mt]=8;for(var Mt=144;Mt<256;++Mt)ji[Mt]=9;for(var Mt=256;Mt<280;++Mt)ji[Mt]=7;for(var Mt=280;Mt<288;++Mt)ji[Mt]=8;var Bo=new Sr(32);for(var Mt=0;Mt<32;++Mt)Bo[Mt]=5;var yp=Un(ji,9,0),bp=Un(ji,9,1),wp=Un(Bo,5,0),_p=Un(Bo,5,1),uu=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Sn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},cu=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},nc=function(t){return(t+7)/8|0},eh=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Sr(t.subarray(e,r))},xp=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],kn=function(t,e,r){var n=new Error(e||xp[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,kn),!r)throw n;return n},Ap=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Sr(0);var s=!r,u=s||e.i!=2,c=e.i;s&&(r=new Sr(a*3));var h=function(Se){var je=r.length;if(Se>je){var Fe=new Sr(Math.max(je*2,Se));Fe.set(r),r=Fe}},v=e.f||0,g=e.p||0,y=e.b||0,p=e.l,S=e.d,L=e.m,C=e.n,_=a*8;do{if(!p){v=Sn(t,g,1);var E=Sn(t,g+1,3);if(g+=3,E)if(E==1)p=bp,S=_p,L=9,C=5;else if(E==2){var ce=Sn(t,g,31)+257,Q=Sn(t,g+10,15)+4,B=ce+Sn(t,g+5,31)+1;g+=14;for(var ee=new Sr(B),he=new Sr(19),I=0;I<Q;++I)he[Fu[I]]=Sn(t,g+I*3,7);g+=Q*3;for(var F=uu(he),z=(1<<F)-1,T=Un(he,F,1),I=0;I<B;){var oe=T[Sn(t,g,z)];g+=oe&15;var U=oe>>4;if(U<16)ee[I++]=U;else{var se=0,fe=0;for(U==16?(fe=3+Sn(t,g,3),g+=2,se=ee[I-1]):U==17?(fe=3+Sn(t,g,7),g+=3):U==18&&(fe=11+Sn(t,g,127),g+=7);fe--;)ee[I++]=se}}var te=ee.subarray(0,ce),de=ee.subarray(ce);L=uu(te),C=uu(de),p=Un(te,L,1),S=Un(de,C,1)}else kn(1);else{var U=nc(g)+4,V=t[U-4]|t[U-3]<<8,W=U+V;if(W>a){c&&kn(0);break}u&&h(y+V),r.set(t.subarray(U,W),y),e.b=y+=V,e.p=g=W*8,e.f=v;continue}if(g>_){c&&kn(0);break}}u&&h(y+131072);for(var ve=(1<<L)-1,Ee=(1<<C)-1,x=g;;x=g){var se=p[cu(t,g)&ve],j=se>>4;if(g+=se&15,g>_){c&&kn(0);break}if(se||kn(2),j<256)r[y++]=j;else if(j==256){x=g,p=null;break}else{var q=j-254;if(j>264){var I=j-257,H=hl[I];q=Sn(t,g,(1<<H)-1)+Qf[I],g+=H}var X=S[cu(t,g)&Ee],Y=X>>4;X||kn(3),g+=X&15;var de=mp[Y];if(Y>3){var H=dl[Y];de+=cu(t,g)&(1<<H)-1,g+=H}if(g>_){c&&kn(0);break}u&&h(y+131072);var re=y+q;if(y<de){var ne=i-de,Ce=Math.min(de,re);for(ne+y<0&&kn(3);y<Ce;++y)r[y]=n[ne+y]}for(;y<re;++y)r[y]=r[y-de]}}e.l=p,e.p=x,e.b=y,e.f=v,p&&(v=1,e.m=L,e.d=S,e.n=C)}while(!v);return y!=r.length&&s?eh(r,0,y):r.subarray(0,y)},ri=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ko=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},fu=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:rh,l:0};if(a==1){var s=new Sr(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(W,ce){return W.f-ce.f}),r.push({s:-1,f:25001});var u=r[0],c=r[1],h=0,v=1,g=2;for(r[0]={s:-1,f:u.f+c.f,l:u,r:c};v!=a-1;)u=r[r[h].f<r[g].f?h++:g++],c=r[h!=v&&r[h].f<r[g].f?h++:g++],r[v++]={s:-1,f:u.f+c.f,l:u,r:c};for(var y=i[0].s,n=1;n<a;++n)i[n].s>y&&(y=i[n].s);var p=new Zr(y+1),S=Du(r[v-1],p,0);if(S>e){var n=0,L=0,C=S-e,_=1<<C;for(i.sort(function(ce,Q){return p[Q.s]-p[ce.s]||ce.f-Q.f});n<a;++n){var E=i[n].s;if(p[E]>e)L+=_-(1<<S-p[E]),p[E]=e;else break}for(L>>=C;L>0;){var U=i[n].s;p[U]<e?L-=1<<e-p[U]++-1:++n}for(;n>=0&&L;--n){var V=i[n].s;p[V]==e&&(--p[V],++L)}S=e}return{t:new Sr(p),l:S}},Du=function(t,e,r){return t.s==-1?Math.max(Du(t.l,e,r+1),Du(t.r,e,r+1)):e[t.s]=r},Gc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Zr(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},u=1;u<=e;++u)if(t[u]==a&&u!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[u]}return{c:r.subarray(0,n),n:e}},Po=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},th=function(t,e,r){var n=r.length,a=nc(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},Yc=function(t,e,r,n,a,i,s,u,c,h,v){ri(e,v++,r),++a[256];for(var g=fu(a,15),y=g.t,p=g.l,S=fu(i,15),L=S.t,C=S.l,_=Gc(y),E=_.c,U=_.n,V=Gc(L),W=V.c,ce=V.n,Q=new Zr(19),B=0;B<E.length;++B)++Q[E[B]&31];for(var B=0;B<W.length;++B)++Q[W[B]&31];for(var ee=fu(Q,7),he=ee.t,I=ee.l,F=19;F>4&&!he[Fu[F-1]];--F);var z=h+5<<3,T=Po(a,ji)+Po(i,Bo)+s,oe=Po(a,y)+Po(i,L)+s+14+3*F+Po(Q,he)+2*Q[16]+3*Q[17]+7*Q[18];if(c>=0&&z<=T&&z<=oe)return th(e,v,t.subarray(c,c+h));var se,fe,te,de;if(ri(e,v,1+(oe<T)),v+=2,oe<T){se=Un(y,p,0),fe=y,te=Un(L,C,0),de=L;var ve=Un(he,I,0);ri(e,v,U-257),ri(e,v+5,ce-1),ri(e,v+10,F-4),v+=14;for(var B=0;B<F;++B)ri(e,v+3*B,he[Fu[B]]);v+=3*F;for(var Ee=[E,W],x=0;x<2;++x)for(var j=Ee[x],B=0;B<j.length;++B){var q=j[B]&31;ri(e,v,ve[q]),v+=he[q],q>15&&(ri(e,v,j[B]>>5&127),v+=j[B]>>12)}}else se=yp,fe=ji,te=wp,de=Bo;for(var B=0;B<u;++B){var H=n[B];if(H>255){var q=H>>18&31;ko(e,v,se[q+257]),v+=fe[q+257],q>7&&(ri(e,v,H>>23&31),v+=hl[q]);var X=H&31;ko(e,v,te[X]),v+=de[X],X>3&&(ko(e,v,H>>5&8191),v+=dl[X])}else ko(e,v,se[H]),v+=fe[H]}return ko(e,v,se[256]),v+fe[256]},Np=new rc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rh=new Sr(0),Sp=function(t,e,r,n,a,i){var s=i.z||t.length,u=new Sr(n+s+5*(1+Math.ceil(s/7e3))+a),c=u.subarray(n,u.length-a),h=i.l,v=(i.r||0)&7;if(e){v&&(c[0]=i.r>>3);for(var g=Np[e-1],y=g>>13,p=g&8191,S=(1<<r)-1,L=i.p||new Zr(32768),C=i.h||new Zr(S+1),_=Math.ceil(r/3),E=2*_,U=function(We){return(t[We]^t[We+1]<<_^t[We+2]<<E)&S},V=new rc(25e3),W=new Zr(288),ce=new Zr(32),Q=0,B=0,ee=i.i||0,he=0,I=i.w||0,F=0;ee+2<s;++ee){var z=U(ee),T=ee&32767,oe=C[z];if(L[T]=oe,C[z]=T,I<=ee){var se=s-ee;if((Q>7e3||he>24576)&&(se>423||!h)){v=Yc(t,c,0,V,W,ce,B,he,F,ee-F,v),he=Q=B=0,F=ee;for(var fe=0;fe<286;++fe)W[fe]=0;for(var fe=0;fe<30;++fe)ce[fe]=0}var te=2,de=0,ve=p,Ee=T-oe&32767;if(se>2&&z==U(ee-Ee))for(var x=Math.min(y,se)-1,j=Math.min(32767,ee),q=Math.min(258,se);Ee<=j&&--ve&&T!=oe;){if(t[ee+te]==t[ee+te-Ee]){for(var H=0;H<q&&t[ee+H]==t[ee+H-Ee];++H);if(H>te){if(te=H,de=Ee,H>x)break;for(var X=Math.min(Ee,H-2),Y=0,fe=0;fe<X;++fe){var re=ee-Ee+fe&32767,ne=L[re],Ce=re-ne&32767;Ce>Y&&(Y=Ce,oe=re)}}}T=oe,oe=L[T],Ee+=T-oe&32767}if(de){V[he++]=268435456|Eu[te]<<18|Vc[de];var Se=Eu[te]&31,je=Vc[de]&31;B+=hl[Se]+dl[je],++W[257+Se],++ce[je],I=ee+te,++Q}else V[he++]=t[ee],++W[t[ee]]}}for(ee=Math.max(ee,I);ee<s;++ee)V[he++]=t[ee],++W[t[ee]];v=Yc(t,c,h,V,W,ce,B,he,F,ee-F,v),h||(i.r=v&7|c[v/8|0]<<3,v-=7,i.h=C,i.p=L,i.i=ee,i.w=I)}else{for(var ee=i.w||0;ee<s+h;ee+=65535){var Fe=ee+65535;Fe>=s&&(c[v/8|0]=h,Fe=s),v=th(c,v+1,t.subarray(ee,Fe))}i.i=s}return eh(u,0,n+nc(v)+a)},nh=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var u=Math.min(s+2655,i);s<u;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Lp=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Sr(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return Sp(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},ih=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},kp=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=nh();a.p(e.dictionary),ih(t,2,a.d())}},Pp=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&kn(6,"invalid zlib data"),(t[1]>>5&1)==1&&kn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Ou(t,e){e||(e={});var r=nh();r.p(t);var n=Lp(t,e,e.dictionary?6:2,4);return kp(n,e),ih(n,n.length-4,r.d()),n}function Cp(t,e){return Ap(t.subarray(Pp(t),-4),{i:2},e,e)}var Ip=typeof TextDecoder<"u"&&new TextDecoder,Fp=0;try{Ip.decode(rh,{stream:!0}),Fp=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hu(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var It={log:hu,warn:function(t){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):hu.call(null,arguments))},error:function(t){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):hu(t))}};function du(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ji(n.response,e,r)},n.onerror=function(){It.error("could not download file")},n.send()}function Jc(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ds(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fo,qu,Ji=rt.saveAs||((typeof window>"u"?"undefined":Lt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=rt.URL||rt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Jc(a.href)?du(t,e,r):Ds(a,a.target="_blank"):Ds(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ds(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Jc(t))du(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ds(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Lt(i)!=="object"&&(It.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return du(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(rt.HTMLElement)||rt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Lt(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var v=u.result;v=s?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},u.readAsDataURL(t)}else{var c=rt.URL||rt.webkitURL,h=c.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ah(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pu(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=_r(r,n,a,i,e[0],7,-680876936),i=_r(i,r,n,a,e[1],12,-389564586),a=_r(a,i,r,n,e[2],17,606105819),n=_r(n,a,i,r,e[3],22,-1044525330),r=_r(r,n,a,i,e[4],7,-176418897),i=_r(i,r,n,a,e[5],12,1200080426),a=_r(a,i,r,n,e[6],17,-1473231341),n=_r(n,a,i,r,e[7],22,-45705983),r=_r(r,n,a,i,e[8],7,1770035416),i=_r(i,r,n,a,e[9],12,-1958414417),a=_r(a,i,r,n,e[10],17,-42063),n=_r(n,a,i,r,e[11],22,-1990404162),r=_r(r,n,a,i,e[12],7,1804603682),i=_r(i,r,n,a,e[13],12,-40341101),a=_r(a,i,r,n,e[14],17,-1502002290),r=xr(r,n=_r(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=xr(i,r,n,a,e[6],9,-1069501632),a=xr(a,i,r,n,e[11],14,643717713),n=xr(n,a,i,r,e[0],20,-373897302),r=xr(r,n,a,i,e[5],5,-701558691),i=xr(i,r,n,a,e[10],9,38016083),a=xr(a,i,r,n,e[15],14,-660478335),n=xr(n,a,i,r,e[4],20,-405537848),r=xr(r,n,a,i,e[9],5,568446438),i=xr(i,r,n,a,e[14],9,-1019803690),a=xr(a,i,r,n,e[3],14,-187363961),n=xr(n,a,i,r,e[8],20,1163531501),r=xr(r,n,a,i,e[13],5,-1444681467),i=xr(i,r,n,a,e[2],9,-51403784),a=xr(a,i,r,n,e[7],14,1735328473),r=Ar(r,n=xr(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Ar(i,r,n,a,e[8],11,-2022574463),a=Ar(a,i,r,n,e[11],16,1839030562),n=Ar(n,a,i,r,e[14],23,-35309556),r=Ar(r,n,a,i,e[1],4,-1530992060),i=Ar(i,r,n,a,e[4],11,1272893353),a=Ar(a,i,r,n,e[7],16,-155497632),n=Ar(n,a,i,r,e[10],23,-1094730640),r=Ar(r,n,a,i,e[13],4,681279174),i=Ar(i,r,n,a,e[0],11,-358537222),a=Ar(a,i,r,n,e[3],16,-722521979),n=Ar(n,a,i,r,e[6],23,76029189),r=Ar(r,n,a,i,e[9],4,-640364487),i=Ar(i,r,n,a,e[12],11,-421815835),a=Ar(a,i,r,n,e[15],16,530742520),r=Nr(r,n=Ar(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Nr(i,r,n,a,e[7],10,1126891415),a=Nr(a,i,r,n,e[14],15,-1416354905),n=Nr(n,a,i,r,e[5],21,-57434055),r=Nr(r,n,a,i,e[12],6,1700485571),i=Nr(i,r,n,a,e[3],10,-1894986606),a=Nr(a,i,r,n,e[10],15,-1051523),n=Nr(n,a,i,r,e[1],21,-2054922799),r=Nr(r,n,a,i,e[8],6,1873313359),i=Nr(i,r,n,a,e[15],10,-30611744),a=Nr(a,i,r,n,e[6],15,-1560198380),n=Nr(n,a,i,r,e[13],21,1309151649),r=Nr(r,n,a,i,e[4],6,-145523070),i=Nr(i,r,n,a,e[11],10,-1120210379),a=Nr(a,i,r,n,e[2],15,718787259),n=Nr(n,a,i,r,e[9],21,-343485551),t[0]=Pi(r,t[0]),t[1]=Pi(n,t[1]),t[2]=Pi(a,t[2]),t[3]=Pi(i,t[3])}function pl(t,e,r,n,a,i){return e=Pi(Pi(e,t),Pi(n,i)),Pi(e<<a|e>>>32-a,r)}function _r(t,e,r,n,a,i,s){return pl(e&r|~e&n,t,e,a,i,s)}function xr(t,e,r,n,a,i,s){return pl(e&n|r&~n,t,e,a,i,s)}function Ar(t,e,r,n,a,i,s){return pl(e^r^n,t,e,a,i,s)}function Nr(t,e,r,n,a,i,s){return pl(r^(e|~n),t,e,a,i,s)}function oh(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)pu(n,Ep(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(pu(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,pu(n,a),n}function Ep(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Fo=rt.atob.bind(rt),qu=rt.btoa.bind(rt);var $c="0123456789abcdef".split("");function jp(t){for(var e="",r=0;r<4;r++)e+=$c[t>>8*r+4&15]+$c[t>>8*r&15];return e}function Dp(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ru(t){return oh(t).map(Dp).join("")}var Op=function(t){for(var e=0;e<t.length;e++)t[e]=jp(t[e]);return t.join("")}(oh("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pi(t,e){if(Op){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bu(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var v=u[c];h=(h+v+s.charCodeAt(c))%256,u[c]=u[h],u[h]=v}r=t,n=u}else u=n;var g=e.length,y=0,p=0,S="";for(c=0;c<g;c++)p=(p+(v=u[y=(y+1)%256]))%256,u[y]=u[p],u[p]=v,s=u[(u[y]+u[p])%256],S+=String.fromCharCode(e.charCodeAt(c)^s);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xc={print:4,modify:8,copy:16,"annot-forms":32};function Da(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(u){if(Xc.perm!==void 0)throw new Error("Invalid permission: "+u);a+=Xc[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Ru(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bu(this.encryptionKey,this.padding)}function Oa(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Kc(t){if(Lt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(u){rt.console&&It.error("jsPDF PubSub Error",u.message,u)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zs(t){if(!(this instanceof Zs))return new Zs(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function sh(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xi(t,e,r,n,a){if(!(this instanceof Xi))return new Xi(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,sh.call(this,n,a)}function qa(t,e,r,n,a){if(!(this instanceof qa))return new qa(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,sh.call(this,n,a)}function tt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],u=1,c=16,h="S",v=null;Lt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(v=t.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=Kc;var S="1.3",L=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(f){S=f};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var _=p.__private__.getPageFormat=function(f){return C[f]};a=a||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},U=E.COMPAT;function V(){this.saveGraphicsState(),M(new Je(qe,0,0,-qe,0,ci()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),h="n",U=E.ADVANCED}function W(){this.restoreGraphicsState(),h="S",U=E.COMPAT}var ce=p.__private__.combineFontStyleAndFontWeight=function(f,w){if(f=="bold"&&w=="normal"||f=="bold"&&w==400||f=="normal"&&w=="italic"||f=="bold"&&w=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return w&&(f=w==400||w==="normal"?f==="italic"?"italic":"normal":w!=700&&w!=="bold"||f!=="normal"?(w==700?"bold":w)+""+f:"bold"),f};p.advancedAPI=function(f){var w=U===E.COMPAT;return w&&V.call(this),typeof f!="function"||(f(this),w&&W.call(this)),this},p.compatAPI=function(f){var w=U===E.ADVANCED;return w&&W.call(this),typeof f!="function"||(f(this),w&&V.call(this)),this},p.isAdvancedAPI=function(){return U===E.ADVANCED};var Q,B=function(f){if(U!==E.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=p.roundToPrecision=p.__private__.roundToPrecision=function(f,w){var R=e||w;if(isNaN(f)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(R).replace(/0+$/,"")};Q=p.hpf=p.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(f,16)};var he=p.f2=p.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ee(f,2)},I=p.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ee(f,3)},F=p.scale=p.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return U===E.COMPAT?f*qe:U===E.ADVANCED?f:void 0},z=function(f){return U===E.COMPAT?ci()-f:U===E.ADVANCED?f:void 0},T=function(f){return F(z(f))};p.__private__.setPrecision=p.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var oe,se="00000000000000000000000000000000",fe=p.__private__.getFileId=function(){return se},te=p.__private__.setFileId=function(f){return se=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(br=new Da(v.userPermissions,v.userPassword,v.ownerPassword,se)),se};p.setFileId=function(f){return te(f),this},p.getFileId=function(){return fe()};var de=p.__private__.convertDateToPDFDate=function(f){var w=f.getTimezoneOffset(),R=w<0?"+":"-",G=Math.floor(Math.abs(w/60)),ie=Math.abs(w%60),be=[R,q(G),"'",q(ie),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),be].join("")},ve=p.__private__.convertPDFDateToDate=function(f){var w=parseInt(f.substr(2,4),10),R=parseInt(f.substr(6,2),10)-1,G=parseInt(f.substr(8,2),10),ie=parseInt(f.substr(10,2),10),be=parseInt(f.substr(12,2),10),Pe=parseInt(f.substr(14,2),10);return new Date(w,R,G,ie,be,Pe,0)},Ee=p.__private__.setCreationDate=function(f){var w;if(f===void 0&&(f=new Date),f instanceof Date)w=de(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");w=f}return oe=w},x=p.__private__.getCreationDate=function(f){var w=oe;return f==="jsDate"&&(w=ve(oe)),w};p.setCreationDate=function(f){return Ee(f),this},p.getCreationDate=function(f){return x(f)};var j,q=p.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},H=p.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},X=0,Y=[],re=[],ne=0,Ce=[],Se=[],je=!1,Fe=re,We=function(){X=0,ne=0,re=[],Y=[],Ce=[],rn=Tt(),Gr=Tt()};p.__private__.setCustomOutputDestination=function(f){je=!0,Fe=f};var ge=function(f){je||(Fe=f)};p.__private__.resetCustomOutputDestination=function(){je=!1,Fe=re};var M=p.__private__.out=function(f){return f=f.toString(),ne+=f.length+1,Fe.push(f),Fe},Ye=p.__private__.write=function(f){return M(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Be=p.__private__.getArrayBuffer=function(f){for(var w=f.length,R=new ArrayBuffer(w),G=new Uint8Array(R);w--;)G[w]=f.charCodeAt(w);return R},ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ae};var pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(f){return pe=U===E.ADVANCED?f/qe:f,this};var _e,Ne=p.__private__.getFontSize=p.getFontSize=function(){return U===E.COMPAT?pe:pe*qe},De=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(f){return De=f,this},p.__private__.getR2L=p.getR2L=function(){return De};var Ue,Ke=p.__private__.setZoomMode=function(f){var w=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))_e=f;else if(isNaN(f)){if(w.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');_e=f}else _e=parseInt(f,10)};p.__private__.getZoomMode=function(){return _e};var Ze,at=p.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ue=f};p.__private__.getPageMode=function(){return Ue};var pt=p.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');Ze=f};p.__private__.getLayoutMode=function(){return Ze},p.__private__.setDisplayMode=p.setDisplayMode=function(f,w,R){return Ke(f),pt(w),at(R),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(f){if(Object.keys(Xe).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[f]},p.__private__.getDocumentProperties=function(){return Xe},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(f){for(var w in Xe)Xe.hasOwnProperty(w)&&f[w]&&(Xe[w]=f[w]);return this},p.__private__.setDocumentProperty=function(f,w){if(Object.keys(Xe).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[f]=w};var nt,qe,er,vt,hr,At={},dt={},zt=[],gt={},yn={},Dt={},dr={},Vr=null,Ot=0,Ge=[],et=new Kc(p),pr=t.hotfixes||[],Pt={},mr={},Dr=[],Je=function f(w,R,G,ie,be,Pe){if(!(this instanceof f))return new f(w,R,G,ie,be,Pe);isNaN(w)&&(w=1),isNaN(R)&&(R=0),isNaN(G)&&(G=0),isNaN(ie)&&(ie=1),isNaN(be)&&(be=0),isNaN(Pe)&&(Pe=0),this._matrix=[w,R,G,ie,be,Pe]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(f)},Je.prototype.multiply=function(f){var w=f.sx*this.sx+f.shy*this.shx,R=f.sx*this.shy+f.shy*this.sy,G=f.shx*this.sx+f.sy*this.shx,ie=f.shx*this.shy+f.sy*this.sy,be=f.tx*this.sx+f.ty*this.shx+this.tx,Pe=f.tx*this.shy+f.ty*this.sy+this.ty;return new Je(w,R,G,ie,be,Pe)},Je.prototype.decompose=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,be=this.ty,Pe=Math.sqrt(f*f+w*w),Te=(f/=Pe)*R+(w/=Pe)*G;R-=f*Te,G-=w*Te;var $e=Math.sqrt(R*R+G*G);return Te/=$e,f*(G/=$e)<w*(R/=$e)&&(f=-f,w=-w,Te=-Te,Pe=-Pe),{scale:new Je(Pe,0,0,$e,0,0),translate:new Je(1,0,0,1,ie,be),rotate:new Je(f,w,-w,f,0,0),skew:new Je(1,0,Te,1,0,0)}},Je.prototype.toString=function(f){return this.join(" ")},Je.prototype.inversed=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,be=this.ty,Pe=1/(f*G-w*R),Te=G*Pe,$e=-w*Pe,lt=-R*Pe,ot=f*Pe;return new Je(Te,$e,lt,ot,-Te*ie-lt*be,-$e*ie-ot*be)},Je.prototype.applyToPoint=function(f){var w=f.x*this.sx+f.y*this.shx+this.tx,R=f.x*this.shy+f.y*this.sy+this.ty;return new da(w,R)},Je.prototype.applyToRectangle=function(f){var w=this.applyToPoint(f),R=this.applyToPoint(new da(f.x+f.w,f.y+f.h));return new oo(w.x,w.y,R.x-w.x,R.y-w.y)},Je.prototype.clone=function(){var f=this.sx,w=this.shy,R=this.shx,G=this.sy,ie=this.tx,be=this.ty;return new Je(f,w,R,G,ie,be)},p.Matrix=Je;var yr=p.matrixMult=function(f,w){return w.multiply(f)},Lr=new Je(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Lr;var or=function(f,w){if(!yn[f]){var R=(w instanceof Xi?"Sh":"P")+(Object.keys(gt).length+1).toString(10);w.id=R,yn[f]=R,gt[R]=w,et.publish("addPattern",w)}};p.ShadingPattern=Xi,p.TilingPattern=qa,p.addShadingPattern=function(f,w){return B("addShadingPattern()"),or(f,w),this},p.beginTilingPattern=function(f){B("beginTilingPattern()"),os(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},p.endTilingPattern=function(f,w){B("endTilingPattern()"),w.stream=Se[j].join(`
`),or(f,w),et.publish("endTilingPattern",w),Dr.pop().restore()};var Ut=p.__private__.newObject=function(){var f=Tt();return sr(f,!0),f},Tt=p.__private__.newObjectDeferred=function(){return X++,Y[X]=function(){return ne},X},sr=function(f,w){return w=typeof w=="boolean"&&w,Y[f]=ne,w&&M(f+" 0 obj"),f},Or=p.__private__.newAdditionalObject=function(){var f={objId:Tt(),content:""};return Ce.push(f),f},rn=Tt(),Gr=Tt(),Yr=p.__private__.decodeColorString=function(f){var w=f.split(" ");if(w.length!==2||w[1]!=="g"&&w[1]!=="G")w.length===5&&(w[4]==="k"||w[4]==="K")&&(w=[(1-w[0])*(1-w[3]),(1-w[1])*(1-w[3]),(1-w[2])*(1-w[3]),"r"]);else{var R=parseFloat(w[0]);w=[R,R,R,"r"]}for(var G="#",ie=0;ie<3;ie++)G+=("0"+Math.floor(255*parseFloat(w[ie])).toString(16)).slice(-2);return G},bn=p.__private__.encodeColorString=function(f){var w;typeof f=="string"&&(f={ch1:f});var R=f.ch1,G=f.ch2,ie=f.ch3,be=f.ch4,Pe=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof R=="string"&&R.charAt(0)!=="#"){var Te=new ah(R);if(Te.ok)R=Te.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if(typeof R=="string"&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),typeof R=="string"&&/^#[0-9A-Fa-f]{6}$/.test(R)){var $e=parseInt(R.substr(1),16);R=$e>>16&255,G=$e>>8&255,ie=255&$e}if(G===void 0||be===void 0&&R===G&&G===ie)if(typeof R=="string")w=R+" "+Pe[0];else switch(f.precision){case 2:w=he(R/255)+" "+Pe[0];break;case 3:default:w=I(R/255)+" "+Pe[0]}else if(be===void 0||Lt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return w=["1.","1.","1.",Pe[1]].join(" ");if(typeof R=="string")w=[R,G,ie,Pe[1]].join(" ");else switch(f.precision){case 2:w=[he(R/255),he(G/255),he(ie/255),Pe[1]].join(" ");break;default:case 3:w=[I(R/255),I(G/255),I(ie/255),Pe[1]].join(" ")}}else if(typeof R=="string")w=[R,G,ie,be,Pe[2]].join(" ");else switch(f.precision){case 2:w=[he(R),he(G),he(ie),he(be),Pe[2]].join(" ");break;case 3:default:w=[I(R),I(G),I(ie),I(be),Pe[2]].join(" ")}return w},En=p.__private__.getFilters=function(){return s},nn=p.__private__.putStream=function(f){var w=(f=f||{}).data||"",R=f.filters||En(),G=f.alreadyAppliedFilters||[],ie=f.addLength1||!1,be=w.length,Pe=f.objectId,Te=function(wr){return wr};if(v!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(Te=br.encryptor(Pe,0));var $e={};R===!0&&(R=["FlateEncode"]);var lt=f.additionalKeyValues||[],ot=($e=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(w,R):{data:w,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if($e.data.length!==0&&(lt.push({key:"Length",value:$e.data.length}),ie===!0&&lt.push({key:"Length1",value:be})),ot.length!=0)if(ot.split("/").length-1==1)lt.push({key:"Filter",value:ot});else{lt.push({key:"Filter",value:"["+ot+"]"});for(var bt=0;bt<lt.length;bt+=1)if(lt[bt].key==="DecodeParms"){for(var Ht=[],Wt=0;Wt<$e.reverseChain.split("/").length-1;Wt+=1)Ht.push("null");Ht.push(lt[bt].value),lt[bt].value="["+Ht.join(" ")+"]"}}M("<<");for(var tr=0;tr<lt.length;tr++)M("/"+lt[tr].key+" "+lt[tr].value);M(">>"),$e.data.length!==0&&(M("stream"),M(Te($e.data)),M("endstream"))},jn=p.__private__.putPage=function(f){var w=f.number,R=f.data,G=f.objId,ie=f.contentsObjId;sr(G,!0),M("<</Type /Page"),M("/Parent "+f.rootDictionaryObjId+" 0 R"),M("/Resources "+f.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(Q(f.mediaBox.bottomLeftX))+" "+parseFloat(Q(f.mediaBox.bottomLeftY))+" "+Q(f.mediaBox.topRightX)+" "+Q(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&M("/CropBox ["+Q(f.cropBox.bottomLeftX)+" "+Q(f.cropBox.bottomLeftY)+" "+Q(f.cropBox.topRightX)+" "+Q(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&M("/BleedBox ["+Q(f.bleedBox.bottomLeftX)+" "+Q(f.bleedBox.bottomLeftY)+" "+Q(f.bleedBox.topRightX)+" "+Q(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&M("/TrimBox ["+Q(f.trimBox.bottomLeftX)+" "+Q(f.trimBox.bottomLeftY)+" "+Q(f.trimBox.topRightX)+" "+Q(f.trimBox.topRightY)+"]"),f.artBox!==null&&M("/ArtBox ["+Q(f.artBox.bottomLeftX)+" "+Q(f.artBox.bottomLeftY)+" "+Q(f.artBox.topRightX)+" "+Q(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&M("/UserUnit "+f.userUnit),et.publish("putPage",{objId:G,pageContext:Ge[w],pageNumber:w,page:R}),M("/Contents "+ie+" 0 R"),M(">>"),M("endobj");var be=R.join(`
`);return U===E.ADVANCED&&(be+=`
Q`),sr(ie,!0),nn({data:be,filters:En(),objectId:ie}),M("endobj"),G},Ri=p.__private__.putPages=function(){var f,w,R=[];for(f=1;f<=Ot;f++)Ge[f].objId=Tt(),Ge[f].contentsObjId=Tt();for(f=1;f<=Ot;f++)R.push(jn({number:f,data:Se[f],objId:Ge[f].objId,contentsObjId:Ge[f].contentsObjId,mediaBox:Ge[f].mediaBox,cropBox:Ge[f].cropBox,bleedBox:Ge[f].bleedBox,trimBox:Ge[f].trimBox,artBox:Ge[f].artBox,userUnit:Ge[f].userUnit,rootDictionaryObjId:rn,resourceDictionaryObjId:Gr}));sr(rn,!0),M("<</Type /Pages");var G="/Kids [";for(w=0;w<Ot;w++)G+=R[w]+" 0 R ";M(G+"]"),M("/Count "+Ot),M(">>"),M("endobj"),et.publish("postPutPages")},ta=function(f){et.publish("putFont",{font:f,out:M,newObject:Ut,putStream:nn}),f.isAlreadyPutted!==!0&&(f.objectNumber=Ut(),M("<<"),M("/Type /Font"),M("/BaseFont /"+Oa(f.postScriptName)),M("/Subtype /Type1"),typeof f.encoding=="string"&&M("/Encoding /"+f.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},ra=function(){for(var f in At)At.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&ta(At[f])},na=function(f){f.objectNumber=Ut();var w=[];w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Form"}),w.push({key:"BBox",value:"["+[Q(f.x),Q(f.y),Q(f.x+f.width),Q(f.y+f.height)].join(" ")+"]"}),w.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var R=f.pages[1].join(`
`);nn({data:R,additionalKeyValues:w,objectId:f.objectNumber}),M("endobj")},ia=function(){for(var f in Pt)Pt.hasOwnProperty(f)&&na(Pt[f])},Uo=function(f,w){var R,G=[],ie=1/(w-1);for(R=0;R<1;R+=ie)G.push(R);if(G.push(1),f[0].offset!=0){var be={offset:0,color:f[0].color};f.unshift(be)}if(f[f.length-1].offset!=1){var Pe={offset:1,color:f[f.length-1].color};f.push(Pe)}for(var Te="",$e=0,lt=0;lt<G.length;lt++){for(R=G[lt];R>f[$e+1].offset;)$e++;var ot=f[$e].offset,bt=(R-ot)/(f[$e+1].offset-ot),Ht=f[$e].color,Wt=f[$e+1].color;Te+=H(Math.round((1-bt)*Ht[0]+bt*Wt[0]).toString(16))+H(Math.round((1-bt)*Ht[1]+bt*Wt[1]).toString(16))+H(Math.round((1-bt)*Ht[2]+bt*Wt[2]).toString(16))}return Te.trim()},gl=function(f,w){w||(w=21);var R=Ut(),G=Uo(f.colors,w),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+w+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nn({data:G,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),M("endobj"),f.objectNumber=Ut(),M("<< /ShadingType "+f.type),M("/ColorSpace /DeviceRGB");var be="/Coords ["+Q(parseFloat(f.coords[0]))+" "+Q(parseFloat(f.coords[1]))+" ";f.type===2?be+=Q(parseFloat(f.coords[2]))+" "+Q(parseFloat(f.coords[3])):be+=Q(parseFloat(f.coords[2]))+" "+Q(parseFloat(f.coords[3]))+" "+Q(parseFloat(f.coords[4]))+" "+Q(parseFloat(f.coords[5])),M(be+="]"),f.matrix&&M("/Matrix ["+f.matrix.toString()+"]"),M("/Function "+R+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},ml=function(f,w){var R=Tt(),G=Ut();w.push({resourcesOid:R,objectOid:G}),f.objectNumber=G;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+f.boundingBox.map(Q).join(" ")+"]"}),ie.push({key:"XStep",value:Q(f.xStep)}),ie.push({key:"YStep",value:Q(f.yStep)}),ie.push({key:"Resources",value:R+" 0 R"}),f.matrix&&ie.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),nn({data:f.stream,additionalKeyValues:ie,objectId:f.objectNumber}),M("endobj")},aa=function(f){var w;for(w in gt)gt.hasOwnProperty(w)&&(gt[w]instanceof Xi?gl(gt[w]):gt[w]instanceof qa&&ml(gt[w],f))},Ho=function(f){for(var w in f.objectNumber=Ut(),M("<<"),f)switch(w){case"opacity":M("/ca "+he(f[w]));break;case"stroke-opacity":M("/CA "+he(f[w]))}M(">>"),M("endobj")},yl=function(){var f;for(f in Dt)Dt.hasOwnProperty(f)&&Ho(Dt[f])},Xa=function(){for(var f in M("/XObject <<"),Pt)Pt.hasOwnProperty(f)&&Pt[f].objectNumber>=0&&M("/"+f+" "+Pt[f].objectNumber+" 0 R");et.publish("putXobjectDict"),M(">>")},bl=function(){br.oid=Ut(),M("<<"),M("/Filter /Standard"),M("/V "+br.v),M("/R "+br.r),M("/U <"+br.toHexString(br.U)+">"),M("/O <"+br.toHexString(br.O)+">"),M("/P "+br.P),M(">>"),M("endobj")},Wo=function(){for(var f in M("/Font <<"),At)At.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&M("/"+f+" "+At[f].objectNumber+" 0 R");M(">>")},wl=function(){if(Object.keys(gt).length>0){for(var f in M("/Shading <<"),gt)gt.hasOwnProperty(f)&&gt[f]instanceof Xi&&gt[f].objectNumber>=0&&M("/"+f+" "+gt[f].objectNumber+" 0 R");et.publish("putShadingPatternDict"),M(">>")}},oa=function(f){if(Object.keys(gt).length>0){for(var w in M("/Pattern <<"),gt)gt.hasOwnProperty(w)&&gt[w]instanceof p.TilingPattern&&gt[w].objectNumber>=0&&gt[w].objectNumber<f&&M("/"+w+" "+gt[w].objectNumber+" 0 R");et.publish("putTilingPatternDict"),M(">>")}},_l=function(){if(Object.keys(Dt).length>0){var f;for(f in M("/ExtGState <<"),Dt)Dt.hasOwnProperty(f)&&Dt[f].objectNumber>=0&&M("/"+f+" "+Dt[f].objectNumber+" 0 R");et.publish("putGStateDict"),M(">>")}},Jt=function(f){sr(f.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wo(),wl(),oa(f.objectOid),_l(),Xa(),M(">>"),M("endobj")},Vo=function(){var f=[];ra(),yl(),ia(),aa(f),et.publish("putResources"),f.forEach(Jt),Jt({resourcesOid:Gr,objectOid:Number.MAX_SAFE_INTEGER}),et.publish("postPutResources")},Go=function(){et.publish("putAdditionalObjects");for(var f=0;f<Ce.length;f++){var w=Ce[f];sr(w.objId,!0),M(w.content),M("endobj")}et.publish("postPutAdditionalObjects")},Yo=function(f){dt[f.fontName]=dt[f.fontName]||{},dt[f.fontName][f.fontStyle]=f.id},Ka=function(f,w,R,G,ie){var be={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:f,fontName:w,fontStyle:R,encoding:G,isStandardFont:ie||!1,metadata:{}};return et.publish("addFont",{font:be,instance:this}),At[be.id]=be,Yo(be),be.id},xl=function(f){for(var w=0,R=ae.length;w<R;w++){var G=Ka.call(this,f[w][0],f[w][1],f[w][2],ae[w][3],!0);g===!1&&(y[G]=!0);var ie=f[w][0].split("-");Yo({id:G,fontName:ie[0],fontStyle:ie[1]||""})}et.publish("addFonts",{fonts:At,dictionary:dt})},wn=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(G){var w=G.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var R="Error in function "+w.split(`
`)[0].split("<")[0]+": "+G.message;if(!rt.console)throw new Error(R);rt.console.error(R,G),rt.alert&&alert(R)}},f.foo.bar=f,f.foo},sa=function(f,w){var R,G,ie,be,Pe,Te,$e,lt,ot;if(ie=(w=w||{}).sourceEncoding||"Unicode",Pe=w.outputEncoding,(w.autoencode||Pe)&&At[nt].metadata&&At[nt].metadata[ie]&&At[nt].metadata[ie].encoding&&(be=At[nt].metadata[ie].encoding,!Pe&&At[nt].encoding&&(Pe=At[nt].encoding),!Pe&&be.codePages&&(Pe=be.codePages[0]),typeof Pe=="string"&&(Pe=be[Pe]),Pe)){for($e=!1,Te=[],R=0,G=f.length;R<G;R++)(lt=Pe[f.charCodeAt(R)])?Te.push(String.fromCharCode(lt)):Te.push(f[R]),Te[R].charCodeAt(0)>>8&&($e=!0);f=Te.join("")}for(R=f.length;$e===void 0&&R!==0;)f.charCodeAt(R-1)>>8&&($e=!0),R--;if(!$e)return f;for(Te=w.noBOM?[]:[254,255],R=0,G=f.length;R<G;R++){if((ot=(lt=f.charCodeAt(R))>>8)>>8)throw new Error("Character at position "+R+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Te.push(ot),Te.push(lt-(ot<<8))}return String.fromCharCode.apply(void 0,Te)},qr=p.__private__.pdfEscape=p.pdfEscape=function(f,w){return sa(f,w).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qa=p.__private__.beginPage=function(f){Se[++Ot]=[],Ge[Ot]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},$o(Ot),ge(Se[j])},Jo=function(f,w){var R,G,ie;switch(r=w||r,typeof f=="string"&&(R=_(f.toLowerCase()),Array.isArray(R)&&(G=R[0],ie=R[1])),Array.isArray(f)&&(G=f[0]*qe,ie=f[1]*qe),isNaN(G)&&(G=a[0],ie=a[1]),(G>14400||ie>14400)&&(It.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),ie=Math.min(14400,ie)),a=[G,ie],r.substr(0,1)){case"l":ie>G&&(a=[ie,G]);break;case"p":G>ie&&(a=[ie,G])}Qa(a),ts(ro),M(_n),io!==0&&M(io+" J"),ao!==0&&M(ao+" j"),et.publish("addPage",{pageNumber:Ot})},Al=function(f){f>0&&f<=Ot&&(Se.splice(f,1),Ge.splice(f,1),Ot--,j>Ot&&(j=Ot),this.setPage(j))},$o=function(f){f>0&&f<=Ot&&(j=f)},Nl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},Xo=function(f,w,R){var G,ie=void 0;return R=R||{},f=f!==void 0?f:At[nt].fontName,w=w!==void 0?w:At[nt].fontStyle,G=f.toLowerCase(),dt[G]!==void 0&&dt[G][w]!==void 0?ie=dt[G][w]:dt[f]!==void 0&&dt[f][w]!==void 0?ie=dt[f][w]:R.disableWarning===!1&&It.warn("Unable to look up font label for font '"+f+"', '"+w+"'. Refer to getFontList() for available fonts."),ie||R.noFallback||(ie=dt.times[w])==null&&(ie=dt.times.normal),ie},Sl=p.__private__.putInfo=function(){var f=Ut(),w=function(G){return G};for(var R in v!==null&&(w=br.encryptor(f,0)),M("<<"),M("/Producer ("+qr(w("jsPDF "+tt.version))+")"),Xe)Xe.hasOwnProperty(R)&&Xe[R]&&M("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+qr(w(Xe[R]))+")");M("/CreationDate ("+qr(w(oe))+")"),M(">>"),M("endobj")},Za=p.__private__.putCatalog=function(f){var w=(f=f||{}).rootDictionaryObjId||rn;switch(Ut(),M("<<"),M("/Type /Catalog"),M("/Pages "+w+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+_e;R.substr(R.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&M("/OpenAction [3 0 R /XYZ null null "+he(_e)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}Ue&&M("/PageMode /"+Ue),et.publish("putCatalog"),M(">>"),M("endobj")},Ll=p.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(X+1)),M("/Root "+X+" 0 R"),M("/Info "+(X-1)+" 0 R"),v!==null&&M("/Encrypt "+br.oid+" 0 R"),M("/ID [ <"+se+"> <"+se+"> ]"),M(">>")},kl=p.__private__.putHeader=function(){M("%PDF-"+S),M("%ºß¬à")},Pl=p.__private__.putXRef=function(){var f="0000000000";M("xref"),M("0 "+(X+1)),M("0000000000 65535 f ");for(var w=1;w<=X;w++)typeof Y[w]=="function"?M((f+Y[w]()).slice(-10)+" 00000 n "):Y[w]!==void 0?M((f+Y[w]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},Yn=p.__private__.buildDocument=function(){We(),ge(re),et.publish("buildDocument"),kl(),Ri(),Go(),Vo(),v!==null&&bl(),Sl(),Za();var f=ne;return Pl(),Ll(),M("startxref"),M(""+f),M("%%EOF"),ge(Se[j]),re.join(`
`)},la=p.__private__.getBlob=function(f){return new Blob([Be(f)],{type:"application/pdf"})},ua=p.output=p.__private__.output=wn(function(f,w){switch(typeof(w=w||{})=="string"?w={filename:w}:w.filename=w.filename||"generated.pdf",f){case void 0:return Yn();case"save":p.save(w.filename);break;case"arraybuffer":return Be(Yn());case"blob":return la(Yn());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(la(Yn()))||void 0;It.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",G=Yn();try{R=qu(G)}catch{R=qu(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+w.filename+";base64,"+R;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';w.pdfObjectUrl&&(ie=w.pdfObjectUrl,be="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(w)+");<\/script></body></html>",Te=rt.open();return Te!==null&&Te.document.write(Pe),Te}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(w.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+w.filename+'" width="500px" height="400px" /></body></html>',lt=rt.open();if(lt!==null){lt.document.write($e);var ot=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=w.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ot.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",w)+'"></iframe></body></html>',Ht=rt.open();if(Ht!==null&&(Ht.document.write(bt),Ht.document.title=w.filename),Ht||typeof safari>"u")return Ht;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",w);default:return null}}),Ko=function(f){return Array.isArray(pr)===!0&&pr.indexOf(f)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=Ko("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var br=null;Ee(),te();var Cl=function(f){return v!==null?br.encryptor(f,0):function(w){return w}},Qo=p.__private__.getPageInfo=p.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ge[f].objId,pageNumber:f,pageContext:Ge[f]}},it=p.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var w in Ge)if(Ge[w].objId===f)break;return Qo(w)},Il=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ge[j].objId,pageNumber:j,pageContext:Ge[j]}};p.addPage=function(){return Jo.apply(this,arguments),this},p.setPage=function(){return $o.apply(this,arguments),ge.call(this,Se[j]),this},p.insertPage=function(f){return this.addPage(),this.movePage(j,f),this},p.movePage=function(f,w){var R,G;if(f>w){R=Se[f],G=Ge[f];for(var ie=f;ie>w;ie--)Se[ie]=Se[ie-1],Ge[ie]=Ge[ie-1];Se[w]=R,Ge[w]=G,this.setPage(w)}else if(f<w){R=Se[f],G=Ge[f];for(var be=f;be<w;be++)Se[be]=Se[be+1],Ge[be]=Ge[be+1];Se[w]=R,Ge[w]=G,this.setPage(w)}return this},p.deletePage=function(){return Al.apply(this,arguments),this},p.__private__.text=p.text=function(f,w,R,G,ie){var be,Pe,Te,$e,lt,ot,bt,Ht,Wt,tr=(G=G||{}).scope||this;if(typeof f=="number"&&typeof w=="number"&&(typeof R=="string"||Array.isArray(R))){var wr=R;R=w,w=f,f=wr}if(arguments[3]instanceof Je?(B("The transform parameter of text() with a Matrix value"),Wt=ie):(Te=arguments[4],$e=arguments[5],Lt(bt=arguments[3])==="object"&&bt!==null||(typeof Te=="string"&&($e=Te,Te=null),typeof bt=="string"&&($e=bt,bt=null),typeof bt=="number"&&(Te=bt,bt=null),G={flags:bt,angle:Te,align:$e})),isNaN(w)||isNaN(R)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return tr;var lr="",xn=!1,Jr=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:Ti,qn=tr.internal.scaleFactor;function ss(qt){return qt=qt.split("	").join(Array(G.TabLen||9).join(" ")),qr(qt,bt)}function co(qt){for(var Rt,Xt=qt.concat(),ar=[],Qn=Xt.length;Qn--;)typeof(Rt=Xt.shift())=="string"?ar.push(Rt):Array.isArray(qt)&&(Rt.length===1||Rt[1]===void 0&&Rt[2]===void 0)?ar.push(Rt[0]):ar.push([Rt[0],Rt[1],Rt[2]]);return ar}function fo(qt,Rt){var Xt;if(typeof qt=="string")Xt=Rt(qt)[0];else if(Array.isArray(qt)){for(var ar,Qn,wo=qt.concat(),Na=[],hs=wo.length;hs--;)typeof(ar=wo.shift())=="string"?Na.push(Rt(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(Qn=Rt(ar[0],ar[1],ar[2]),Na.push([Qn[0],Qn[1],Qn[2]]));Xt=Na}return Xt}var va=!1,ho=!0;if(typeof f=="string")va=!0;else if(Array.isArray(f)){var po=f.concat();Pe=[];for(var ga,vr=po.length;vr--;)(typeof(ga=po.shift())!="string"||Array.isArray(ga)&&typeof ga[0]!="string")&&(ho=!1);va=ho}if(va===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var ma=pe/tr.internal.scaleFactor,ya=ma*(Jr-1);switch(G.baseline){case"bottom":R-=ya;break;case"top":R+=ma-ya;break;case"hanging":R+=ma-2*ya;break;case"middle":R+=ma/2-ya}if((ot=G.maxWidth||0)>0&&(typeof f=="string"?f=tr.splitTextToSize(f,ot):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(qt,Rt){return qt.concat(tr.splitTextToSize(Rt,ot))},[]))),be={text:f,x:w,y:R,options:G,mutex:{pdfEscape:qr,activeFontKey:nt,fonts:At,activeFontSize:pe}},et.publish("preProcessText",be),f=be.text,Te=(G=be.options).angle,!(Wt instanceof Je)&&Te&&typeof Te=="number"){Te*=Math.PI/180,G.rotationDirection===0&&(Te=-Te),U===E.ADVANCED&&(Te=-Te);var ba=Math.cos(Te),vo=Math.sin(Te);Wt=new Je(ba,vo,-vo,ba,0,0)}else Te&&Te instanceof Je&&(Wt=Te);U!==E.ADVANCED||Wt||(Wt=Lr),(lt=G.charSpace||ha)!==void 0&&(lr+=Q(F(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ht=G.horizontalScale)!==void 0&&(lr+=Q(100*Ht)+` Tz
`),G.lang;var Rr=-1,Ml=G.renderingMode!==void 0?G.renderingMode:G.stroke,go=tr.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":Rr=0;break;case 1:case!0:case"stroke":Rr=1;break;case 2:case"fillThenStroke":Rr=2;break;case 3:case"invisible":Rr=3;break;case 4:case"fillAndAddForClipping":Rr=4;break;case 5:case"strokeAndAddPathForClipping":Rr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rr=6;break;case 7:case"addToPathForClipping":Rr=7}var ls=go.usedRenderingMode!==void 0?go.usedRenderingMode:-1;Rr!==-1?lr+=Rr+` Tr
`:ls!==-1&&(lr+=`0 Tr
`),Rr!==-1&&(go.usedRenderingMode=Rr),$e=G.align||"left";var an,wa=pe*Jr,us=tr.internal.pageSize.getWidth(),cs=At[nt];lt=G.charSpace||ha,ot=G.maxWidth||0,bt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var fi=[],Ui=function(qt){return tr.getStringUnitWidth(qt,{font:cs,charSpace:lt,fontSize:pe,doKerning:!1})*pe/qn};if(Object.prototype.toString.call(f)==="[object Array]"){var Br;Pe=co(f),$e!=="left"&&(an=Pe.map(Ui));var kr,hi=0;if($e==="right"){w-=an[0],f=[],vr=Pe.length;for(var $n=0;$n<vr;$n++)$n===0?(kr=On(w),Br=Jn(R)):(kr=F(hi-an[$n]),Br=-wa),f.push([Pe[$n],kr,Br]),hi=an[$n]}else if($e==="center"){w-=an[0]/2,f=[],vr=Pe.length;for(var Xn=0;Xn<vr;Xn++)Xn===0?(kr=On(w),Br=Jn(R)):(kr=F((hi-an[Xn])/2),Br=-wa),f.push([Pe[Xn],kr,Br]),hi=an[Xn]}else if($e==="left"){f=[],vr=Pe.length;for(var _a=0;_a<vr;_a++)f.push(Pe[_a])}else if($e==="justify"&&cs.encoding==="Identity-H"){f=[],vr=Pe.length,ot=ot!==0?ot:us;for(var Kn=0,$t=0;$t<vr;$t++)if(Br=$t===0?Jn(R):-wa,kr=$t===0?On(w):Kn,$t<vr-1){var mo=F((ot-an[$t])/(Pe[$t].split(" ").length-1)),Pr=Pe[$t].split(" ");f.push([Pr[0]+" ",kr,Br]),Kn=0;for(var on=1;on<Pr.length;on++){var xa=(Ui(Pr[on-1]+" "+Pr[on])-Ui(Pr[on]))*qn+mo;on==Pr.length-1?f.push([Pr[on],xa,0]):f.push([Pr[on]+" ",xa,0]),Kn-=xa}}else f.push([Pe[$t],kr,Br]);f.push(["",Kn,0])}else{if($e!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],vr=Pe.length,ot=ot!==0?ot:us,$t=0;$t<vr;$t++)Br=$t===0?Jn(R):-wa,kr=$t===0?On(w):0,$t<vr-1?fi.push(Q(F((ot-an[$t])/(Pe[$t].split(" ").length-1)))):fi.push(0),f.push([Pe[$t],kr,Br])}}var fs=typeof G.R2L=="boolean"?G.R2L:De;fs===!0&&(f=fo(f,function(qt,Rt,Xt){return[qt.split("").reverse().join(""),Rt,Xt]})),be={text:f,x:w,y:R,options:G,mutex:{pdfEscape:qr,activeFontKey:nt,fonts:At,activeFontSize:pe}},et.publish("postProcessText",be),f=be.text,xn=be.mutex.isHex||!1;var yo=At[nt].encoding;yo!=="WinAnsiEncoding"&&yo!=="StandardEncoding"||(f=fo(f,function(qt,Rt,Xt){return[ss(qt),Rt,Xt]})),Pe=co(f),f=[];for(var Hi,Wi,di,Vi=0,Aa=1,Gi=Array.isArray(Pe[0])?Aa:Vi,pi="",bo=function(qt,Rt,Xt){var ar="";return Xt instanceof Je?(Xt=typeof G.angle=="number"?yr(Xt,new Je(1,0,0,1,qt,Rt)):yr(new Je(1,0,0,1,qt,Rt),Xt),U===E.ADVANCED&&(Xt=yr(new Je(1,0,0,-1,0,0),Xt)),ar=Xt.join(" ")+` Tm
`):ar=Q(qt)+" "+Q(Rt)+` Td
`,ar},sn=0;sn<Pe.length;sn++){switch(pi="",Gi){case Aa:di=(xn?"<":"(")+Pe[sn][0]+(xn?">":")"),Hi=parseFloat(Pe[sn][1]),Wi=parseFloat(Pe[sn][2]);break;case Vi:di=(xn?"<":"(")+Pe[sn]+(xn?">":")"),Hi=On(w),Wi=Jn(R)}fi!==void 0&&fi[sn]!==void 0&&(pi=fi[sn]+` Tw
`),sn===0?f.push(pi+bo(Hi,Wi,Wt)+di):Gi===Vi?f.push(pi+di):Gi===Aa&&f.push(pi+bo(Hi,Wi,Wt)+di)}f=Gi===Vi?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var ln=`BT
/`;return ln+=nt+" "+pe+` Tf
`,ln+=Q(pe*Jr)+` TL
`,ln+=Mi+`
`,ln+=lr,ln+=f,M(ln+="ET"),y[nt]=!0,tr};var Fl=p.__private__.clip=p.clip=function(f){return M(f==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Fl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return M("n"),this};var Dn=p.__private__.isValidStyle=function(f){var w=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(w=!0),w};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(f){return Dn(f)&&(h=f),this};var Zo=p.__private__.getStyle=p.getStyle=function(f){var w=h;switch(f){case"D":case"S":w="S";break;case"F":w="f";break;case"FD":case"DF":w="B";break;case"f":case"f*":case"B":case"B*":w=f}return w},es=p.close=function(){return M("h"),this};p.stroke=function(){return M("S"),this},p.fill=function(f){return ca("f",f),this},p.fillEvenOdd=function(f){return ca("f*",f),this},p.fillStroke=function(f){return ca("B",f),this},p.fillStrokeEvenOdd=function(f){return ca("B*",f),this};var ca=function(f,w){Lt(w)==="object"?jl(w,f):M(f)},eo=function(f){f===null||U===E.ADVANCED&&f===void 0||(f=Zo(f),M(f))};function El(f,w,R,G,ie){var be=new qa(w||this.boundingBox,R||this.xStep,G||this.yStep,this.gState,ie||this.matrix);be.stream=this.stream;var Pe=f+"$$"+this.cloneIndex+++"$$";return or(Pe,be),be}var jl=function(f,w){var R=yn[f.key],G=gt[R];if(G instanceof Xi)M("q"),M(Dl(w)),G.gState&&p.setGState(G.gState),M(f.matrix.toString()+" cm"),M("/"+R+" sh"),M("Q");else if(G instanceof qa){var ie=new Je(1,0,0,-1,0,ci());f.matrix&&(ie=ie.multiply(f.matrix||Lr),R=El.call(G,f.key,f.boundingBox,f.xStep,f.yStep,ie).id),M("q"),M("/Pattern cs"),M("/"+R+" scn"),G.gState&&p.setGState(G.gState),M(w),M("Q")}},Dl=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},to=p.moveTo=function(f,w){return M(Q(F(f))+" "+Q(T(w))+" m"),this},Bi=p.lineTo=function(f,w){return M(Q(F(f))+" "+Q(T(w))+" l"),this},li=p.curveTo=function(f,w,R,G,ie,be){return M([Q(F(f)),Q(T(w)),Q(F(R)),Q(T(G)),Q(F(ie)),Q(T(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!Dn(ie))throw new Error("Invalid arguments passed to jsPDF.line");return U===E.COMPAT?this.lines([[R-f,G-w]],f,w,[1,1],ie||"S"):this.lines([[R-f,G-w]],f,w,[1,1]).stroke()},p.__private__.lines=p.lines=function(f,w,R,G,ie,be){var Pe,Te,$e,lt,ot,bt,Ht,Wt,tr,wr,lr,xn;if(typeof f=="number"&&(xn=R,R=w,w=f,f=xn),G=G||[1,1],be=be||!1,isNaN(w)||isNaN(R)||!Array.isArray(f)||!Array.isArray(G)||!Dn(ie)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(to(w,R),Pe=G[0],Te=G[1],lt=f.length,wr=w,lr=R,$e=0;$e<lt;$e++)(ot=f[$e]).length===2?(wr=ot[0]*Pe+wr,lr=ot[1]*Te+lr,Bi(wr,lr)):(bt=ot[0]*Pe+wr,Ht=ot[1]*Te+lr,Wt=ot[2]*Pe+wr,tr=ot[3]*Te+lr,wr=ot[4]*Pe+wr,lr=ot[5]*Te+lr,li(bt,Ht,Wt,tr,wr,lr));return be&&es(),eo(ie),this},p.path=function(f){for(var w=0;w<f.length;w++){var R=f[w],G=R.c;switch(R.op){case"m":to(G[0],G[1]);break;case"l":Bi(G[0],G[1]);break;case"c":li.apply(this,G);break;case"h":es()}}return this},p.__private__.rect=p.rect=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!Dn(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return U===E.COMPAT&&(G=-G),M([Q(F(f)),Q(T(w)),Q(F(R)),Q(F(G)),"re"].join(" ")),eo(ie),this},p.__private__.triangle=p.triangle=function(f,w,R,G,ie,be,Pe){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||isNaN(ie)||isNaN(be)||!Dn(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-f,G-w],[ie-R,be-G],[f-ie,w-be]],f,w,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(f,w,R,G,ie,be,Pe){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||isNaN(ie)||isNaN(be)||!Dn(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Te=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*R),be=Math.min(be,.5*G),this.lines([[R-2*ie,0],[ie*Te,0,ie,be-be*Te,ie,be],[0,G-2*be],[0,be*Te,-ie*Te,be,-ie,be],[2*ie-R,0],[-ie*Te,0,-ie,-be*Te,-ie,-be],[0,2*be-G],[0,-be*Te,ie*Te,-be,ie,-be]],f+ie,w,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(f,w,R,G,ie){if(isNaN(f)||isNaN(w)||isNaN(R)||isNaN(G)||!Dn(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*R,Pe=4/3*(Math.SQRT2-1)*G;return to(f+R,w),li(f+R,w-Pe,f+be,w-G,f,w-G),li(f-be,w-G,f-R,w-Pe,f-R,w),li(f-R,w+Pe,f-be,w+G,f,w+G),li(f+be,w+G,f+R,w+Pe,f+R,w),eo(ie),this},p.__private__.circle=p.circle=function(f,w,R,G){if(isNaN(f)||isNaN(w)||isNaN(R)||!Dn(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,w,R,R,G)},p.setFont=function(f,w,R){return R&&(w=ce(w,R)),nt=Xo(f,w,{disableWarning:!1}),this};var Ol=p.__private__.getFont=p.getFont=function(){return At[Xo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var f,w,R={};for(f in dt)if(dt.hasOwnProperty(f))for(w in R[f]=[],dt[f])dt[f].hasOwnProperty(w)&&R[f].push(w);return R},p.addFont=function(f,w,R,G,ie){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(R=ce(R,G)),ie=ie||"Identity-H",Ka.call(this,f,w,R,ie)};var Ti,ro=t.lineWidth||.200025,fa=p.__private__.getLineWidth=p.getLineWidth=function(){return ro},ts=p.__private__.setLineWidth=p.setLineWidth=function(f){return ro=f,M(Q(F(f))+" w"),this};p.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(f,w){if(f=f||[],w=w||0,isNaN(w)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(R){return Q(F(R))}).join(" "),w=Q(F(w)),M("["+f+"] "+w+" d"),this};var rs=p.__private__.getLineHeight=p.getLineHeight=function(){return pe*Ti};p.__private__.getLineHeight=p.getLineHeight=function(){return pe*Ti};var ns=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(Ti=f),this},is=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ti};ns(t.lineHeight);var On=p.__private__.getHorizontalCoordinate=function(f){return F(f)},Jn=p.__private__.getVerticalCoordinate=function(f){return U===E.ADVANCED?f:Ge[j].mediaBox.topRightY-Ge[j].mediaBox.bottomLeftY-F(f)},ql=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(f){return Q(On(f))},ui=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(f){return Q(Jn(f))},_n=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Yr(_n)},p.__private__.setStrokeColor=p.setDrawColor=function(f,w,R,G){return _n=bn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"draw",precision:2}),M(_n),this};var no=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Yr(no)},p.__private__.setFillColor=p.setFillColor=function(f,w,R,G){return no=bn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"fill",precision:2}),M(no),this};var Mi=t.textColor||"0 g",Rl=p.__private__.getTextColor=p.getTextColor=function(){return Yr(Mi)};p.__private__.setTextColor=p.setTextColor=function(f,w,R,G){return Mi=bn({ch1:f,ch2:w,ch3:R,ch4:G,pdfColorType:"text",precision:3}),this};var ha=t.charSpace,Bl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ha||0)};p.__private__.setCharSpace=p.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=f,this};var io=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return io=w,M(w+" J"),this};var ao=0;p.__private__.setLineJoin=p.setLineJoin=function(f){var w=p.CapJoinStyles[f];if(w===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ao=w,M(w+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(Q(F(f))+" M"),this},p.GState=Zs,p.setGState=function(f){(f=typeof f=="string"?Dt[dr[f]]:as(null,f)).equals(Vr)||(M("/"+f.id+" gs"),Vr=f)};var as=function(f,w){if(!f||!dr[f]){var R=!1;for(var G in Dt)if(Dt.hasOwnProperty(G)&&Dt[G].equals(w)){R=!0;break}if(R)w=Dt[G];else{var ie="GS"+(Object.keys(Dt).length+1).toString(10);Dt[ie]=w,w.id=ie}return f&&(dr[f]=w.id),et.publish("addGState",w),w}};p.addGState=function(f,w){return as(f,w),this},p.saveGraphicsState=function(){return M("q"),zt.push({key:nt,size:pe,color:Mi}),this},p.restoreGraphicsState=function(){M("Q");var f=zt.pop();return nt=f.key,pe=f.size,Mi=f.color,Vr=null,this},p.setCurrentTransformationMatrix=function(f){return M(f.toString()+" cm"),this},p.comment=function(f){return M("#"+f),this};var da=function(f,w){var R=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(be){isNaN(be)||(R=parseFloat(be))}});var G=w||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(be){isNaN(be)||(G=parseFloat(be))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(be){ie=be.toString()}}),this},oo=function(f,w,R,G){da.call(this,f,w),this.type="rect";var ie=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(Pe){isNaN(Pe)||(ie=parseFloat(Pe))}});var be=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Pe){isNaN(Pe)||(be=parseFloat(Pe))}}),this},so=function(){this.page=Ot,this.currentPage=j,this.pages=Se.slice(0),this.pagesContext=Ge.slice(0),this.x=er,this.y=vt,this.matrix=hr,this.width=zi(j),this.height=ci(j),this.outputDestination=Fe,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Ot=this.page,j=this.currentPage,Ge=this.pagesContext,Se=this.pages,er=this.x,vt=this.y,hr=this.matrix,lo(j,this.width),uo(j,this.height),Fe=this.outputDestination};var os=function(f,w,R,G,ie){Dr.push(new so),Ot=j=0,Se=[],er=f,vt=w,hr=ie,Qa([R,G])},Tl=function(f){if(mr[f])Dr.pop().restore();else{var w=new so,R="Xo"+(Object.keys(Pt).length+1).toString(10);w.id=R,mr[f]=R,Pt[R]=w,et.publish("addFormObject",w),Dr.pop().restore()}};for(var pa in p.beginFormObject=function(f,w,R,G,ie){return os(f,w,R,G,ie),this},p.endFormObject=function(f){return Tl(f),this},p.doFormObject=function(f,w){var R=Pt[mr[f]];return M("q"),M(w.toString()+" cm"),M("/"+R.id+" Do"),M("Q"),this},p.getFormObject=function(f){var w=Pt[mr[f]];return{x:w.x,y:w.y,width:w.width,height:w.height,matrix:w.matrix}},p.save=function(f,w){return f=f||"generated.pdf",(w=w||{}).returnPromise=w.returnPromise||!1,w.returnPromise===!1?(Ji(la(Yn()),f),typeof Ji.unload=="function"&&rt.setTimeout&&setTimeout(Ji.unload,911),this):new Promise(function(R,G){try{var ie=Ji(la(Yn()),f);typeof Ji.unload=="function"&&rt.setTimeout&&setTimeout(Ji.unload,911),R(ie)}catch(be){G(be.message)}})},tt.API)tt.API.hasOwnProperty(pa)&&(pa==="events"&&tt.API.events.length?function(f,w){var R,G,ie;for(ie=w.length-1;ie!==-1;ie--)R=w[ie][0],G=w[ie][1],f.subscribe.apply(f,[R].concat(typeof G=="function"?[G]:G))}(et,tt.API.events):p[pa]=tt.API[pa]);var zi=p.getPageWidth=function(f){return(Ge[f=f||j].mediaBox.topRightX-Ge[f].mediaBox.bottomLeftX)/qe},lo=p.setPageWidth=function(f,w){Ge[f].mediaBox.topRightX=w*qe+Ge[f].mediaBox.bottomLeftX},ci=p.getPageHeight=function(f){return(Ge[f=f||j].mediaBox.topRightY-Ge[f].mediaBox.bottomLeftY)/qe},uo=p.setPageHeight=function(f,w){Ge[f].mediaBox.topRightY=w*qe+Ge[f].mediaBox.bottomLeftY};return p.internal={pdfEscape:qr,getStyle:Zo,getFont:Ol,getFontSize:Ne,getCharSpace:Bl,getTextColor:Rl,getLineHeight:rs,getLineHeightFactor:is,getLineWidth:fa,write:Ye,getHorizontalCoordinate:On,getVerticalCoordinate:Jn,getCoordinateString:ql,getVerticalCoordinateString:ui,collections:{},newObject:Ut,newAdditionalObject:Or,newObjectDeferred:Tt,newObjectDeferredBegin:sr,getFilters:En,putStream:nn,events:et,scaleFactor:qe,pageSize:{getWidth:function(){return zi(j)},setWidth:function(f){lo(j,f)},getHeight:function(){return ci(j)},setHeight:function(f){uo(j,f)}},encryptionOptions:v,encryption:br,getEncryptor:Cl,output:ua,getNumberOfPages:Nl,pages:Se,out:M,f2:he,f3:I,getPageInfo:Qo,getPageInfoByObjId:it,getCurrentPageInfo:Il,getPDFVersion:L,Point:da,Rectangle:oo,Matrix:Je,hasHotfix:Ko},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zi(j)},set:function(f){lo(j,f)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ci(j)},set:function(f){uo(j,f)},enumerable:!0,configurable:!0}),xl.call(p,ae),nt="F1",Jo(a,r),et.publish("initialized"),p}Da.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Da.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Da.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Da.prototype.processOwnerPassword=function(t,e){return Bu(Ru(e).substr(0,5),t)},Da.prototype.encryptor=function(t,e){var r=Ru(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Bu(r,n)}},Zs.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Lt(t)!==Lt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.1";var Gt=tt.API,ic=1,ea=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ea=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},st=function(t){return t.toFixed(2)},Ni=function(t){return t.toFixed(5)};Gt.__acroform__={};var Wr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Qc=function(t){return t*ic},Bn=function(t){var e=new uh,r=He.internal.getHeight(t)||0,n=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(st(n)),Number(st(r))],e},qp=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Rp=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Bp=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Kt=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bp(t,e-1)},Qt=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qp(t,e-1)},Zt=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rp(t,e-1)},Tp=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],u=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+u)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(st(c.lowerLeft_X)),Number(st(c.lowerLeft_Y)),Number(st(c.upperRight_X)),Number(st(c.upperRight_Y))]},Mp=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Tu(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+st(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bn(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Tu=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,s=He.internal.getHeight(t)||0;s=s<0?-s:s;var u=He.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(I,F,z){if(I+1<a.length){var T=F+" "+a[I+1][0];return Os(T,t,z).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var h,v,g=Os("3",t,i).height,y=t.multiline?s-i:(s-g)/2,p=y+=2,S=0,L=0,C=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Os(e,t,i=12).width+", FieldWidth:"+u+`
`;break}for(var _="",E=0,U=0;U<a.length;U++)if(a.hasOwnProperty(U)){var V=!1;if(a[U].length!==1&&C!==a[U].length-1){if((g+2)*(E+2)+2>s)continue e;_+=a[U][C],V=!0,L=U,U--}else{_=(_+=a[U][C]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var W=parseInt(U),ce=c(W,_,i),Q=U>=a.length-1;if(ce&&!Q){_+=" ",C=0;continue}if(ce||Q){if(Q)L=W;else if(t.multiline&&(g+2)*(E+2)+2>s)continue e}else{if(!t.multiline||(g+2)*(E+2)+2>s)continue e;L=W}}for(var B="",ee=S;ee<=L;ee++){var he=a[ee];if(t.multiline){if(ee===L){B+=he[C]+" ",C=(C+1)%he.length;continue}if(ee===S){B+=he[he.length-1]+" ";continue}}B+=he[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,v=Os(B,t,i).width,t.textAlign){case"right":h=u-v-2;break;case"center":h=(u-v)/2;break;case"left":default:h=2}e+=st(h)+" "+st(p)+` Td
`,e+="("+ea(B)+`) Tj
`,e+=-st(h)+` 0 Td
`,p=-(i+2),v=0,S=V?L:L+1,E++,_=""}break}return n.text=e,n.fontSize=i,n},Os=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},zp={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Up=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Hp=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Lt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},Wp=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(In.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(zp)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ic=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ch,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Up(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var u=n[s],c=[],h=u.Rect;if(u.Rect&&(u.Rect=Tp(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=He.createDefaultAppearanceStream(u),Lt(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var v=Mp(u);c.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var p=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var S=p[s];typeof S=="function"&&(S=S.call(a,u)),g+="/"+s+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(a,u)),g+="/"+s+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:u.objId}),a.internal.out("endobj")}i&&Hp(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},lh=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Lt(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+ea(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vu=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ea(n(t))+")"},zn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zn.prototype.toString=function(){return this.objId+" 0 R"},zn.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},zn.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:lh(a,this.objId,this.scope)}):a instanceof zn?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var uh=function(){zn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Wr(uh,zn);var ch=function(){zn.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ea(r(t))+")"}},set:function(r){t=r}})};Wr(ch,zn);var In=function t(){zn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kt(e,3)},set:function(_){_?this.F=Qt(e,3):this.F=Zt(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof el)return;i="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ea(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ic:h},set:function(_){h=_}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(_){v=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof el||this instanceof Zi))return vu(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof fr?y:vu(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof fr?_:_.substr(0,1)==="("?Ea(_.substr(1,_.length-2)):Ea(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?Ea(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof fr?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fr?p:vu(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof fr?_:_.substr(0,1)==="("?Ea(_.substr(1,_.length-2)):Ea(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?Ea(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof fr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(_){_=!!_,L=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,1)},set:function(_){_?this.Ff=Qt(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,2)},set:function(_){_?this.Ff=Qt(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,3)},set:function(_){_?this.Ff=Qt(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');C=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(C){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Wr(In,zn);var Ta=function(){In.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lh(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,u){u||(u=1);for(var c,h=[];c=s.exec(i);)h.push(c[u]);return h}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,18)},set:function(r){r?this.Ff=Qt(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qt(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,20)},set:function(r){r?(this.Ff=Qt(this.Ff,20),e.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,22)},set:function(r){r?this.Ff=Qt(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,23)},set:function(r){r?this.Ff=Qt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,27)},set:function(r){r?this.Ff=Qt(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};Wr(Ta,In);var Ma=function(){Ta.call(this),this.fontName="helvetica",this.combo=!1};Wr(Ma,Ta);var za=function(){Ma.call(this),this.combo=!0};Wr(za,Ma);var Ms=function(){za.call(this),this.edit=!0};Wr(Ms,za);var fr=function(){In.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,15)},set:function(r){r?this.Ff=Qt(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,16)},set:function(r){r?this.Ff=Qt(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,17)},set:function(r){r?this.Ff=Qt(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,26)},set:function(r){r?this.Ff=Qt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ea(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Lt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Wr(fr,In);var zs=function(){fr.call(this),this.pushButton=!0};Wr(zs,fr);var Ua=function(){fr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Wr(Ua,fr);var el=function(){var t,e;In.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ea(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Lt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wr(el,In),Ua.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ua.prototype.createOption=function(t){var e=new el;return e.Parent=this,e.optionName=t,this.Kids.push(e),Vp.call(this.scope,e),e};var Us=function(){fr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};Wr(Us,fr);var Zi=function(){In.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,13)},set:function(e){e?this.Ff=Qt(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,21)},set:function(e){e?this.Ff=Qt(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,23)},set:function(e){e?this.Ff=Qt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,24)},set:function(e){e?this.Ff=Qt(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,25)},set:function(e){e?this.Ff=Qt(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,26)},set:function(e){e?this.Ff=Qt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wr(Zi,In);var Hs=function(){Zi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,14)},set:function(t){t?this.Ff=Qt(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};Wr(Hs,Zi);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=Tu(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+st(He.internal.getWidth(t))+" "+st(He.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+st(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bn(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=He.internal.getHeight(t),s=He.internal.getWidth(t),u=Tu(t,t.caption);return a.push("1 g"),a.push("0 0 "+st(s)+" "+st(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+st(s-1)+" "+st(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+st(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(He.internal.getWidth(t))+" "+st(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bn(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=He.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ni(He.internal.getWidth(t)/2)+" "+Ni(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*He.internal.Bezier_C).toFixed(5)),s=Number((n*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ni(He.internal.getWidth(t)/2)+" "+Ni(He.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ni(He.internal.getWidth(t)/2)+" "+Ni(He.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=[],n=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*He.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ni(He.internal.getWidth(t)/2)+" "+Ni(He.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bn(t);e.scope=t.scope;var r=[],n=He.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+st(He.internal.getWidth(t)-2)+" "+st(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(st(n.x1.x)+" "+st(n.x1.y)+" m"),r.push(st(n.x2.x)+" "+st(n.x2.y)+" l"),r.push(st(n.x4.x)+" "+st(n.x4.y)+" m"),r.push(st(n.x3.x)+" "+st(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=He.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+st(He.internal.getWidth(t))+" "+st(He.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+st(He.internal.getWidth(t)-2)+" "+st(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(st(r.x1.x)+" "+st(r.x1.y)+" m"),n.push(st(r.x2.x)+" "+st(r.x2.y)+" l"),n.push(st(r.x4.x)+" "+st(r.x4.y)+" m"),n.push(st(r.x3.x)+" "+st(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(He.internal.getWidth(t))+" "+st(He.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),r=He.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},He.internal.getWidth=function(t){var e=0;return Lt(t)==="object"&&(e=Qc(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return Lt(t)==="object"&&(e=Qc(t.Rect[3])),e};var Vp=Gt.addField=function(t){if(Wp(this,t),!(t instanceof In))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=Ta,Gt.AcroFormListBox=Ma,Gt.AcroFormComboBox=za,Gt.AcroFormEditBox=Ms,Gt.AcroFormButton=fr,Gt.AcroFormPushButton=zs,Gt.AcroFormRadioButton=Ua,Gt.AcroFormCheckBox=Us,Gt.AcroFormTextField=Zi,Gt.AcroFormPasswordField=Hs,Gt.AcroFormAppearance=He,Gt.AcroForm={ChoiceField:Ta,ListBox:Ma,ComboBox:za,EditBox:Ms,Button:fr,PushButton:zs,RadioButton:Ua,CheckBox:Us,TextField:Zi,PasswordField:Hs,Appearance:He},tt.AcroForm={ChoiceField:Ta,ListBox:Ma,ComboBox:za,EditBox:Ms,Button:fr,PushButton:zs,RadioButton:Ua,CheckBox:Us,TextField:Zi,PasswordField:Hs,Appearance:He};tt.AcroForm;function fh(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,F){var z,T,oe,se,fe,te=e;if((F=F||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ce(I))for(fe in r)for(oe=r[fe],z=0;z<oe.length;z+=1){for(se=!0,T=0;T<oe[z].length;T+=1)if(oe[z][T]!==void 0&&oe[z][T]!==I[T]){se=!1;break}if(se===!0){te=fe;break}}else for(fe in r)for(oe=r[fe],z=0;z<oe.length;z+=1){for(se=!0,T=0;T<oe[z].length;T+=1)if(oe[z][T]!==void 0&&oe[z][T]!==I.charCodeAt(T)){se=!1;break}if(se===!0){te=fe;break}}return te===e&&F!==e&&(te=F),te},a=function I(F){for(var z=this.internal.write,T=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:F.width}),se.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var fe="",te=0,de=F.transparency.length;te<de;te++)fe+=F.transparency[te]+" "+F.transparency[te]+" ";se.push({key:"Mask",value:"["+fe+"]"})}F.sMask!==void 0&&se.push({key:"SMask",value:F.objectId+1+" 0 R"});var ve=F.filter!==void 0?["/"+F.filter]:void 0;if(T({data:F.data,additionalKeyValues:se,alreadyAppliedFilters:ve,objectId:F.objectId}),z("endobj"),"sMask"in F&&F.sMask!==void 0){var Ee="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,x={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Ee,data:F.sMask};"filter"in F&&(x.filter=F.filter),I.call(this,x)}if(F.colorSpace===C.INDEXED){var j=this.internal.newObject();T({data:B(new Uint8Array(F.palette)),objectId:j}),z("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var F in I)a.call(this,I[F])},s=function(){var I,F=this.internal.collections.addImage_images,z=this.internal.write;for(var T in F)z("/I"+(I=F[T]).index,I.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var I=this.internal.collections.addImage_images;return u.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(I){return typeof t["process"+I.toUpperCase()]=="function"},g=function(I){return Lt(I)==="object"&&I.nodeType===1},y=function(I,F){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var z=""+I.getAttribute("src");if(z.indexOf("data:image/")===0)return Fo(unescape(z).split("base64,").pop());var T=t.loadFile(z,!0);if(T!==void 0)return T}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var oe;switch(F){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Fo(I.toDataURL(oe,1).split("base64,").pop())}},p=function(I){var F=this.internal.collections.addImage_images;if(F){for(var z in F)if(I===F[z].alias)return F[z]}},S=function(I,F,z){return I||F||(I=-96,F=-96),I<0&&(I=-1*z.width*72/I/this.internal.scaleFactor),F<0&&(F=-1*z.height*72/F/this.internal.scaleFactor),I===0&&(I=F*z.width/z.height),F===0&&(F=I*z.height/z.width),[I,F]},L=function(I,F,z,T,oe,se){var fe=S.call(this,z,T,oe),te=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ve=c.call(this);if(z=fe[0],T=fe[1],ve[oe.index]=oe,se){se*=Math.PI/180;var Ee=Math.cos(se),x=Math.sin(se),j=function(H){return H.toFixed(4)},q=[j(Ee),j(x),j(-1*x),j(Ee),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,te(I),de(F+T),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([te(z),"0","0",te(T),"0","0","cm"].join(" "))):this.internal.write([te(z),"0","0",te(T),te(I),de(F+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(I){var F,z,T=0;if(typeof I=="string")for(z=I.length,F=0;F<z;F++)T=(T<<5)-T+I.charCodeAt(F),T|=0;else if(ce(I))for(z=I.byteLength/2,F=0;F<z;F++)T=(T<<5)-T+I[F],T|=0;return T},U=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var F=!0;return I.length===0&&(F=!1),I.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(F=!1),F},V=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var F=I.indexOf(",");return F<0?null:I.substring(0,F).trim().endsWith("base64")?I.substring(F+1):null},W=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return W()&&I instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(I){return W()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},Q=t.__addimage__.binaryStringToUint8Array=function(I){for(var F=I.length,z=new Uint8Array(F),T=0;T<F;T++)z[T]=I.charCodeAt(T);return z},B=t.__addimage__.arrayBufferToBinaryString=function(I){for(var F="",z=ce(I)?I:new Uint8Array(I),T=0;T<z.length;T+=8192)F+=String.fromCharCode.apply(null,z.subarray(T,T+8192));return F};t.addImage=function(){var I,F,z,T,oe,se,fe,te,de;if(typeof arguments[1]=="number"?(F=e,z=arguments[1],T=arguments[2],oe=arguments[3],se=arguments[4],fe=arguments[5],te=arguments[6],de=arguments[7]):(F=arguments[1],z=arguments[2],T=arguments[3],oe=arguments[4],se=arguments[5],fe=arguments[6],te=arguments[7],de=arguments[8]),Lt(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var ve=I;I=ve.imageData,F=ve.format||F||e,z=ve.x||z||0,T=ve.y||T||0,oe=ve.w||ve.width||oe,se=ve.h||ve.height||se,fe=ve.alias||fe,te=ve.compression||te,de=ve.rotation||ve.angle||de}var Ee=this.internal.getFilters();if(te===void 0&&Ee.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(z)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var x=ee.call(this,I,F,fe,te);return L.call(this,z,T,oe,se,x,de),this};var ee=function(I,F,z,T){var oe,se,fe;if(typeof I=="string"&&n(I)===e){I=unescape(I);var te=he(I,!1);(te!==""||(te=t.loadFile(I,!0))!==void 0)&&(I=te)}if(g(I)&&(I=y(I,F)),F=n(I,F),!v(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((fe=z)==null||fe.length===0)&&(z=function(de){return typeof de=="string"||ce(de)?E(de):ce(de.data)?E(de.data):null}(I)),(oe=p.call(this,z))||(W()&&(I instanceof Uint8Array||F==="RGBA"||(se=I,I=Q(I))),oe=this["process"+F.toUpperCase()](I,h.call(this),z,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:_.NONE}(T),se)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},he=t.__addimage__.convertBase64ToBinaryString=function(I,F){F=typeof F!="boolean"||F;var z,T="";if(typeof I=="string"){var oe;z=(oe=V(I))!==null&&oe!==void 0?oe:I;try{T=Fo(z)}catch(se){if(F)throw U(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};t.getImageProperties=function(I){var F,z,T="";if(g(I)&&(I=y(I)),typeof I=="string"&&n(I)===e&&((T=he(I,!1))===""&&(T=t.loadFile(I)||""),I=T),z=n(I),!v(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!W()||I instanceof Uint8Array||(I=Q(I)),!(F=this["process"+z.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=z,F}})(tt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,v=!1,g=0;g<h.length&&!v;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(L.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+p(_(n.contents))+")",i+=" /Popup "+C.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(_(E))+") >>",L.content=i;var U=L.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(i+=" /Open true"),i+=" >>",C.content=i,this.internal.write(L.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var W=this.annotations._nameMap[n.options.name];n.options.pageNumber=W.page,n.options.top=W.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ce=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+ce+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(r),y:h(n),w:c(r+a),h:h(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,u,c=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var v=this.splitTextToSize(r,u).length;s=Math.ceil(h*v)}else u=c,s=h;return this.text(r,n,a,i),a+=.2*h,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-h,u,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},u=t.__arabicParser__.isArabicEndLetter=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(L){return s(L)&&a.indexOf(L.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length>=3};var v=t.__arabicParser__.arabicLetterHasMedialForm=function(L){return s(L)&&i(L)&&e[L.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(L){var C=0,_=r,E="",U=0;for(C=0;C<L.length;C+=1)_[L.charCodeAt(C)]!==void 0?(U++,typeof(_=_[L.charCodeAt(C)])=="number"&&(E+=String.fromCharCode(_),_=r,U=0),C===L.length-1&&(_=r,E+=L.charAt(C-(U-1)),C-=U-1,U=0)):(_=r,E+=L.charAt(C-U),C-=U,U=0);return E};t.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&n[L.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(L,C,_){return s(L)?i(L)===!1?-1:!h(L)||!s(C)&&!s(_)||!s(_)&&u(C)||u(L)&&!s(C)||u(L)&&c(C)||u(L)&&u(C)?0:v(L)&&s(C)&&!u(C)&&s(_)&&h(_)?3:u(L)||!s(_)?1:2:-1},p=function(L){var C=0,_=0,E=0,U="",V="",W="",ce=(L=L||"").split("\\s+"),Q=[];for(C=0;C<ce.length;C+=1){for(Q.push(""),_=0;_<ce[C].length;_+=1)U=ce[C][_],V=ce[C][_-1],W=ce[C][_+1],s(U)?(E=y(U,V,W),Q[C]+=E!==-1?String.fromCharCode(e[U.charCodeAt(0)][E]):U):Q[C]+=U;Q[C]=g(Q[C])}return Q.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var L,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(C)){var E=0;for(_=[],E=0;E<C.length;E+=1)Array.isArray(C[E])?_.push([p(C[E][0]),C[E][1],C[E][2]]):_.push([p(C[E])]);L=_}else L=p(C);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};t.events.push(["preProcessText",S])}(tt.API),tt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(tt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(L){c=L}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(L){S=L}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){n.call(this);var v=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,p=0,S=0,L=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=h.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(U,V){return U.concat(C.splitTextToSize(V,_))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)p<(L=this.getStringUnitWidth(c[E],{font:g})*v)&&(p=L);return p!==0&&(S=c.length),{w:p/=y,h:Math.max((S*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-v,c.y+v,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+v,{align:"center",baseline:"top",maxWidth:c.width-v-v}):this.text(c.text,c.x+v,c.y+v,{align:"left",baseline:"top",maxWidth:c.width-v-v})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,v,g,y){if(n.call(this),!v)throw new Error("No data for PDF table.");var p,S,L,C,_=[],E=[],U=[],V={},W={},ce=[],Q=[],B=(y=y||{}).autoSize||!1,ee=y.printHeaders!==!1,he=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),F=typeof y.padding=="number"?y.padding:3,z=y.headerBackgroundColor||"#c8c8c8",T=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=ee,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=he,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=T,this.setFontSize(he),g==null)E=_=Object.keys(v[0]),U=_.map(function(){return"left"});else if(Array.isArray(g)&&Lt(g[0])==="object")for(_=g.map(function(ve){return ve.name}),E=g.map(function(ve){return ve.prompt||ve.name||""}),U=g.map(function(ve){return ve.align||"left"}),p=0;p<g.length;p+=1)W[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(E=_=g,U=_.map(function(){return"left"}));if(B||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<_.length;p+=1){for(V[C=_[p]]=v.map(function(ve){return ve[C]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(E[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=V[C],this.setFont(void 0,"normal"),L=0;L<S.length;L+=1)ce.push(this.getTextDimensions(S[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[C]=Math.max.apply(null,ce)+F+F,ce=[]}if(ee){var oe={};for(p=0;p<_.length;p+=1)oe[_[p]]={},oe[_[p]].text=E[p],oe[_[p]].align=U[p];var se=u.call(this,oe,W);Q=_.map(function(ve){return new i(c,h,W[ve],se,oe[ve].text,void 0,oe[ve].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var fe=g.reduce(function(ve,Ee){return ve[Ee.name]=Ee.align,ve},{});for(p=0;p<v.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:v[p]},this);var te=u.call(this,v[p],W);for(L=0;L<_.length;L+=1){var de=v[p][_[L]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:L,data:de},this),s.call(this,new i(c,h,W[_[L]],te,de,p+2,fe[_[L]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var v=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var S=c[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[p]-v-v)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+v+v},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){v=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(v.y=this.internal.__cell__.margins.top||0,y.push(v)),v.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,v),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(tt.API);var hh={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dh=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mu=fh(dh),ph=[100,200,300,400,500,600,700,800,900],Gp=fh(ph);function zu(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hh[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof Mu[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Zc(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Yp={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ef={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tf(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Jp(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Yp,r.genericFontFamilies||{}),i=null,s=null,u=0;u<e.length;++u)if(a[(i=zu(e[u])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+tf(i)+"' and default family '"+n+"'.");if(s=function(c,h){if(h[c])return h[c];var v=Mu[c],g=v<=Mu.normal?-1:1,y=Zc(h,dh,v,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(i.stretch,s),s=function(c,h){if(h[c])return h[c];for(var v=hh[c],g=0;g<v.length;++g)if(h[v[g]])return h[v[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var v=Gp[c],g=Zc(h,ph,v,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+tf(i)+"'.");return s}function rf(t){return t.trimLeft()}function $p(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Xp(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qs,nf,af,gu=["times"];(function(t){var e,r,n,a,i,s,u,c,h,v=function(x){return x=x||{},this.isStrokeTransparent=x.isStrokeTransparent||!1,this.strokeOpacity=x.strokeOpacity||1,this.strokeStyle=x.strokeStyle||"#000000",this.fillStyle=x.fillStyle||"#000000",this.isFillTransparent=x.isFillTransparent||!1,this.fillOpacity=x.fillOpacity||1,this.font=x.font||"10px sans-serif",this.textBaseline=x.textBaseline||"alphabetic",this.textAlign=x.textAlign||"left",this.lineWidth=x.lineWidth||1,this.lineJoin=x.lineJoin||"miter",this.lineCap=x.lineCap||"butt",this.path=x.path||[],this.transform=x.transform!==void 0?x.transform.clone():new c,this.globalCompositeOperation=x.globalCompositeOperation||"normal",this.globalAlpha=x.globalAlpha||1,this.clip_path=x.clip_path||[],this.currentPoint=x.currentPoint||new s,this.miterLimit=x.miterLimit||10,this.lastPoint=x.lastPoint||new s,this.lineDashOffset=x.lineDashOffset||0,this.lineDash=x.lineDash||[],this.margin=x.margin||[0,0,0,0],this.prevPageLastElemOffset=x.prevPageLastElemOffset||0,this.ignoreClearRect=typeof x.ignoreClearRect!="boolean"||x.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new v}]);var g=function(x){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=x;Object.defineProperty(this,"pdf",{get:function(){return j}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ge){q=!!ge}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ge){H=!!ge}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ge){isNaN(ge)||(X=ge)}});var Y=0;Object.defineProperty(this,"posY",{get:function(){return Y},set:function(ge){isNaN(ge)||(Y=ge)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ge){var M;typeof ge=="number"?M=[ge,ge,ge,ge]:((M=new Array(4))[0]=ge[0],M[1]=ge.length>=2?ge[1]:M[0],M[2]=ge.length>=3?ge[2]:M[0],M[3]=ge.length>=4?ge[3]:M[1]),h.margin=M}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ge){re=ge}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(ge){ne=ge}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ge){Ce=ge}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ge){ge instanceof v&&(h=ge)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ge){h.path=ge}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ge){Se=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var M;M=y(ge),this.ctx.fillStyle=M.style,this.ctx.isFillTransparent=M.a===0,this.ctx.fillOpacity=M.a,this.pdf.setFillColor(M.r,M.g,M.b,{a:M.a}),this.pdf.setTextColor(M.r,M.g,M.b,{a:M.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var M=y(ge);this.ctx.strokeStyle=M.style,this.ctx.isStrokeTransparent=M.a===0,this.ctx.strokeOpacity=M.a,M.a===0?this.pdf.setDrawColor(255,255,255):(M.a,this.pdf.setDrawColor(M.r,M.g,M.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var je=null;function Fe(ge,M){if(je===null){var Ye=function(Be){var ae=[];return Object.keys(Be).forEach(function(pe){Be[pe].forEach(function(_e){var Ne=null;switch(_e){case"bold":Ne={family:pe,weight:"bold"};break;case"italic":Ne={family:pe,style:"italic"};break;case"bolditalic":Ne={family:pe,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:pe}}Ne!==null&&(Ne.ref={name:pe,style:_e},ae.push(Ne))})}),ae}(ge.getFontList());je=function(Be){for(var ae={},pe=0;pe<Be.length;++pe){var _e=zu(Be[pe]),Ne=_e.family,De=_e.stretch,Ue=_e.style,Ke=_e.weight;ae[Ne]=ae[Ne]||{},ae[Ne][De]=ae[Ne][De]||{},ae[Ne][De][Ue]=ae[Ne][De][Ue]||{},ae[Ne][De][Ue][Ke]=_e}return ae}(Ye.concat(M))}return je}var We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(ge){je=null,We=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var M;if(this.ctx.font=ge,(M=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ye=M[1];M[2];var Be=M[3],ae=M[4];M[5];var pe=M[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(_e==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var Ne=function(Xe){var nt,qe,er=[],vt=Xe.trim();if(vt==="")return gu;if(vt in ef)return[ef[vt]];for(;vt!=="";){switch(qe=null,nt=(vt=rf(vt)).charAt(0)){case'"':case"'":qe=$p(vt.substring(1),nt);break;default:qe=Xp(vt)}if(qe===null||(er.push(qe[0]),(vt=rf(qe[1]))!==""&&vt.charAt(0)!==","))return gu;vt=vt.replace(/^,/,"")}return er}(pe);if(this.fontFaces){var De=Jp(Fe(this.pdf,this.fontFaces),Ne.map(function(Xe){return{family:Xe,stretch:"normal",weight:Be,style:Ye}}));this.pdf.setFont(De.ref.name,De.ref.style)}else{var Ue="";(Be==="bold"||parseInt(Be,10)>=700||Ye==="bold")&&(Ue="bold"),Ye==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var Ke="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Ne.length;at++){if(this.pdf.internal.getFont(Ne[at],Ue,{noFallback:!0,disableWarning:!0})!==void 0){Ke=Ne[at];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(Ne[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=Ne[at],Ue="bold";else if(this.pdf.internal.getFont(Ne[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=Ne[at],Ue="normal";break}}if(Ke===""){for(var pt=0;pt<Ne.length;pt++)if(Ze[Ne[pt]]){Ke=Ze[Ne[pt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};g.prototype.setLineDash=function(x){this.lineDash=x},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){V.call(this,"fill",!1)},g.prototype.stroke=function(){V.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(x,j){if(isNaN(x)||isNaN(j))throw It.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(x,j));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(x,j)},g.prototype.closePath=function(){var x=new s(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Lt(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){x=new s(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(x.x,x.y)},g.prototype.lineTo=function(x,j){if(isNaN(x)||isNaN(j))throw It.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(x,j));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},g.prototype.quadraticCurveTo=function(x,j,q,H){if(isNaN(q)||isNaN(H)||isNaN(x)||isNaN(j))throw It.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(q,H)),Y=this.ctx.transform.applyToPoint(new s(x,j));this.path.push({type:"qct",x1:Y.x,y1:Y.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},g.prototype.bezierCurveTo=function(x,j,q,H,X,Y){if(isNaN(X)||isNaN(Y)||isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H))throw It.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new s(X,Y)),ne=this.ctx.transform.applyToPoint(new s(x,j)),Ce=this.ctx.transform.applyToPoint(new s(q,H));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:Ce.x,y2:Ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},g.prototype.arc=function(x,j,q,H,X,Y){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H)||isNaN(X))throw It.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Y=!!Y,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new s(x,j));x=re.x,j=re.y;var ne=this.ctx.transform.applyToPoint(new s(0,q)),Ce=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ne.x-Ce.x,2)+Math.pow(ne.y-Ce.y,2))}Math.abs(X-H)>=2*Math.PI&&(H=0,X=2*Math.PI),this.path.push({type:"arc",x,y:j,radius:q,startAngle:H,endAngle:X,counterclockwise:Y})},g.prototype.arcTo=function(x,j,q,H,X){throw new Error("arcTo not implemented.")},g.prototype.rect=function(x,j,q,H){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H))throw It.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(x,j),this.lineTo(x+q,j),this.lineTo(x+q,j+H),this.lineTo(x,j+H),this.lineTo(x,j),this.lineTo(x+q,j),this.lineTo(x,j)},g.prototype.fillRect=function(x,j,q,H){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H))throw It.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(x,j,q,H),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},g.prototype.strokeRect=function(x,j,q,H){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H))throw It.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(x,j,q,H),this.stroke())},g.prototype.clearRect=function(x,j,q,H){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H))throw It.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(x,j,q,H))},g.prototype.save=function(x){x=typeof x!="boolean"||x;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),x){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},g.prototype.restore=function(x){x=typeof x!="boolean"||x;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(j),x&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(x){var j,q,H,X;if(x.isCanvasGradient===!0&&(x=x.getColor()),!x)return{r:0,g:0,b:0,a:0,style:x};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(x))j=0,q=0,H=0,X=0;else{var Y=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(x);if(Y!==null)j=parseInt(Y[1]),q=parseInt(Y[2]),H=parseInt(Y[3]),X=1;else if((Y=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(x))!==null)j=parseInt(Y[1]),q=parseInt(Y[2]),H=parseInt(Y[3]),X=parseFloat(Y[4]);else{if(X=1,typeof x=="string"&&x.charAt(0)!=="#"){var re=new ah(x);x=re.ok?re.toHex():"#000000"}x.length===4?(j=x.substring(1,2),j+=j,q=x.substring(2,3),q+=q,H=x.substring(3,4),H+=H):(j=x.substring(1,3),q=x.substring(3,5),H=x.substring(5,7)),j=parseInt(j,16),q=parseInt(q,16),H=parseInt(H,16)}}return{r:j,g:q,b:H,a:X,style:x}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(x,j,q,H){if(isNaN(j)||isNaN(q)||typeof x!="string")throw It.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!p.call(this)){var X=te(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;F.call(this,{text:x,x:j,y:q,scale:Y,angle:X,align:this.textAlign,maxWidth:H})}},g.prototype.strokeText=function(x,j,q,H){if(isNaN(j)||isNaN(q)||typeof x!="string")throw It.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){H=isNaN(H)?void 0:H;var X=te(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;F.call(this,{text:x,x:j,y:q,scale:Y,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:H})}},g.prototype.measureText=function(x){if(typeof x!="string")throw It.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,q=this.pdf.internal.scaleFactor,H=j.internal.getFontSize(),X=j.getStringUnitWidth(x)*H/j.internal.scaleFactor,Y=function(re){var ne=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new Y({width:X*=Math.round(96*q/72*1e4)/1e4})},g.prototype.scale=function(x,j){if(isNaN(x)||isNaN(j))throw It.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(x,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.rotate=function(x){if(isNaN(x))throw It.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new c(Math.cos(x),Math.sin(x),-Math.sin(x),Math.cos(x),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},g.prototype.translate=function(x,j){if(isNaN(x)||isNaN(j))throw It.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,x,j);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.transform=function(x,j,q,H,X,Y){if(isNaN(x)||isNaN(j)||isNaN(q)||isNaN(H)||isNaN(X)||isNaN(Y))throw It.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new c(x,j,q,H,X,Y);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.setTransform=function(x,j,q,H,X,Y){x=isNaN(x)?1:x,j=isNaN(j)?0:j,q=isNaN(q)?0:q,H=isNaN(H)?1:H,X=isNaN(X)?0:X,Y=isNaN(Y)?0:Y,this.ctx.transform=new c(x,j,q,H,X,Y)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(x,j,q,H,X,Y,re,ne,Ce){var Se=this.pdf.getImageProperties(x),je=1,Fe=1,We=1,ge=1;H!==void 0&&ne!==void 0&&(We=ne/H,ge=Ce/X,je=Se.width/H*ne/H,Fe=Se.height/X*Ce/X),Y===void 0&&(Y=j,re=q,j=0,q=0),H!==void 0&&ne===void 0&&(ne=H,Ce=X),H===void 0&&ne===void 0&&(ne=Se.width,Ce=Se.height);for(var M,Ye=this.ctx.transform.decompose(),Be=te(Ye.rotate.shx),ae=new c,pe=(ae=(ae=(ae=ae.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new u(Y-j*We,re-q*ge,H*je,X*Fe)),_e=C.call(this,pe),Ne=[],De=0;De<_e.length;De+=1)Ne.indexOf(_e[De])===-1&&Ne.push(_e[De]);if(U(Ne),this.autoPaging)for(var Ue=Ne[0],Ke=Ne[Ne.length-1],Ze=Ue;Ze<Ke+1;Ze++){this.pdf.setPage(Ze);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Ze===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ze===1?0:Xe+(Ze-2)*nt;if(this.ctx.clip_path.length!==0){var er=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(M,this.posX+this.margin[3],-qe+pt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=er}var vt=JSON.parse(JSON.stringify(pe));vt=E([vt],this.posX+this.margin[3],-qe+pt+this.ctx.prevPageLastElemOffset)[0];var hr=(Ze>Ue||Ze<Ke)&&L.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,nt,null).clip().discardPath()),this.pdf.addImage(x,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Be),hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(x,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,Be)};var C=function(x,j,q){var H=[];j=j||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(x.type){default:case"mt":case"lt":H.push(Math.floor((x.y+X)/q)+1);break;case"arc":H.push(Math.floor((x.y+X-x.radius)/q)+1),H.push(Math.floor((x.y+X+x.radius)/q)+1);break;case"qct":var Y=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x,x.y);H.push(Math.floor((Y.y+X)/q)+1),H.push(Math.floor((Y.y+Y.h+X)/q)+1);break;case"bct":var re=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x2,x.y2,x.x,x.y);H.push(Math.floor((re.y+X)/q)+1),H.push(Math.floor((re.y+re.h+X)/q)+1);break;case"rect":H.push(Math.floor((x.y+X)/q)+1),H.push(Math.floor((x.y+x.h+X)/q)+1)}for(var ne=0;ne<H.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<H[ne];)_.call(this);return H},_=function(){var x=this.fillStyle,j=this.strokeStyle,q=this.font,H=this.lineCap,X=this.lineWidth,Y=this.lineJoin;this.pdf.addPage(),this.fillStyle=x,this.strokeStyle=j,this.font=q,this.lineCap=H,this.lineWidth=X,this.lineJoin=Y},E=function(x,j,q){for(var H=0;H<x.length;H++)switch(x[H].type){case"bct":x[H].x2+=j,x[H].y2+=q;case"qct":x[H].x1+=j,x[H].y1+=q;case"mt":case"lt":case"arc":default:x[H].x+=j,x[H].y+=q}return x},U=function(x){return x.sort(function(j,q){return j-q})},V=function(x,j){for(var q,H,X=this.fillStyle,Y=this.strokeStyle,re=this.lineCap,ne=this.lineWidth,Ce=Math.abs(ne*this.ctx.transform.scaleX),Se=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),We=[],ge=0;ge<Fe.length;ge++)if(Fe[ge].x!==void 0)for(var M=C.call(this,Fe[ge]),Ye=0;Ye<M.length;Ye+=1)We.indexOf(M[Ye])===-1&&We.push(M[Ye]);for(var Be=0;Be<We.length;Be++)for(;this.pdf.internal.getNumberOfPages()<We[Be];)_.call(this);if(U(We),this.autoPaging)for(var ae=We[0],pe=We[We.length-1],_e=ae;_e<pe+1;_e++){this.pdf.setPage(_e),this.fillStyle=X,this.strokeStyle=Y,this.lineCap=re,this.lineWidth=Ce,this.lineJoin=Se;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=_e===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=_e===1?0:Ue+(_e-2)*Ke;if(this.ctx.clip_path.length!==0){var at=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Ze+De+this.ctx.prevPageLastElemOffset),W.call(this,x,!0),this.path=at}if(H=JSON.parse(JSON.stringify(je)),this.path=E(H,this.posX+this.margin[3],-Ze+De+this.ctx.prevPageLastElemOffset),j===!1||_e===0){var pt=(_e>ae||_e<pe)&&L.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ke,null).clip().discardPath()),W.call(this,x,j),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=Ce,W.call(this,x,j),this.lineWidth=ne;this.path=je},W=function(x,j){if((x!=="stroke"||j||!S.call(this))&&(x==="stroke"||j||!p.call(this))){for(var q,H,X=[],Y=this.path,re=0;re<Y.length;re++){var ne=Y[re];switch(ne.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ne,deltas:[],abs:[]});break;case"lt":var Ce=X.length;if(Y[re-1]&&!isNaN(Y[re-1].x)&&(q=[ne.x-Y[re-1].x,ne.y-Y[re-1].y],Ce>0)){for(;Ce>=0;Ce--)if(X[Ce-1].close!==!0&&X[Ce-1].begin!==!0){X[Ce-1].deltas.push(q),X[Ce-1].abs.push(ne);break}}break;case"bct":q=[ne.x1-Y[re-1].x,ne.y1-Y[re-1].y,ne.x2-Y[re-1].x,ne.y2-Y[re-1].y,ne.x-Y[re-1].x,ne.y-Y[re-1].y],X[X.length-1].deltas.push(q);break;case"qct":var Se=Y[re-1].x+2/3*(ne.x1-Y[re-1].x),je=Y[re-1].y+2/3*(ne.y1-Y[re-1].y),Fe=ne.x+2/3*(ne.x1-ne.x),We=ne.y+2/3*(ne.y1-ne.y),ge=ne.x,M=ne.y;q=[Se-Y[re-1].x,je-Y[re-1].y,Fe-Y[re-1].x,We-Y[re-1].y,ge-Y[re-1].x,M-Y[re-1].y],X[X.length-1].deltas.push(q);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ne)}}H=j?null:x==="stroke"?"stroke":"fill";for(var Ye=!1,Be=0;Be<X.length;Be++)if(X[Be].arc)for(var ae=X[Be].abs,pe=0;pe<ae.length;pe++){var _e=ae[pe];_e.type==="arc"?B.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,j,!Ye):z.call(this,_e.x,_e.y),Ye=!0}else if(X[Be].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(X[Be].begin!==!0){var Ne=X[Be].start.x,De=X[Be].start.y;T.call(this,X[Be].deltas,Ne,De),Ye=!0}H&&ee.call(this,H),j&&he.call(this)}},ce=function(x){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return x-q;case"top":return x+j-q;case"hanging":return x+j-2*q;case"middle":return x+j/2-q;case"ideographic":return x;case"alphabetic":default:return x}},Q=function(x){return x+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var x=function(){};return x.colorStops=[],x.addColorStop=function(j,q){this.colorStops.push([j,q])},x.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},x.isCanvasGradient=!0,x},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(x,j,q,H,X,Y,re,ne,Ce){for(var Se=se.call(this,q,H,X,Y),je=0;je<Se.length;je++){var Fe=Se[je];je===0&&(Ce?I.call(this,Fe.x1+x,Fe.y1+j):z.call(this,Fe.x1+x,Fe.y1+j)),oe.call(this,x,j,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ne?he.call(this):ee.call(this,re)},ee=function(x){switch(x){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},he=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(x,j){this.pdf.internal.out(r(x)+" "+n(j)+" m")},F=function(x){var j;switch(x.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var q=this.pdf.getTextDimensions(x.text),H=ce.call(this,x.y),X=Q.call(this,H)-q.h,Y=this.ctx.transform.applyToPoint(new s(x.x,H)),re=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var Ce,Se,je,Fe=this.ctx.transform.applyToRectangle(new u(x.x,H,q.w,q.h)),We=ne.applyToRectangle(new u(x.x,X,q.w,q.h)),ge=C.call(this,We),M=[],Ye=0;Ye<ge.length;Ye+=1)M.indexOf(ge[Ye])===-1&&M.push(ge[Ye]);if(U(M),this.autoPaging)for(var Be=M[0],ae=M[M.length-1],pe=Be;pe<ae+1;pe++){this.pdf.setPage(pe);var _e=pe===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],Ue=De-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Ze=Ke-this.margin[3],at=pe===1?0:Ne+(pe-2)*Ue;if(this.ctx.clip_path.length!==0){var pt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ce,this.posX+this.margin[3],-1*at+_e),W.call(this,"fill",!0),this.path=pt}var Xe=E([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-at+_e+this.ctx.prevPageLastElemOffset)[0];x.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*x.scale),je=this.lineWidth,this.lineWidth=je*x.scale);var nt=this.autoPaging!=="text";if(nt||Xe.y+Xe.h<=De){if(nt||Xe.y>=_e&&Xe.x<=Ke){var qe=nt?x.text:this.pdf.splitTextToSize(x.text,x.maxWidth||Ke-Xe.x)[0],er=E([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-at+_e+this.ctx.prevPageLastElemOffset)[0],vt=nt&&(pe>Be||pe<ae)&&L.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ue,null).clip().discardPath()),this.pdf.text(qe,er.x,er.y,{angle:x.angle,align:j,renderingMode:x.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Xe.y<De&&(this.ctx.prevPageLastElemOffset+=De-Xe.y);x.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=je)}else x.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*x.scale),je=this.lineWidth,this.lineWidth=je*x.scale),this.pdf.text(x.text,Y.x+this.posX,Y.y+this.posY,{angle:x.angle,align:j,renderingMode:x.renderingMode,maxWidth:x.maxWidth}),x.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=je)},z=function(x,j,q,H){q=q||0,H=H||0,this.pdf.internal.out(r(x+q)+" "+n(j+H)+" l")},T=function(x,j,q){return this.pdf.lines(x,j,q,null,null)},oe=function(x,j,q,H,X,Y,re,ne){this.pdf.internal.out([e(a(q+x)),e(i(H+j)),e(a(X+x)),e(i(Y+j)),e(a(re+x)),e(i(ne+j)),"c"].join(" "))},se=function(x,j,q,H){for(var X=2*Math.PI,Y=Math.PI/2;j>q;)j-=X;var re=Math.abs(q-j);re<X&&H&&(re=X-re);for(var ne=[],Ce=H?-1:1,Se=j;re>1e-5;){var je=Se+Ce*Math.min(re,Y);ne.push(fe.call(this,x,Se,je)),re-=Math.abs(je-Se),Se=je}return ne},fe=function(x,j,q){var H=(q-j)/2,X=x*Math.cos(H),Y=x*Math.sin(H),re=X,ne=-Y,Ce=re*re+ne*ne,Se=Ce+re*X+ne*Y,je=4/3*(Math.sqrt(2*Ce*Se)-Se)/(re*Y-ne*X),Fe=re-je*ne,We=ne+je*re,ge=Fe,M=-We,Ye=H+j,Be=Math.cos(Ye),ae=Math.sin(Ye);return{x1:x*Math.cos(j),y1:x*Math.sin(j),x2:Fe*Be-We*ae,y2:Fe*ae+We*Be,x3:ge*Be-M*ae,y3:ge*ae+M*Be,x4:x*Math.cos(q),y4:x*Math.sin(q)}},te=function(x){return 180*x/Math.PI},de=function(x,j,q,H,X,Y){var re=x+.5*(q-x),ne=j+.5*(H-j),Ce=X+.5*(q-X),Se=Y+.5*(H-Y),je=Math.min(x,X,re,Ce),Fe=Math.max(x,X,re,Ce),We=Math.min(j,Y,ne,Se),ge=Math.max(j,Y,ne,Se);return new u(je,We,Fe-je,ge-We)},ve=function(x,j,q,H,X,Y,re,ne){var Ce,Se,je,Fe,We,ge,M,Ye,Be,ae,pe,_e,Ne,De,Ue=q-x,Ke=H-j,Ze=X-q,at=Y-H,pt=re-X,Xe=ne-Y;for(Se=0;Se<41;Se++)Be=(M=(je=x+(Ce=Se/40)*Ue)+Ce*((We=q+Ce*Ze)-je))+Ce*(We+Ce*(X+Ce*pt-We)-M),ae=(Ye=(Fe=j+Ce*Ke)+Ce*((ge=H+Ce*at)-Fe))+Ce*(ge+Ce*(Y+Ce*Xe-ge)-Ye),Se==0?(pe=Be,_e=ae,Ne=Be,De=ae):(pe=Math.min(pe,Be),_e=Math.min(_e,ae),Ne=Math.max(Ne,Be),De=Math.max(De,ae));return new u(Math.round(pe),Math.round(_e),Math.round(Ne-pe),Math.round(De-_e))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var x,j,q=(x=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:x,lineDashOffset:j}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(tt.API),function(t){var e=function(i){var s,u,c,h,v,g,y,p,S,L;for(u=[],c=0,h=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;h>c;c+=4)(v=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(v=((v=((v=((v=(v-(L=v%85))/85)-(S=v%85))/85)-(p=v%85))/85)-(y=v%85))/85)%85,u.push(g+33,y+33,p+33,S+33,L+33)):u.push(122);return function(C,_){for(var E=_;E>0;E--)C.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},r=function(i){var s,u,c,h,v,g=String,y="length",p=255,S="charCodeAt",L="slice",C="replace";for(i[L](-2),i=i[L](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],h=0,v=(i+=s="uuuuu"[L](i[y]%5||5))[y];v>h;h+=5)u=52200625*(i[S](h)-33)+614125*(i[S](h+1)-33)+7225*(i[S](h+2)-33)+85*(i[S](h+3)-33)+(i[S](h+4)-33),c.push(p&u>>24,p&u>>16,p&u>>8,p&u);return function(_,E){for(var U=E;U>0;U--)_.pop()}(c,s[y]),g.fromCharCode.apply(g,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",c=0;c<i.length;c+=2)u+=String.fromCharCode("0x"+(i[c]+i[c+1]));return u},a=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return i=(s=Ou(s)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(i,s){var u=0,c=i||"",h=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(tt.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(c,h,v){var g=new XMLHttpRequest,y=0,p=function(S){var L=S.length,C=[],_=String.fromCharCode;for(y=0;y<L;y+=1)C.push(_(255&S.charCodeAt(y)));return C.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?v(p(this.responseText)):v(void 0)}),g.send(null),h&&g.status===200)return p(g.responseText)}(a,i,s)}catch{}return u}(e,r,n)},t.loadImageFile=t.loadFile}(tt.API),function(t){function e(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):Iu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):Iu(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var u=Lt(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(s,u){var c=document.createElement(s);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},i=function s(u){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),h=s.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,v){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)v!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,v));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var p=h[y],S=p.src.find(function(L){return L.format==="truetype"});S&&c.addFont(S.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var u=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(s=s||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,c,h){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,c,h){return this.setProgress(s?this.progress.val+s:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(s,u){var c=this;return this.thenCore(s,u,function(h,v){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,v).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(s,u,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),v=c.call(h,s,u);return i.convert(v,this.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(c){u=u.thenCore(c)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tt.getPageSize=function(s,u,c){if(Lt(s)==="object"){var h=s;s=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var v,g=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var p,S=0,L=0;if(y.hasOwnProperty(g))S=y[g][1]/v,L=y[g][0]/v;else try{S=c[1],L=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",L>S&&(p=L,L=S,S=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",S>L&&(p=L,L=S,S=p)}return{width:L,height:S,unit:u,k:v,orientation:s}},t.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(zu):null;var c=new i(u);return u.worker?c:c.from(s).doCallback()}}(tt.API),tt.API.addJS=function(t){return af=t,this.internal.events.subscribe("postPutResources",function(){qs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qs+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+af+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qs!==void 0&&nf!==void 0&&this.internal.out("/Names <</JavaScript "+qs+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],u=n.exec(s);if(u!=null){var c=u[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,v=[];for(i=0;i<h;i++){var g=r.internal.newObject();v.push(g);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<v.length;i++)r.internal.write("(page_"+(i+1)+")"+v[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,u){var c,h=this.decode.DCT_DECODE,v=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,L={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=p,e.indexOf(g.charCodeAt(C+1))!==-1){y=256*g.charCodeAt(C+5)+g.charCodeAt(C+6),L={width:256*g.charCodeAt(C+7)+g.charCodeAt(C+8),height:y,numcomponents:g.charCodeAt(C+9)};break}p=256*g.charCodeAt(C+2)+g.charCodeAt(C+3)}return L}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}v={data:r,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:a}}return v}}(tt.API);var ja,Rs,of,sf,lf,Kp=function(){var t,e,r;function n(i){var s,u,c,h,v,g,y,p,S,L,C,_,E,U;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),S=(function(){var V,W;for(W=[],V=0;V<4;++V)W.push(String.fromCharCode(this.data[this.pos++]));return W}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*v/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,s-=4),i=(g!=null?g.data:void 0)||this.imgData,_=0;0<=s?_<s:_>s;0<=s?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((L=c-this.transparency.indexed.length)>0)for(E=0;0<=L?E<L:E>L;0<=L?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":y=(C=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,C.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(U=this.colorType)===4||U===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,u;for(u=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),c=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function v(g,y,p,S){var L,C,_,E,U,V,W,ce,Q,B,ee,he,I,F,z,T,oe,se,fe,te,de,ve=Math.ceil((h.width-g)/p),Ee=Math.ceil((h.height-y)/S),x=h.width==ve&&h.height==Ee;for(F=s*ve,he=x?u:new Uint8Array(F*Ee),V=i.length,I=0,C=0;I<Ee&&c<V;){switch(i[c++]){case 0:for(E=oe=0;oe<F;E=oe+=1)he[C++]=i[c++];break;case 1:for(E=se=0;se<F;E=se+=1)L=i[c++],U=E<s?0:he[C-s],he[C++]=(L+U)%256;break;case 2:for(E=fe=0;fe<F;E=fe+=1)L=i[c++],_=(E-E%s)/s,z=I&&he[(I-1)*F+_*s+E%s],he[C++]=(z+L)%256;break;case 3:for(E=te=0;te<F;E=te+=1)L=i[c++],_=(E-E%s)/s,U=E<s?0:he[C-s],z=I&&he[(I-1)*F+_*s+E%s],he[C++]=(L+Math.floor((U+z)/2))%256;break;case 4:for(E=de=0;de<F;E=de+=1)L=i[c++],_=(E-E%s)/s,U=E<s?0:he[C-s],I===0?z=T=0:(z=he[(I-1)*F+_*s+E%s],T=_&&he[(I-1)*F+(_-1)*s+E%s]),W=U+z-T,ce=Math.abs(W-U),B=Math.abs(W-z),ee=Math.abs(W-T),Q=ce<=B&&ce<=ee?U:B<=ee?z:T,he[C++]=(L+Q)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!x){var j=((y+I*S)*h.width+g)*s,q=I*F;for(E=0;E<ve;E+=1){for(var H=0;H<s;H+=1)u[j++]=he[q++];j+=(p-1)*s}}I++}}return i=Cp(i),h.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),u},n.prototype.decodePalette=function(){var i,s,u,c,h,v,g,y,p;for(u=this.palette,v=this.transparency.indexed||[],h=new Uint8Array((v.length||0)+u.length),c=0,i=0,s=g=0,y=u.length;g<y;s=g+=3)h[c++]=u[s],h[c++]=u[s+1],h[c++]=u[s+2],h[c++]=(p=v[i++])!=null?p:255;return h},n.prototype.copyToImageData=function(i,s){var u,c,h,v,g,y,p,S,L,C,_;if(c=this.colors,L=null,u=this.hasAlphaChannel,this.palette.length&&(L=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,u=!0),S=(h=i.data||i).length,g=L||s,v=y=0,c===1)for(;v<S;)p=L?4*s[v/4]:y,C=g[p++],h[v++]=C,h[v++]=C,h[v++]=C,h[v++]=u?g[p++]:255,y=p;else for(;v<S;)p=L?4*s[v/4]:y,h[v++]=g[p++],h[v++]=g[p++],h[v++]=g[p++],h[v++]=u?g[p++]:255,y=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{e=rt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,u,c,h,v,g,y,p;if(this.animation){for(p=[],u=v=0,g=(y=this.animation.frames).length;v<g;u=++v)s=y[u],c=i.createImageData(s.width,s.height),h=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,h),s.imageData=c,p.push(s.image=t(c));return p}},n.prototype.renderFrame=function(i,s){var u,c,h;return u=(c=this.animation.frames)[s],h=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var s,u,c,h,v,g,y=this;return u=0,g=this.animation,h=g.numFrames,c=g.frames,v=g.numPlays,(s=function(){var p,S;if(p=u++%h,S=c[p],y.renderFrame(i,p),h>1&&u/h<v)return y.animation._timeout=setTimeout(s,S.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Qp(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var u=null,c=null;i&&(u=e,c=s,e+=3*s);var h=!0,v=[],g=0,y=null,p=0,S=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],(1&L)==0&&(y=null),p=L>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,V=t[e++],W=V>>6&1,ce=1<<(7&V)+1,Q=u,B=c,ee=!1;V>>7&&(ee=!0,Q=e,B=ce,e+=3*ce);var he=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}v.push({x:C,y:_,width:E,height:U,has_local_palette:ee,palette_offset:Q,palette_size:B,data_offset:he,data_length:e-he,transparent_index:y,interlaced:!!W,delay:g,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=v.length)throw new Error("Frame index out of range.");return v[F]},this.decodeAndBlitFrameBGRA=function(F,z){var T=this.frameInfo(F),oe=T.width*T.height,se=new Uint8Array(oe);uf(t,T.data_offset,se,oe);var fe=T.palette_offset,te=T.transparent_index;te===null&&(te=256);var de=T.width,ve=r-de,Ee=de,x=4*(T.y*r+T.x),j=4*((T.y+T.height)*r+T.x),q=x,H=4*ve;T.interlaced===!0&&(H+=4*r*7);for(var X=8,Y=0,re=se.length;Y<re;++Y){var ne=se[Y];if(Ee===0&&(Ee=de,(q+=H)>=j&&(H=4*ve+4*r*(X-1),q=x+(de+ve)*(X<<1),X>>=1)),ne===te)q+=4;else{var Ce=t[fe+3*ne],Se=t[fe+3*ne+1],je=t[fe+3*ne+2];z[q++]=je,z[q++]=Se,z[q++]=Ce,z[q++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(F,z){var T=this.frameInfo(F),oe=T.width*T.height,se=new Uint8Array(oe);uf(t,T.data_offset,se,oe);var fe=T.palette_offset,te=T.transparent_index;te===null&&(te=256);var de=T.width,ve=r-de,Ee=de,x=4*(T.y*r+T.x),j=4*((T.y+T.height)*r+T.x),q=x,H=4*ve;T.interlaced===!0&&(H+=4*r*7);for(var X=8,Y=0,re=se.length;Y<re;++Y){var ne=se[Y];if(Ee===0&&(Ee=de,(q+=H)>=j&&(H=4*ve+4*r*(X-1),q=x+(de+ve)*(X<<1),X>>=1)),ne===te)q+=4;else{var Ce=t[fe+3*ne],Se=t[fe+3*ne+1],je=t[fe+3*ne+2];z[q++]=Ce,z[q++]=Se,z[q++]=je,z[q++]=255}--Ee}}}function uf(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,u=s+1,c=a+1,h=(1<<c)-1,v=0,g=0,y=0,p=t[e++],S=new Int32Array(4096),L=null;;){for(;v<16&&p!==0;)g|=t[e++]<<v,v+=8,p===1?p=t[e++]:--p;if(v<c)break;var C=g&h;if(g>>=c,v-=c,C!==i){if(C===s)break;for(var _=C<u?C:L,E=0,U=_;U>i;)U=S[U]>>8,++E;var V=U;if(y+E+(_!==C?1:0)>n)return void It.log("Warning, gif stream longer than expected.");r[y++]=V;var W=y+=E;for(_!==C&&(r[y++]=V),U=_;E--;)U=S[U],r[--W]=255&U,U>>=8;L!==null&&u<4096&&(S[u++]=L<<8|V,u>=h+1&&c<12&&(++c,h=h<<1|1)),L=C}else u=s+1,h=(1<<(c=a+1))-1,L=null}return y!==n&&It.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mu(t){var e,r,n,a,i,s=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),v=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),S=new Array(64),L=[],C=0,_=7,E=new Array(64),U=new Array(64),V=new Array(64),W=new Array(256),ce=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(x,j){for(var q=0,H=0,X=new Array,Y=1;Y<=16;Y++){for(var re=1;re<=x[Y];re++)X[j[H]]=[],X[j[H]][0]=q,X[j[H]][1]=Y,H++,q++;q*=2}return X}function fe(x){for(var j=x[0],q=x[1]-1;q>=0;)j&1<<q&&(C|=1<<_),q--,--_<0&&(C==255?(te(255),te(0)):te(C),_=7,C=0)}function te(x){L.push(x)}function de(x){te(x>>8&255),te(255&x)}function ve(x,j,q,H,X){for(var Y,re=X[0],ne=X[240],Ce=function(ae,pe){var _e,Ne,De,Ue,Ke,Ze,at,pt,Xe,nt,qe=0;for(Xe=0;Xe<8;++Xe){_e=ae[qe],Ne=ae[qe+1],De=ae[qe+2],Ue=ae[qe+3],Ke=ae[qe+4],Ze=ae[qe+5],at=ae[qe+6];var er=_e+(pt=ae[qe+7]),vt=_e-pt,hr=Ne+at,At=Ne-at,dt=De+Ze,zt=De-Ze,gt=Ue+Ke,yn=Ue-Ke,Dt=er+gt,dr=er-gt,Vr=hr+dt,Ot=hr-dt;ae[qe]=Dt+Vr,ae[qe+4]=Dt-Vr;var Ge=.707106781*(Ot+dr);ae[qe+2]=dr+Ge,ae[qe+6]=dr-Ge;var et=.382683433*((Dt=yn+zt)-(Ot=At+vt)),pr=.5411961*Dt+et,Pt=1.306562965*Ot+et,mr=.707106781*(Vr=zt+At),Dr=vt+mr,Je=vt-mr;ae[qe+5]=Je+pr,ae[qe+3]=Je-pr,ae[qe+1]=Dr+Pt,ae[qe+7]=Dr-Pt,qe+=8}for(qe=0,Xe=0;Xe<8;++Xe){_e=ae[qe],Ne=ae[qe+8],De=ae[qe+16],Ue=ae[qe+24],Ke=ae[qe+32],Ze=ae[qe+40],at=ae[qe+48];var yr=_e+(pt=ae[qe+56]),Lr=_e-pt,or=Ne+at,Ut=Ne-at,Tt=De+Ze,sr=De-Ze,Or=Ue+Ke,rn=Ue-Ke,Gr=yr+Or,Yr=yr-Or,bn=or+Tt,En=or-Tt;ae[qe]=Gr+bn,ae[qe+32]=Gr-bn;var nn=.707106781*(En+Yr);ae[qe+16]=Yr+nn,ae[qe+48]=Yr-nn;var jn=.382683433*((Gr=rn+sr)-(En=Ut+Lr)),Ri=.5411961*Gr+jn,ta=1.306562965*En+jn,ra=.707106781*(bn=sr+Ut),na=Lr+ra,ia=Lr-ra;ae[qe+40]=ia+Ri,ae[qe+24]=ia-Ri,ae[qe+8]=na+ta,ae[qe+56]=na-ta,qe++}for(Xe=0;Xe<64;++Xe)nt=ae[Xe]*pe[Xe],p[Xe]=nt>0?nt+.5|0:nt-.5|0;return p}(x,j),Se=0;Se<64;++Se)S[Q[Se]]=Ce[Se];var je=S[0]-q;q=S[0],je==0?fe(H[0]):(fe(H[y[Y=32767+je]]),fe(g[Y]));for(var Fe=63;Fe>0&&S[Fe]==0;)Fe--;if(Fe==0)return fe(re),q;for(var We,ge=1;ge<=Fe;){for(var M=ge;S[ge]==0&&ge<=Fe;)++ge;var Ye=ge-M;if(Ye>=16){We=Ye>>4;for(var Be=1;Be<=We;++Be)fe(ne);Ye&=15}Y=32767+S[ge],fe(X[(Ye<<4)+y[Y]]),fe(g[Y]),ge++}return Fe!=63&&fe(re),q}function Ee(x){x=Math.min(Math.max(x,1),100),i!=x&&(function(j){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var X=s((q[H]*j+50)/100);X=Math.min(Math.max(X,1),255),u[Q[H]]=X}for(var Y=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var ne=s((Y[re]*j+50)/100);ne=Math.min(Math.max(ne,1),255),c[Q[re]]=ne}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,je=0;je<8;je++)for(var Fe=0;Fe<8;Fe++)h[Se]=1/(u[Q[Se]]*Ce[je]*Ce[Fe]*8),v[Se]=1/(c[Q[Se]]*Ce[je]*Ce[Fe]*8),Se++}(x<50?Math.floor(5e3/x):Math.floor(200-2*x)),i=x)}this.encode=function(x,j){j&&Ee(j),L=new Array,C=0,_=7,de(65496),de(65504),de(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),de(1),de(1),te(0),te(0),function(){de(65499),de(132),te(0);for(var Ne=0;Ne<64;Ne++)te(u[Ne]);te(1);for(var De=0;De<64;De++)te(c[De])}(),function(Ne,De){de(65472),de(17),te(8),de(De),de(Ne),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(x.width,x.height),function(){de(65476),de(418),te(0);for(var Ne=0;Ne<16;Ne++)te(B[Ne+1]);for(var De=0;De<=11;De++)te(ee[De]);te(16);for(var Ue=0;Ue<16;Ue++)te(he[Ue+1]);for(var Ke=0;Ke<=161;Ke++)te(I[Ke]);te(1);for(var Ze=0;Ze<16;Ze++)te(F[Ze+1]);for(var at=0;at<=11;at++)te(z[at]);te(17);for(var pt=0;pt<16;pt++)te(T[pt+1]);for(var Xe=0;Xe<=161;Xe++)te(oe[Xe])}(),de(65498),de(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var q=0,H=0,X=0;C=0,_=7,this.encode.displayName="_encode_";for(var Y,re,ne,Ce,Se,je,Fe,We,ge,M=x.data,Ye=x.width,Be=x.height,ae=4*Ye,pe=0;pe<Be;){for(Y=0;Y<ae;){for(Se=ae*pe+Y,Fe=-1,We=0,ge=0;ge<64;ge++)je=Se+(We=ge>>3)*ae+(Fe=4*(7&ge)),pe+We>=Be&&(je-=ae*(pe+1+We-Be)),Y+Fe>=ae&&(je-=Y+Fe-ae+4),re=M[je++],ne=M[je++],Ce=M[je++],E[ge]=(ce[re]+ce[ne+256>>0]+ce[Ce+512>>0]>>16)-128,U[ge]=(ce[re+768>>0]+ce[ne+1024>>0]+ce[Ce+1280>>0]>>16)-128,V[ge]=(ce[re+1280>>0]+ce[ne+1536>>0]+ce[Ce+1792>>0]>>16)-128;q=ve(E,h,q,e,n),H=ve(U,v,H,r,a),X=ve(V,v,X,r,a),Y+=32}pe+=8}if(_>=0){var _e=[];_e[1]=_+1,_e[0]=(1<<_+1)-1,fe(_e)}return de(65497),new Uint8Array(L)},t=t||50,function(){for(var x=String.fromCharCode,j=0;j<256;j++)W[j]=x(j)}(),e=se(B,ee),r=se(F,z),n=se(he,I),a=se(T,oe),function(){for(var x=1,j=2,q=1;q<=15;q++){for(var H=x;H<j;H++)y[32767+H]=q,g[32767+H]=[],g[32767+H][1]=q,g[32767+H][0]=H;for(var X=-(j-1);X<=-x;X++)y[32767+X]=q,g[32767+X]=[],g[32767+X][1]=q,g[32767+X][0]=j-1+X;x<<=1,j<<=1}}(),function(){for(var x=0;x<256;x++)ce[x]=19595*x,ce[x+256>>0]=38470*x,ce[x+512>>0]=7471*x+32768,ce[x+768>>0]=-11059*x,ce[x+1024>>0]=-21709*x,ce[x+1280>>0]=32768*x+8421375,ce[x+1536>>0]=-27439*x,ce[x+1792>>0]=-5329*x}(),Ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ln(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cf(t){function e(B){if(!B)throw Error("assert :P")}function r(B,ee,he){for(var I=0;4>I;I++)if(B[ee+I]!=he.charCodeAt(I))return!0;return!1}function n(B,ee,he,I,F){for(var z=0;z<F;z++)B[ee+z]=he[I+z]}function a(B,ee,he,I){for(var F=0;F<I;F++)B[ee+F]=he}function i(B){return new Int32Array(B)}function s(B,ee){for(var he=[],I=0;I<B;I++)he.push(new ee);return he}function u(B,ee){var he=[];return function I(F,z,T){for(var oe=T[z],se=0;se<oe&&(F.push(T.length>z+1?[]:new ee),!(T.length<z+1));se++)I(F[se],z+1,T)}(he,0,B),he}var c=function(){var B=this;function ee(o,l){for(var d=1<<l-1>>>0;o&d;)d>>>=1;return d?(o&d-1)+d:o}function he(o,l,d,m,b){e(!(m%d));do o[l+(m-=d)]=b;while(0<m)}function I(o,l,d,m,b){if(e(2328>=b),512>=b)var A=i(512);else if((A=i(b))==null)return 0;return function(N,k,P,D,J,le){var ue,Z,Ae=k,me=1<<P,$=i(16),K=i(16);for(e(J!=0),e(D!=null),e(N!=null),e(0<P),Z=0;Z<J;++Z){if(15<D[Z])return 0;++$[D[Z]]}if($[0]==J)return 0;for(K[1]=0,ue=1;15>ue;++ue){if($[ue]>1<<ue)return 0;K[ue+1]=K[ue]+$[ue]}for(Z=0;Z<J;++Z)ue=D[Z],0<D[Z]&&(le[K[ue]++]=Z);if(K[15]==1)return(D=new F).g=0,D.value=le[0],he(N,Ae,1,me,D),me;var we,Le=-1,xe=me-1,Me=0,Oe=1,Qe=1,Re=1<<P;for(Z=0,ue=1,J=2;ue<=P;++ue,J<<=1){if(Oe+=Qe<<=1,0>(Qe-=$[ue]))return 0;for(;0<$[ue];--$[ue])(D=new F).g=ue,D.value=le[Z++],he(N,Ae+Me,J,Re,D),Me=ee(Me,ue)}for(ue=P+1,J=2;15>=ue;++ue,J<<=1){if(Oe+=Qe<<=1,0>(Qe-=$[ue]))return 0;for(;0<$[ue];--$[ue]){if(D=new F,(Me&xe)!=Le){for(Ae+=Re,we=1<<(Le=ue)-P;15>Le&&!(0>=(we-=$[Le]));)++Le,we<<=1;me+=Re=1<<(we=Le-P),N[k+(Le=Me&xe)].g=we+P,N[k+Le].value=Ae-k-Le}D.g=ue-P,D.value=le[Z++],he(N,Ae+(Me>>P),J,Re,D),Me=ee(Me,ue)}}return Oe!=2*K[15]-1?0:me}(o,l,d,m,b,A)}function F(){this.value=this.g=0}function z(){this.value=this.g=0}function T(){this.G=s(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vr,z)}function oe(o,l,d,m){e(o!=null),e(l!=null),e(2147483648>m),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=l,o.pa=d,o.Jd=l,o.Yc=d+m,o.Zc=4<=m?d+m-4+1:d,Y(o)}function se(o,l){for(var d=0;0<l--;)d|=ne(o,128)<<l;return d}function fe(o,l){var d=se(o,l);return re(o)?-d:d}function te(o,l,d,m){var b,A=0;for(e(o!=null),e(l!=null),e(4294967288>m),o.Sb=m,o.Ra=0,o.u=0,o.h=0,4<m&&(m=4),b=0;b<m;++b)A+=l[d+b]<<8*b;o.Ra=A,o.bb=m,o.oa=l,o.pa=d}function de(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<ba-8>>>0,++o.bb,o.u-=8;q(o)&&(o.h=1,o.u=0)}function ve(o,l){if(e(0<=l),!o.h&&l<=ya){var d=j(o)&ma[l];return o.u+=l,de(o),d}return o.h=1,o.u=0}function Ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(o){return o.Ra>>>(o.u&ba-1)>>>0}function q(o){return e(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>ba}function H(o,l){o.u=l,o.h=q(o)}function X(o){o.u>=vo&&(e(o.u>=vo),de(o))}function Y(o){e(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(e(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function re(o){return se(o,1)}function ne(o,l){var d=o.Ca;0>o.b&&Y(o);var m=o.b,b=d*l>>>8,A=(o.I>>>m>b)+0;for(A?(d-=b,o.I-=b+1<<m>>>0):d=b+1,m=d,b=0;256<=m;)b+=8,m>>=8;return m=7^b+Rr[m],o.b-=m,o.Ca=(d<<m)-1,A}function Ce(o,l,d){o[l+0]=d>>24&255,o[l+1]=d>>16&255,o[l+2]=d>>8&255,o[l+3]=d>>0&255}function Se(o,l){return o[l+0]<<0|o[l+1]<<8}function je(o,l){return Se(o,l)|o[l+2]<<16}function Fe(o,l){return Se(o,l)|Se(o,l+2)<<16}function We(o,l){var d=1<<l;return e(o!=null),e(0<l),o.X=i(d),o.X==null?0:(o.Mb=32-l,o.Xa=l,1)}function ge(o,l){e(o!=null),e(l!=null),e(o.Xa==l.Xa),n(l.X,0,o.X,0,1<<l.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function Ye(o,l,d,m){e(d!=null),e(m!=null);var b=d[0],A=m[0];return b==0&&(b=(o*A+l/2)/l),A==0&&(A=(l*b+o/2)/o),0>=b||0>=A?0:(d[0]=b,m[0]=A,1)}function Be(o,l){return o+(1<<l)-1>>>l}function ae(o,l){return((4278255360&o)+(4278255360&l)>>>0&4278255360)+((16711935&o)+(16711935&l)>>>0&16711935)>>>0}function pe(o,l){B[l]=function(d,m,b,A,N,k,P){var D;for(D=0;D<N;++D){var J=B[o](k[P+D-1],b,A+D);k[P+D]=ae(d[m+D],J)}}}function _e(){this.ud=this.hd=this.jd=0}function Ne(o,l){return((4278124286&(o^l))>>>1)+(o&l)>>>0}function De(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function Ue(o,l){return De(o+(o-l+.5>>1))}function Ke(o,l,d){return Math.abs(l-d)-Math.abs(o-d)}function Ze(o,l,d,m,b,A,N){for(m=A[N-1],d=0;d<b;++d)A[N+d]=m=ae(o[l+d],m)}function at(o,l,d,m,b){var A;for(A=0;A<d;++A){var N=o[l+A],k=N>>8&255,P=16711935&(P=(P=16711935&N)+((k<<16)+k));m[b+A]=(4278255360&N)+P>>>0}}function pt(o,l){l.jd=o>>0&255,l.hd=o>>8&255,l.ud=o>>16&255}function Xe(o,l,d,m,b,A){var N;for(N=0;N<m;++N){var k=l[d+N],P=k>>>8,D=k,J=255&(J=(J=k>>>16)+((o.jd<<24>>24)*(P<<24>>24)>>>5));D=255&(D=(D=D+((o.hd<<24>>24)*(P<<24>>24)>>>5))+((o.ud<<24>>24)*(J<<24>>24)>>>5)),b[A+N]=(4278255360&k)+(J<<16)+D}}function nt(o,l,d,m,b){B[l]=function(A,N,k,P,D,J,le,ue,Z){for(P=le;P<ue;++P)for(le=0;le<Z;++le)D[J++]=b(k[m(A[N++])])},B[o]=function(A,N,k,P,D,J,le){var ue=8>>A.b,Z=A.Ea,Ae=A.K[0],me=A.w;if(8>ue)for(A=(1<<A.b)-1,me=(1<<ue)-1;N<k;++N){var $,K=0;for($=0;$<Z;++$)$&A||(K=m(P[D++])),J[le++]=b(Ae[K&me]),K>>=ue}else B["VP8LMapColor"+d](P,D,Ae,me,J,le,N,k,Z)}}function qe(o,l,d,m,b){for(d=l+d;l<d;){var A=o[l++];m[b++]=A>>16&255,m[b++]=A>>8&255,m[b++]=A>>0&255}}function er(o,l,d,m,b){for(d=l+d;l<d;){var A=o[l++];m[b++]=A>>16&255,m[b++]=A>>8&255,m[b++]=A>>0&255,m[b++]=A>>24&255}}function vt(o,l,d,m,b){for(d=l+d;l<d;){var A=(N=o[l++])>>16&240|N>>12&15,N=N>>0&240|N>>28&15;m[b++]=A,m[b++]=N}}function hr(o,l,d,m,b){for(d=l+d;l<d;){var A=(N=o[l++])>>16&248|N>>13&7,N=N>>5&224|N>>3&31;m[b++]=A,m[b++]=N}}function At(o,l,d,m,b){for(d=l+d;l<d;){var A=o[l++];m[b++]=A>>0&255,m[b++]=A>>8&255,m[b++]=A>>16&255}}function dt(o,l,d,m,b,A){if(A==0)for(d=l+d;l<d;)Ce(m,((A=o[l++])[0]>>24|A[1]>>8&65280|A[2]<<8&16711680|A[3]<<24)>>>0),b+=32;else n(m,b,o,l,d)}function zt(o,l){B[l][0]=B[o+"0"],B[l][1]=B[o+"1"],B[l][2]=B[o+"2"],B[l][3]=B[o+"3"],B[l][4]=B[o+"4"],B[l][5]=B[o+"5"],B[l][6]=B[o+"6"],B[l][7]=B[o+"7"],B[l][8]=B[o+"8"],B[l][9]=B[o+"9"],B[l][10]=B[o+"10"],B[l][11]=B[o+"11"],B[l][12]=B[o+"12"],B[l][13]=B[o+"13"],B[l][14]=B[o+"0"],B[l][15]=B[o+"0"]}function gt(o){return o==Hl||o==Wl||o==ys||o==Vl}function yn(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yn,this.f.kb=new Dt,this.sd=null}function Vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ge(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function et(o,l){var d=o.T,m=l.ba.f.RGBA,b=m.eb,A=m.fb+o.ka*m.A,N=cn[l.ba.S],k=o.y,P=o.O,D=o.f,J=o.N,le=o.ea,ue=o.W,Z=l.cc,Ae=l.dc,me=l.Mc,$=l.Nc,K=o.ka,we=o.ka+o.T,Le=o.U,xe=Le+1>>1;for(K==0?N(k,P,null,null,D,J,le,ue,D,J,le,ue,b,A,null,null,Le):(N(l.ec,l.fc,k,P,Z,Ae,me,$,D,J,le,ue,b,A-m.A,b,A,Le),++d);K+2<we;K+=2)Z=D,Ae=J,me=le,$=ue,J+=o.Rc,ue+=o.Rc,A+=2*m.A,N(k,(P+=2*o.fa)-o.fa,k,P,Z,Ae,me,$,D,J,le,ue,b,A-m.A,b,A,Le);return P+=o.fa,o.j+we<o.o?(n(l.ec,l.fc,k,P,Le),n(l.cc,l.dc,D,J,xe),n(l.Mc,l.Nc,le,ue,xe),d--):1&we||N(k,P,null,null,D,J,le,ue,D,J,le,ue,b,A+m.A,null,null,Le),d}function pr(o,l,d){var m=o.F,b=[o.J];if(m!=null){var A=o.U,N=l.ba.S,k=N==ms||N==ys;l=l.ba.f.RGBA;var P=[0],D=o.ka;P[0]=o.T,o.Kb&&(D==0?--P[0]:(--D,b[0]-=o.width),o.j+o.ka+o.T==o.o&&(P[0]=o.o-o.j-D));var J=l.eb;D=l.fb+D*l.A,o=Rt(m,b[0],o.width,A,P,J,D+(k?0:3),l.A),e(d==P),o&&gt(N)&&ln(J,D,k,A,P,l.A)}return 0}function Pt(o){var l=o.ma,d=l.ba.S,m=11>d,b=d==vs||d==gs||d==ms||d==Ul||d==12||gt(d);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!ho(l.Oa,o,b?11:12))return 0;if(b&&gt(d)&&Pe(),o.da)alert("todo:use_scaling");else{if(m){if(l.Ib=Ge,o.Kb){if(d=o.U+1>>1,l.memory=i(o.U+2*d),l.memory==null)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+o.U,l.Mc=l.cc,l.Nc=l.dc+d,l.Ib=et,Pe()}}else alert("todo:EmitYUV");b&&(l.Jb=pr,m&&ie())}if(m&&!pc){for(o=0;256>o;++o)Xh[o]=89858*(o-128)+ws>>bs,Zh[o]=-22014*(o-128)+ws,Qh[o]=-45773*(o-128),Kh[o]=113618*(o-128)+ws>>bs;for(o=xo;o<Jl;++o)l=76283*(o-16)+ws>>bs,ed[o-xo]=Jr(l,255),td[o-xo]=Jr(l+8>>4,15);pc=1}return 1}function mr(o){var l=o.ma,d=o.U,m=o.T;return e(!(1&o.ka)),0>=d||0>=m?0:(d=l.Ib(o,l),l.Jb!=null&&l.Jb(o,l,d),l.Dc+=d,1)}function Dr(o){o.ma.memory=null}function Je(o,l,d,m){return ve(o,8)!=47?0:(l[0]=ve(o,14)+1,d[0]=ve(o,14)+1,m[0]=ve(o,1),ve(o,3)!=0?0:!o.h)}function yr(o,l){if(4>o)return o+1;var d=o-2>>1;return(2+(1&o)<<d)+ve(l,d)+1}function Lr(o,l){return 120<l?l-120:1<=(d=((d=qh[l-1])>>4)*o+(8-(15&d)))?d:1;var d}function or(o,l,d){var m=j(d),b=o[l+=255&m].g-8;return 0<b&&(H(d,d.u+8),m=j(d),l+=o[l].value,l+=m&(1<<b)-1),H(d,d.u+o[l].g),o[l].value}function Ut(o,l,d){return d.g+=o.g,d.value+=o.value<<l>>>0,e(8>=d.g),o.g}function Tt(o,l,d){var m=o.xc;return e((l=m==0?0:o.vc[o.md*(d>>m)+(l>>m)])<o.Wb),o.Ya[l]}function sr(o,l,d,m){var b=o.ab,A=o.c*l,N=o.C;l=N+l;var k=d,P=m;for(m=o.Ta,d=o.Ua;0<b--;){var D=o.gc[b],J=N,le=l,ue=k,Z=P,Ae=(P=m,k=d,D.Ea);switch(e(J<le),e(le<=D.nc),D.hc){case 2:ls(ue,Z,(le-J)*Ae,P,k);break;case 0:var me=J,$=le,K=P,we=k,Le=(Re=D).Ea;me==0&&(Ml(ue,Z,null,null,1,K,we),Ze(ue,Z+1,0,0,Le-1,K,we+1),Z+=Le,we+=Le,++me);for(var xe=1<<Re.b,Me=xe-1,Oe=Be(Le,Re.b),Qe=Re.K,Re=Re.w+(me>>Re.b)*Oe;me<$;){var xt=Qe,Nt=Re,_t=1;for(go(ue,Z,K,we-Le,1,K,we);_t<Le;){var mt=(_t&~Me)+xe;mt>Le&&(mt=Le),(0,fi[xt[Nt++]>>8&15])(ue,Z+ +_t,K,we+_t-Le,mt-_t,K,we+_t),_t=mt}Z+=Le,we+=Le,++me&Me||(Re+=Oe)}le!=D.nc&&n(P,k-Ae,P,k+(le-J-1)*Ae,Ae);break;case 1:for(Ae=ue,$=Z,Le=(ue=D.Ea)-(we=ue&~(K=(Z=1<<D.b)-1)),me=Be(ue,D.b),xe=D.K,D=D.w+(J>>D.b)*me;J<le;){for(Me=xe,Oe=D,Qe=new _e,Re=$+we,xt=$+ue;$<Re;)pt(Me[Oe++],Qe),Ui(Qe,Ae,$,Z,P,k),$+=Z,k+=Z;$<xt&&(pt(Me[Oe++],Qe),Ui(Qe,Ae,$,Le,P,k),$+=Le,k+=Le),++J&K||(D+=me)}break;case 3:if(ue==P&&Z==k&&0<D.b){for($=P,ue=Ae=k+(le-J)*Ae-(we=(le-J)*Be(D.Ea,D.b)),Z=P,K=k,me=[],we=(Le=we)-1;0<=we;--we)me[we]=Z[K+we];for(we=Le-1;0<=we;--we)$[ue+we]=me[we];an(D,J,le,P,Ae,P,k)}else an(D,J,le,ue,Z,P,k)}k=m,P=d}P!=d&&n(m,d,k,P,A)}function Or(o,l){var d=o.V,m=o.Ba+o.c*o.C,b=l-o.C;if(e(l<=o.l.o),e(16>=b),0<b){var A=o.l,N=o.Ta,k=o.Ua,P=A.width;if(sr(o,b,d,m),b=k=[k],e((d=o.C)<(m=l)),e(A.v<A.va),m>A.o&&(m=A.o),d<A.j){var D=A.j-d;d=A.j,b[0]+=D*P}if(d>=m?d=0:(b[0]+=4*A.v,A.ka=d-A.j,A.U=A.va-A.v,A.T=m-d,d=1),d){if(k=k[0],11>(d=o.ca).S){var J=d.f.RGBA,le=(m=d.S,b=A.U,A=A.T,D=J.eb,J.A),ue=A;for(J=J.fb+o.Ma*J.A;0<ue--;){var Z=N,Ae=k,me=b,$=D,K=J;switch(m){case ps:Br(Z,Ae,me,$,K);break;case vs:kr(Z,Ae,me,$,K);break;case Hl:kr(Z,Ae,me,$,K),ln($,K,0,me,1,0);break;case ac:Xn(Z,Ae,me,$,K);break;case gs:dt(Z,Ae,me,$,K,1);break;case Wl:dt(Z,Ae,me,$,K,1),ln($,K,0,me,1,0);break;case ms:dt(Z,Ae,me,$,K,0);break;case ys:dt(Z,Ae,me,$,K,0),ln($,K,1,me,1,0);break;case Ul:hi(Z,Ae,me,$,K);break;case Vl:hi(Z,Ae,me,$,K),qt($,K,me,1,0);break;case oc:$n(Z,Ae,me,$,K);break;default:e(0)}k+=P,J+=le}o.Ma+=A}else alert("todo:EmitRescaledRowsYUVA");e(o.Ma<=d.height)}}o.C=l,e(o.C<=o.i)}function rn(o){var l;if(0<o.ua)return 0;for(l=0;l<o.Wb;++l){var d=o.Ya[l].G,m=o.Ya[l].H;if(0<d[1][m[1]+0].g||0<d[2][m[2]+0].g||0<d[3][m[3]+0].g)return 0}return 1}function Gr(o,l,d,m,b,A){if(o.Z!=0){var N=o.qd,k=o.rd;for(e(gi[o.Z]!=null);l<d;++l)gi[o.Z](N,k,m,b,m,b,A),N=m,k=b,b+=A;o.qd=N,o.rd=k}}function Yr(o,l){var d=o.l.ma,m=d.Z==0||d.Z==1?o.l.j:o.C;if(m=o.C<m?m:o.C,e(l<=o.l.o),l>m){var b=o.l.width,A=d.ca,N=d.tb+b*m,k=o.V,P=o.Ba+o.c*m,D=o.gc;e(o.ab==1),e(D[0].hc==3),us(D[0],m,l,k,P,A,N),Gr(d,m,l,A,N,b)}o.C=o.Ma=l}function bn(o,l,d,m,b,A,N){var k=o.$/m,P=o.$%m,D=o.m,J=o.s,le=d+o.$,ue=le;b=d+m*b;var Z=d+m*A,Ae=280+J.ua,me=o.Pb?k:16777216,$=0<J.ua?J.Wa:null,K=J.wc,we=le<Z?Tt(J,P,k):null;e(o.C<A),e(Z<=b);var Le=!1;e:for(;;){for(;Le||le<Z;){var xe=0;if(k>=me){var Me=le-d;e((me=o).Pb),me.wd=me.m,me.xd=Me,0<me.s.ua&&ge(me.s.Wa,me.s.vb),me=k+Bh}if(P&K||(we=Tt(J,P,k)),e(we!=null),we.Qb&&(l[le]=we.qb,Le=!0),!Le)if(X(D),we.jc){xe=D,Me=l;var Oe=le,Qe=we.pd[j(xe)&vr-1];e(we.jc),256>Qe.g?(H(xe,xe.u+Qe.g),Me[Oe]=Qe.value,xe=0):(H(xe,xe.u+Qe.g-256),e(256<=Qe.value),xe=Qe.value),xe==0&&(Le=!0)}else xe=or(we.G[0],we.H[0],D);if(D.h)break;if(Le||256>xe){if(!Le)if(we.nd)l[le]=(we.qb|xe<<8)>>>0;else{if(X(D),Le=or(we.G[1],we.H[1],D),X(D),Me=or(we.G[2],we.H[2],D),Oe=or(we.G[3],we.H[3],D),D.h)break;l[le]=(Oe<<24|Le<<16|xe<<8|Me)>>>0}if(Le=!1,++le,++P>=m&&(P=0,++k,N!=null&&k<=A&&!(k%16)&&N(o,k),$!=null))for(;ue<le;)xe=l[ue++],$.X[(506832829*xe&4294967295)>>>$.Mb]=xe}else if(280>xe){if(xe=yr(xe-256,D),Me=or(we.G[4],we.H[4],D),X(D),Me=Lr(m,Me=yr(Me,D)),D.h)break;if(le-d<Me||b-le<xe)break e;for(Oe=0;Oe<xe;++Oe)l[le+Oe]=l[le+Oe-Me];for(le+=xe,P+=xe;P>=m;)P-=m,++k,N!=null&&k<=A&&!(k%16)&&N(o,k);if(e(le<=b),P&K&&(we=Tt(J,P,k)),$!=null)for(;ue<le;)xe=l[ue++],$.X[(506832829*xe&4294967295)>>>$.Mb]=xe}else{if(!(xe<Ae))break e;for(Le=xe-280,e($!=null);ue<le;)xe=l[ue++],$.X[(506832829*xe&4294967295)>>>$.Mb]=xe;xe=le,e(!(Le>>>(Me=$).Xa)),l[xe]=Me.X[Le],Le=!0}Le||e(D.h==q(D))}if(o.Pb&&D.h&&le<b)e(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&ge(o.s.vb,o.s.Wa);else{if(D.h)break e;N!=null&&N(o,k>A?A:k),o.a=0,o.$=le-d}return 1}return o.a=3,0}function En(o){e(o!=null),o.vc=null,o.yc=null,o.Ya=null;var l=o.Wa;l!=null&&(l.X=null),o.vb=null,e(o!=null)}function nn(){var o=new Tl;return o==null?null:(o.a=0,o.xb=uc,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),ls=at,Ui=Xe,Br=qe,kr=er,hi=vt,$n=hr,Xn=At,B.VP8LMapColor32b=wa,B.VP8LMapColor8b=cs,o)}function jn(o,l,d,m,b){var A=1,N=[o],k=[l],P=m.m,D=m.s,J=null,le=0;e:for(;;){if(d)for(;A&&ve(P,1);){var ue=N,Z=k,Ae=m,me=1,$=Ae.m,K=Ae.gc[Ae.ab],we=ve($,2);if(Ae.Oc&1<<we)A=0;else{switch(Ae.Oc|=1<<we,K.hc=we,K.Ea=ue[0],K.nc=Z[0],K.K=[null],++Ae.ab,e(4>=Ae.ab),we){case 0:case 1:K.b=ve($,3)+2,me=jn(Be(K.Ea,K.b),Be(K.nc,K.b),0,Ae,K.K),K.K=K.K[0];break;case 3:var Le,xe=ve($,8)+1,Me=16<xe?0:4<xe?1:2<xe?2:3;if(ue[0]=Be(K.Ea,Me),K.b=Me,Le=me=jn(xe,1,0,Ae,K.K)){var Oe,Qe=xe,Re=K,xt=1<<(8>>Re.b),Nt=i(xt);if(Nt==null)Le=0;else{var _t=Re.K[0],mt=Re.w;for(Nt[0]=Re.K[0][0],Oe=1;Oe<1*Qe;++Oe)Nt[Oe]=ae(_t[mt+Oe],Nt[Oe-1]);for(;Oe<4*xt;++Oe)Nt[Oe]=0;Re.K[0]=null,Re.K[0]=Nt,Le=1}}me=Le;break;case 2:break;default:e(0)}A=me}}if(N=N[0],k=k[0],A&&ve(P,1)&&!(A=1<=(le=ve(P,4))&&11>=le)){m.a=3;break e}var Ct;if(Ct=A)t:{var kt,ct,rr,Tr=m,nr=N,Mr=k,St=le,Xr=d,Kr=Tr.m,ur=Tr.s,gr=[null],Cr=1,fn=0,Rn=Rh[St];r:for(;;){if(Xr&&ve(Kr,1)){var cr=ve(Kr,3)+2,ei=Be(nr,cr),Yi=Be(Mr,cr),Sa=ei*Yi;if(!jn(ei,Yi,0,Tr,gr))break r;for(gr=gr[0],ur.xc=cr,kt=0;kt<Sa;++kt){var mi=gr[kt]>>8&65535;gr[kt]=mi,mi>=Cr&&(Cr=mi+1)}}if(Kr.h)break r;for(ct=0;5>ct;++ct){var Vt=sc[ct];!ct&&0<St&&(Vt+=1<<St),fn<Vt&&(fn=Vt)}var $l=s(Cr*Rn,F),mc=Cr,yc=s(mc,T);if(yc==null)var xs=null;else e(65536>=mc),xs=yc;var Ao=i(fn);if(xs==null||Ao==null||$l==null){Tr.a=1;break r}var As=$l;for(kt=rr=0;kt<Cr;++kt){var Nn=xs[kt],La=Nn.G,ka=Nn.H,bc=0,Ns=1,wc=0;for(ct=0;5>ct;++ct){Vt=sc[ct],La[ct]=As,ka[ct]=rr,!ct&&0<St&&(Vt+=1<<St);i:{var Ss,Xl=Vt,Ls=Tr,No=Ao,id=As,ad=rr,Kl=0,yi=Ls.m,od=ve(yi,1);if(a(No,0,0,Xl),od){var sd=ve(yi,1)+1,ld=ve(yi,1),_c=ve(yi,ld==0?1:8);No[_c]=1,sd==2&&(No[_c=ve(yi,8)]=1);var ks=1}else{var xc=i(19),Ac=ve(yi,4)+4;if(19<Ac){Ls.a=3;var Ps=0;break i}for(Ss=0;Ss<Ac;++Ss)xc[Oh[Ss]]=ve(yi,3);var Ql=void 0,So=void 0,Nc=Ls,ud=xc,Cs=Xl,Sc=No,Zl=0,bi=Nc.m,Lc=8,kc=s(128,F);n:for(;I(kc,0,7,ud,19);){if(ve(bi,1)){var cd=2+2*ve(bi,3);if((Ql=2+ve(bi,cd))>Cs)break n}else Ql=Cs;for(So=0;So<Cs&&Ql--;){X(bi);var Pc=kc[0+(127&j(bi))];H(bi,bi.u+Pc.g);var Pa=Pc.value;if(16>Pa)Sc[So++]=Pa,Pa!=0&&(Lc=Pa);else{var fd=Pa==16,Cc=Pa-16,hd=jh[Cc],Ic=ve(bi,Eh[Cc])+hd;if(So+Ic>Cs)break n;for(var dd=fd?Lc:0;0<Ic--;)Sc[So++]=dd}}Zl=1;break n}Zl||(Nc.a=3),ks=Zl}(ks=ks&&!yi.h)&&(Kl=I(id,ad,8,No,Xl)),ks&&Kl!=0?Ps=Kl:(Ls.a=3,Ps=0)}if(Ps==0)break r;if(Ns&&Dh[ct]==1&&(Ns=As[rr].g==0),bc+=As[rr].g,rr+=Ps,3>=ct){var Lo,eu=Ao[0];for(Lo=1;Lo<Vt;++Lo)Ao[Lo]>eu&&(eu=Ao[Lo]);wc+=eu}}if(Nn.nd=Ns,Nn.Qb=0,Ns&&(Nn.qb=(La[3][ka[3]+0].value<<24|La[1][ka[1]+0].value<<16|La[2][ka[2]+0].value)>>>0,bc==0&&256>La[0][ka[0]+0].value&&(Nn.Qb=1,Nn.qb+=La[0][ka[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>wc,Nn.jc){var Is,ti=Nn;for(Is=0;Is<vr;++Is){var wi=Is,_i=ti.pd[wi],Fs=ti.G[0][ti.H[0]+wi];256<=Fs.value?(_i.g=Fs.g+256,_i.value=Fs.value):(_i.g=0,_i.value=0,wi>>=Ut(Fs,8,_i),wi>>=Ut(ti.G[1][ti.H[1]+wi],16,_i),wi>>=Ut(ti.G[2][ti.H[2]+wi],0,_i),Ut(ti.G[3][ti.H[3]+wi],24,_i))}}}ur.vc=gr,ur.Wb=Cr,ur.Ya=xs,ur.yc=$l,Ct=1;break t}Ct=0}if(!(A=Ct)){m.a=3;break e}if(0<le){if(D.ua=1<<le,!We(D.Wa,le)){m.a=1,A=0;break e}}else D.ua=0;var tu=m,Fc=N,pd=k,ru=tu.s,nu=ru.xc;if(tu.c=Fc,tu.i=pd,ru.md=Be(Fc,nu),ru.wc=nu==0?-1:(1<<nu)-1,d){m.xb=Vh;break e}if((J=i(N*k))==null){m.a=1,A=0;break e}A=(A=bn(m,J,0,N,k,k,null))&&!P.h;break e}return A?(b!=null?b[0]=J:(e(J==null),e(d)),m.$=0,d||En(D)):En(D),A}function Ri(o,l){var d=o.c*o.i,m=d+l+16*l;return e(o.c<=l),o.V=i(m),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+d+l,1)}function ta(o,l){var d=o.C,m=l-d,b=o.V,A=o.Ba+o.c*d;for(e(l<=o.l.o);0<m;){var N=16<m?16:m,k=o.l.ma,P=o.l.width,D=P*N,J=k.ca,le=k.tb+P*d,ue=o.Ta,Z=o.Ua;sr(o,N,b,A),Xt(ue,Z,J,le,D),Gr(k,d,d+N,J,le,P),m-=N,b+=N*o.c,d+=N}e(d==l),o.C=o.Ma=l}function ra(){this.ub=this.yd=this.td=this.Rb=0}function na(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Uo(){this.Yb=function(){var o=[];return function l(d,m,b){for(var A=b[m],N=0;N<A&&(d.push(b.length>m+1?[]:0),!(b.length<m+1));N++)l(d[N],m+1,b)}(o,0,[3,11]),o}()}function gl(){this.jb=i(3),this.Wc=u([4,8],Uo),this.Xc=u([4,17],Uo)}function ml(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function aa(){this.ld=this.La=this.dd=this.tc=0}function Ho(){this.Na=this.la=0}function yl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bl(){this.uc=this.M=this.Nb=0,this.wa=Array(new aa),this.Y=0,this.ya=Array(new Xa),this.aa=0,this.l=new oa}function Wo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new Ee,this.Od=new ra,this.Kc=new na,this.ed=new ml,this.Qa=new ia,this.Ic=this.$c=this.Aa=0,this.D=new bl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ee),this.ia=0,this.pb=s(4,yl),this.Pa=new gl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wo),this.Hd=0,this.rb=Array(new Ho),this.sb=0,this.wa=Array(new aa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xa),this.L=this.aa=0,this.gd=u([4,2],aa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _l(){var o=new wl;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,_o||(_o=Yo)),o}function Jt(o,l,d){return o.a==0&&(o.a=l,o.sc=d,o.cb=0),0}function Vo(o,l,d){return 3<=d&&o[l+0]==157&&o[l+1]==1&&o[l+2]==42}function Go(o,l){if(o==null)return 0;if(o.a=0,o.sc="OK",l==null)return Jt(o,2,"null VP8Io passed to VP8GetHeaders()");var d=l.data,m=l.w,b=l.ha;if(4>b)return Jt(o,7,"Truncated header.");var A=d[m+0]|d[m+1]<<8|d[m+2]<<16,N=o.Od;if(N.Rb=!(1&A),N.td=A>>1&7,N.yd=A>>4&1,N.ub=A>>5,3<N.td)return Jt(o,3,"Incorrect keyframe parameters.");if(!N.yd)return Jt(o,4,"Frame not displayable.");m+=3,b-=3;var k=o.Kc;if(N.Rb){if(7>b)return Jt(o,7,"cannot parse picture header");if(!Vo(d,m,b))return Jt(o,3,"Bad code word");k.c=16383&(d[m+4]<<8|d[m+3]),k.Td=d[m+4]>>6,k.i=16383&(d[m+6]<<8|d[m+5]),k.Ud=d[m+6]>>6,m+=7,b-=7,o.za=k.c+15>>4,o.Ub=k.i+15>>4,l.width=k.c,l.height=k.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,a((A=o.Pa).jb,0,255,A.jb.length),e((A=o.Qa)!=null),A.Cb=0,A.Bb=0,A.Fb=1,a(A.Zb,0,0,A.Zb.length),a(A.Lb,0,0,A.Lb)}if(N.ub>b)return Jt(o,7,"bad partition length");oe(A=o.m,d,m,N.ub),m+=N.ub,b-=N.ub,N.Rb&&(k.Ld=re(A),k.Kd=re(A)),k=o.Qa;var P,D=o.Pa;if(e(A!=null),e(k!=null),k.Cb=re(A),k.Cb){if(k.Bb=re(A),re(A)){for(k.Fb=re(A),P=0;4>P;++P)k.Zb[P]=re(A)?fe(A,7):0;for(P=0;4>P;++P)k.Lb[P]=re(A)?fe(A,6):0}if(k.Bb)for(P=0;3>P;++P)D.jb[P]=re(A)?se(A,8):255}else k.Bb=0;if(A.Ka)return Jt(o,3,"cannot parse segment header");if((k=o.ed).zd=re(A),k.Tb=se(A,6),k.wb=se(A,3),k.Pc=re(A),k.Pc&&re(A)){for(D=0;4>D;++D)re(A)&&(k.vd[D]=fe(A,6));for(D=0;4>D;++D)re(A)&&(k.od[D]=fe(A,6))}if(o.L=k.Tb==0?0:k.zd?1:2,A.Ka)return Jt(o,3,"cannot parse filter header");var J=b;if(b=P=m,m=P+J,k=J,o.Xb=(1<<se(o.m,2))-1,J<3*(D=o.Xb))d=7;else{for(P+=3*D,k-=3*D,J=0;J<D;++J){var le=d[b+0]|d[b+1]<<8|d[b+2]<<16;le>k&&(le=k),oe(o.Jc[+J],d,P,le),P+=le,k-=le,b+=3}oe(o.Jc[+D],d,P,k),d=P<m?0:5}if(d!=0)return Jt(o,d,"cannot parse partitions");for(d=se(P=o.m,7),b=re(P)?fe(P,4):0,m=re(P)?fe(P,4):0,k=re(P)?fe(P,4):0,D=re(P)?fe(P,4):0,P=re(P)?fe(P,4):0,J=o.Qa,le=0;4>le;++le){if(J.Cb){var ue=J.Zb[le];J.Fb||(ue+=d)}else{if(0<le){o.pb[le]=o.pb[0];continue}ue=d}var Z=o.pb[le];Z.Sc[0]=Gl[Jr(ue+b,127)],Z.Sc[1]=Yl[Jr(ue+0,127)],Z.Eb[0]=2*Gl[Jr(ue+m,127)],Z.Eb[1]=101581*Yl[Jr(ue+k,127)]>>16,8>Z.Eb[1]&&(Z.Eb[1]=8),Z.Qc[0]=Gl[Jr(ue+D,117)],Z.Qc[1]=Yl[Jr(ue+P,127)],Z.lc=ue+P}if(!N.Rb)return Jt(o,4,"Not a key frame.");for(re(A),N=o.Pa,d=0;4>d;++d){for(b=0;8>b;++b)for(m=0;3>m;++m)for(k=0;11>k;++k)D=ne(A,Hh[d][b][m][k])?se(A,8):zh[d][b][m][k],N.Wc[d][b].Yb[m][k]=D;for(b=0;17>b;++b)N.Xc[d][b]=N.Wc[d][Wh[b]]}return o.kc=re(A),o.kc&&(o.Bd=se(A,8)),o.cb=1}function Yo(o,l,d,m,b,A,N){var k=l[b].Yb[d];for(d=0;16>b;++b){if(!ne(o,k[d+0]))return b;for(;!ne(o,k[d+1]);)if(k=l[++b].Yb[0],d=0,b==16)return 16;var P=l[b+1].Yb;if(ne(o,k[d+2])){var D=o,J=0;if(ne(D,(ue=k)[(le=d)+3]))if(ne(D,ue[le+6])){for(k=0,le=2*(J=ne(D,ue[le+8]))+(ue=ne(D,ue[le+9+J])),J=0,ue=Th[le];ue[k];++k)J+=J+ne(D,ue[k]);J+=3+(8<<le)}else ne(D,ue[le+7])?(J=7+2*ne(D,165),J+=ne(D,145)):J=5+ne(D,159);else J=ne(D,ue[le+4])?3+ne(D,ue[le+5]):2;k=P[2]}else J=1,k=P[1];P=N+Mh[b],0>(D=o).b&&Y(D);var le,ue=D.b,Z=(le=D.Ca>>1)-(D.I>>ue)>>31;--D.b,D.Ca+=Z,D.Ca|=1,D.I-=(le+1&Z)<<ue,A[P]=((J^Z)-Z)*m[(0<b)+0]}return 16}function Ka(o){var l=o.rb[o.sb-1];l.la=0,l.Na=0,a(o.zc,0,0,o.zc.length),o.ja=0}function xl(o,l){if(o==null)return 0;if(l==null)return Jt(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!Go(o,l))return 0;if(e(o.cb),l.ac==null||l.ac(l)){l.ob&&(o.L=0);var d=_s[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=l.v-d>>4,o.zb=l.j-d>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=l.o+15+d>>4,o.Hb=l.va+15+d>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var m=o.ed;for(d=0;4>d;++d){var b;if(o.Qa.Cb){var A=o.Qa.Lb[d];o.Qa.Fb||(A+=m.Tb)}else A=m.Tb;for(b=0;1>=b;++b){var N=o.gd[d][b],k=A;if(m.Pc&&(k+=m.vd[0],b&&(k+=m.od[0])),0<(k=0>k?0:63<k?63:k)){var P=k;0<m.wb&&(P=4<m.wb?P>>2:P>>1)>9-m.wb&&(P=9-m.wb),1>P&&(P=1),N.dd=P,N.tc=2*k+P,N.ld=40<=k?2:15<=k?1:0}else N.tc=0;N.La=b}}}d=0}else Jt(o,6,"Frame setup failed"),d=o.a;if(d=d==0){if(d){o.$c=0,0<o.Aa||(o.Ic=nd);e:{d=o.Ic,m=4*(P=o.za);var D=32*P,J=P+1,le=0<o.L?P*(0<o.Aa?2:1):0,ue=(o.Aa==2?2:1)*P;if((N=m+832+(b=3*(16*d+_s[o.L])/2*D)+(A=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=N)d=0;else{if(N>o.Vb){if(o.Vb=0,o.Ec=i(N),o.Fc=0,o.Ec==null){d=Jt(o,1,"no memory during frame initialization.");break e}o.Vb=N}N=o.Ec,k=o.Fc,o.Ac=N,o.Bc=k,k+=m,o.Gd=s(D,Wo),o.Hd=0,o.rb=s(J+1,Ho),o.sb=1,o.wa=le?s(le,aa):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=P),e(!0),o.oc=N,o.pc=k,k+=832,o.ya=s(ue,Xa),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=P),o.R=16*P,o.B=8*P,P=(D=_s[o.L])*o.R,D=D/2*o.B,o.sa=N,o.ta=k+P,o.qa=o.sa,o.ra=o.ta+16*d*o.R+D,o.Ha=o.qa,o.Ia=o.ra+8*d*o.B+D,o.$c=0,k+=b,o.mb=A?N:null,o.nb=A?k:null,e(k+A<=o.Fc+o.Vb),Ka(o),a(o.Ac,o.Bc,0,m),d=1}}if(d){if(l.ka=0,l.y=o.sa,l.O=o.ta,l.f=o.qa,l.N=o.ra,l.ea=o.Ha,l.Vd=o.Ia,l.fa=o.R,l.Rc=o.B,l.F=null,l.J=0,!hs){for(d=-255;255>=d;++d)ar[255+d]=0>d?-d:d;for(d=-1020;1020>=d;++d)Qn[1020+d]=-128>d?-128:127<d?127:d;for(d=-112;112>=d;++d)wo[112+d]=-16>d?-16:15<d?15:d;for(d=-255;510>=d;++d)Na[255+d]=0>d?0:255<d?255:d;hs=1}_a=Sl,Kn=Al,mo=$o,Pr=Nl,on=Xo,$t=Jo,xa=no,fs=Mi,yo=Bl,Hi=io,Wi=Rl,di=ha,Vi=ao,Aa=as,Gi=is,pi=On,bo=Jn,sn=ql,An[0]=Dn,An[1]=Ll,An[2]=Il,An[3]=Fl,An[4]=Zo,An[5]=ca,An[6]=es,An[7]=eo,An[8]=jl,An[9]=El,vi[0]=Ko,vi[1]=Pl,vi[2]=Yn,vi[3]=la,vi[4]=br,vi[5]=Cl,vi[6]=Qo,Zn[0]=li,Zn[1]=kl,Zn[2]=Dl,Zn[3]=to,Zn[4]=Ti,Zn[5]=Ol,Zn[6]=ro,d=1}else d=0}d&&(d=function(Z,Ae){for(Z.M=0;Z.M<Z.Va;++Z.M){var me,$=Z.Jc[Z.M&Z.Xb],K=Z.m,we=Z;for(me=0;me<we.za;++me){var Le=K,xe=we,Me=xe.Ac,Oe=xe.Bc+4*me,Qe=xe.zc,Re=xe.ya[xe.aa+me];if(xe.Qa.Bb?Re.$b=ne(Le,xe.Pa.jb[0])?2+ne(Le,xe.Pa.jb[2]):ne(Le,xe.Pa.jb[1]):Re.$b=0,xe.kc&&(Re.Ad=ne(Le,xe.Bd)),Re.Za=!ne(Le,145)+0,Re.Za){var xt=Re.Ob,Nt=0;for(xe=0;4>xe;++xe){var _t,mt=Qe[0+xe];for(_t=0;4>_t;++_t){mt=Uh[Me[Oe+_t]][mt];for(var Ct=lc[ne(Le,mt[0])];0<Ct;)Ct=lc[2*Ct+ne(Le,mt[Ct])];mt=-Ct,Me[Oe+_t]=mt}n(xt,Nt,Me,Oe,4),Nt+=4,Qe[0+xe]=mt}}else mt=ne(Le,156)?ne(Le,128)?1:3:ne(Le,163)?2:0,Re.Ob[0]=mt,a(Me,Oe,mt,4),a(Qe,0,mt,4);Re.Dd=ne(Le,142)?ne(Le,114)?ne(Le,183)?1:3:2:0}if(we.m.Ka)return Jt(Z,7,"Premature end-of-partition0 encountered.");for(;Z.ja<Z.za;++Z.ja){if(we=$,Le=(K=Z).rb[K.sb-1],Me=K.rb[K.sb+K.ja],me=K.ya[K.aa+K.ja],Oe=K.kc?me.Ad:0)Le.la=Me.la=0,me.Za||(Le.Na=Me.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var kt,ct;if(Le=Me,Me=we,Oe=K.Pa.Xc,Qe=K.ya[K.aa+K.ja],Re=K.pb[Qe.$b],xe=Qe.ad,xt=0,Nt=K.rb[K.sb-1],mt=_t=0,a(xe,xt,0,384),Qe.Za)var rr=0,Tr=Oe[3];else{Ct=i(16);var nr=Le.Na+Nt.Na;if(nr=_o(Me,Oe[1],nr,Re.Eb,0,Ct,0),Le.Na=Nt.Na=(0<nr)+0,1<nr)_a(Ct,0,xe,xt);else{var Mr=Ct[0]+3>>3;for(Ct=0;256>Ct;Ct+=16)xe[xt+Ct]=Mr}rr=1,Tr=Oe[0]}var St=15&Le.la,Xr=15&Nt.la;for(Ct=0;4>Ct;++Ct){var Kr=1&Xr;for(Mr=ct=0;4>Mr;++Mr)St=St>>1|(Kr=(nr=_o(Me,Tr,nr=Kr+(1&St),Re.Sc,rr,xe,xt))>rr)<<7,ct=ct<<2|(3<nr?3:1<nr?2:xe[xt+0]!=0),xt+=16;St>>=4,Xr=Xr>>1|Kr<<7,_t=(_t<<8|ct)>>>0}for(Tr=St,rr=Xr>>4,kt=0;4>kt;kt+=2){for(ct=0,St=Le.la>>4+kt,Xr=Nt.la>>4+kt,Ct=0;2>Ct;++Ct){for(Kr=1&Xr,Mr=0;2>Mr;++Mr)nr=Kr+(1&St),St=St>>1|(Kr=0<(nr=_o(Me,Oe[2],nr,Re.Qc,0,xe,xt)))<<3,ct=ct<<2|(3<nr?3:1<nr?2:xe[xt+0]!=0),xt+=16;St>>=2,Xr=Xr>>1|Kr<<5}mt|=ct<<4*kt,Tr|=St<<4<<kt,rr|=(240&Xr)<<kt}Le.la=Tr,Nt.la=rr,Qe.Hc=_t,Qe.Gc=mt,Qe.ia=43690&mt?0:Re.ia,Oe=!(_t|mt)}if(0<K.L&&(K.wa[K.Y+K.ja]=K.gd[me.$b][me.Za],K.wa[K.Y+K.ja].La|=!Oe),we.Ka)return Jt(Z,7,"Premature end-of-file encountered.")}if(Ka(Z),K=Ae,we=1,me=($=Z).D,Le=0<$.L&&$.M>=$.zb&&$.M<=$.Va,$.Aa==0)e:{if(me.M=$.M,me.uc=Le,fo($,me),we=1,me=(ct=$.D).Nb,Le=(mt=_s[$.L])*$.R,Me=mt/2*$.B,Ct=16*me*$.R,Mr=8*me*$.B,Oe=$.sa,Qe=$.ta-Le+Ct,Re=$.qa,xe=$.ra-Me+Mr,xt=$.Ha,Nt=$.Ia-Me+Mr,Xr=(St=ct.M)==0,_t=St>=$.Va-1,$.Aa==2&&fo($,ct),ct.uc)for(Kr=(nr=$).D.M,e(nr.D.uc),ct=nr.yb;ct<nr.Hb;++ct){rr=ct,Tr=Kr;var ur=(gr=(Vt=nr).D).Nb;kt=Vt.R;var gr=gr.wa[gr.Y+rr],Cr=Vt.sa,fn=Vt.ta+16*ur*kt+16*rr,Rn=gr.dd,cr=gr.tc;if(cr!=0)if(e(3<=cr),Vt.L==1)0<rr&&pi(Cr,fn,kt,cr+4),gr.La&&sn(Cr,fn,kt,cr),0<Tr&&Gi(Cr,fn,kt,cr+4),gr.La&&bo(Cr,fn,kt,cr);else{var ei=Vt.B,Yi=Vt.qa,Sa=Vt.ra+8*ur*ei+8*rr,mi=Vt.Ha,Vt=Vt.Ia+8*ur*ei+8*rr;ur=gr.ld,0<rr&&(fs(Cr,fn,kt,cr+4,Rn,ur),Hi(Yi,Sa,mi,Vt,ei,cr+4,Rn,ur)),gr.La&&(di(Cr,fn,kt,cr,Rn,ur),Aa(Yi,Sa,mi,Vt,ei,cr,Rn,ur)),0<Tr&&(xa(Cr,fn,kt,cr+4,Rn,ur),yo(Yi,Sa,mi,Vt,ei,cr+4,Rn,ur)),gr.La&&(Wi(Cr,fn,kt,cr,Rn,ur),Vi(Yi,Sa,mi,Vt,ei,cr,Rn,ur))}}if($.ia&&alert("todo:DitherRow"),K.put!=null){if(ct=16*St,St=16*(St+1),Xr?(K.y=$.sa,K.O=$.ta+Ct,K.f=$.qa,K.N=$.ra+Mr,K.ea=$.Ha,K.W=$.Ia+Mr):(ct-=mt,K.y=Oe,K.O=Qe,K.f=Re,K.N=xe,K.ea=xt,K.W=Nt),_t||(St-=mt),St>K.o&&(St=K.o),K.F=null,K.J=null,$.Fa!=null&&0<$.Fa.length&&ct<St&&(K.J=uo($,K,ct,St-ct),K.F=$.mb,K.F==null&&K.F.length==0)){we=Jt($,3,"Could not decode alpha data.");break e}ct<K.j&&(mt=K.j-ct,ct=K.j,e(!(1&mt)),K.O+=$.R*mt,K.N+=$.B*(mt>>1),K.W+=$.B*(mt>>1),K.F!=null&&(K.J+=K.width*mt)),ct<St&&(K.O+=K.v,K.N+=K.v>>1,K.W+=K.v>>1,K.F!=null&&(K.J+=K.v),K.ka=ct-K.j,K.U=K.va-K.v,K.T=St-ct,we=K.put(K))}me+1!=$.Ic||_t||(n($.sa,$.ta-Le,Oe,Qe+16*$.R,Le),n($.qa,$.ra-Me,Re,xe+8*$.B,Me),n($.Ha,$.Ia-Me,xt,Nt+8*$.B,Me))}if(!we)return Jt(Z,6,"Output aborted.")}return 1}(o,l)),l.bc!=null&&l.bc(l),d&=1}return d?(o.cb=0,d):0}function wn(o,l,d,m,b){b=o[l+d+32*m]+(b>>3),o[l+d+32*m]=-256&b?0>b?0:255:b}function sa(o,l,d,m,b,A){wn(o,l,0,d,m+b),wn(o,l,1,d,m+A),wn(o,l,2,d,m-A),wn(o,l,3,d,m-b)}function qr(o){return(20091*o>>16)+o}function Qa(o,l,d,m){var b,A=0,N=i(16);for(b=0;4>b;++b){var k=o[l+0]+o[l+8],P=o[l+0]-o[l+8],D=(35468*o[l+4]>>16)-qr(o[l+12]),J=qr(o[l+4])+(35468*o[l+12]>>16);N[A+0]=k+J,N[A+1]=P+D,N[A+2]=P-D,N[A+3]=k-J,A+=4,l++}for(b=A=0;4>b;++b)k=(o=N[A+0]+4)+N[A+8],P=o-N[A+8],D=(35468*N[A+4]>>16)-qr(N[A+12]),wn(d,m,0,0,k+(J=qr(N[A+4])+(35468*N[A+12]>>16))),wn(d,m,1,0,P+D),wn(d,m,2,0,P-D),wn(d,m,3,0,k-J),A++,m+=32}function Jo(o,l,d,m){var b=o[l+0]+4,A=35468*o[l+4]>>16,N=qr(o[l+4]),k=35468*o[l+1]>>16;sa(d,m,0,b+N,o=qr(o[l+1]),k),sa(d,m,1,b+A,o,k),sa(d,m,2,b-A,o,k),sa(d,m,3,b-N,o,k)}function Al(o,l,d,m,b){Qa(o,l,d,m),b&&Qa(o,l+16,d,m+4)}function $o(o,l,d,m){Kn(o,l+0,d,m,1),Kn(o,l+32,d,m+128,1)}function Nl(o,l,d,m){var b;for(o=o[l+0]+4,b=0;4>b;++b)for(l=0;4>l;++l)wn(d,m,l,b,o)}function Xo(o,l,d,m){o[l+0]&&Pr(o,l+0,d,m),o[l+16]&&Pr(o,l+16,d,m+4),o[l+32]&&Pr(o,l+32,d,m+128),o[l+48]&&Pr(o,l+48,d,m+128+4)}function Sl(o,l,d,m){var b,A=i(16);for(b=0;4>b;++b){var N=o[l+0+b]+o[l+12+b],k=o[l+4+b]+o[l+8+b],P=o[l+4+b]-o[l+8+b],D=o[l+0+b]-o[l+12+b];A[0+b]=N+k,A[8+b]=N-k,A[4+b]=D+P,A[12+b]=D-P}for(b=0;4>b;++b)N=(o=A[0+4*b]+3)+A[3+4*b],k=A[1+4*b]+A[2+4*b],P=A[1+4*b]-A[2+4*b],D=o-A[3+4*b],d[m+0]=N+k>>3,d[m+16]=D+P>>3,d[m+32]=N-k>>3,d[m+48]=D-P>>3,m+=64}function Za(o,l,d){var m,b=l-32,A=$r,N=255-o[b-1];for(m=0;m<d;++m){var k,P=A,D=N+o[l-1];for(k=0;k<d;++k)o[l+k]=P[D+o[b+k]];l+=32}}function Ll(o,l){Za(o,l,4)}function kl(o,l){Za(o,l,8)}function Pl(o,l){Za(o,l,16)}function Yn(o,l){var d;for(d=0;16>d;++d)n(o,l+32*d,o,l-32,16)}function la(o,l){var d;for(d=16;0<d;--d)a(o,l,o[l-1],16),l+=32}function ua(o,l,d){var m;for(m=0;16>m;++m)a(l,d+32*m,o,16)}function Ko(o,l){var d,m=16;for(d=0;16>d;++d)m+=o[l-1+32*d]+o[l+d-32];ua(m>>5,o,l)}function br(o,l){var d,m=8;for(d=0;16>d;++d)m+=o[l-1+32*d];ua(m>>4,o,l)}function Cl(o,l){var d,m=8;for(d=0;16>d;++d)m+=o[l+d-32];ua(m>>4,o,l)}function Qo(o,l){ua(128,o,l)}function it(o,l,d){return o+2*l+d+2>>2}function Il(o,l){var d,m=l-32;for(m=new Uint8Array([it(o[m-1],o[m+0],o[m+1]),it(o[m+0],o[m+1],o[m+2]),it(o[m+1],o[m+2],o[m+3]),it(o[m+2],o[m+3],o[m+4])]),d=0;4>d;++d)n(o,l+32*d,m,0,m.length)}function Fl(o,l){var d=o[l-1],m=o[l-1+32],b=o[l-1+64],A=o[l-1+96];Ce(o,l+0,16843009*it(o[l-1-32],d,m)),Ce(o,l+32,16843009*it(d,m,b)),Ce(o,l+64,16843009*it(m,b,A)),Ce(o,l+96,16843009*it(b,A,A))}function Dn(o,l){var d,m=4;for(d=0;4>d;++d)m+=o[l+d-32]+o[l-1+32*d];for(m>>=3,d=0;4>d;++d)a(o,l+32*d,m,4)}function Zo(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],A=o[l-1-32],N=o[l+0-32],k=o[l+1-32],P=o[l+2-32],D=o[l+3-32];o[l+0+96]=it(m,b,o[l-1+96]),o[l+1+96]=o[l+0+64]=it(d,m,b),o[l+2+96]=o[l+1+64]=o[l+0+32]=it(A,d,m),o[l+3+96]=o[l+2+64]=o[l+1+32]=o[l+0+0]=it(N,A,d),o[l+3+64]=o[l+2+32]=o[l+1+0]=it(k,N,A),o[l+3+32]=o[l+2+0]=it(P,k,N),o[l+3+0]=it(D,P,k)}function es(o,l){var d=o[l+1-32],m=o[l+2-32],b=o[l+3-32],A=o[l+4-32],N=o[l+5-32],k=o[l+6-32],P=o[l+7-32];o[l+0+0]=it(o[l+0-32],d,m),o[l+1+0]=o[l+0+32]=it(d,m,b),o[l+2+0]=o[l+1+32]=o[l+0+64]=it(m,b,A),o[l+3+0]=o[l+2+32]=o[l+1+64]=o[l+0+96]=it(b,A,N),o[l+3+32]=o[l+2+64]=o[l+1+96]=it(A,N,k),o[l+3+64]=o[l+2+96]=it(N,k,P),o[l+3+96]=it(k,P,P)}function ca(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],A=o[l-1-32],N=o[l+0-32],k=o[l+1-32],P=o[l+2-32],D=o[l+3-32];o[l+0+0]=o[l+1+64]=A+N+1>>1,o[l+1+0]=o[l+2+64]=N+k+1>>1,o[l+2+0]=o[l+3+64]=k+P+1>>1,o[l+3+0]=P+D+1>>1,o[l+0+96]=it(b,m,d),o[l+0+64]=it(m,d,A),o[l+0+32]=o[l+1+96]=it(d,A,N),o[l+1+32]=o[l+2+96]=it(A,N,k),o[l+2+32]=o[l+3+96]=it(N,k,P),o[l+3+32]=it(k,P,D)}function eo(o,l){var d=o[l+0-32],m=o[l+1-32],b=o[l+2-32],A=o[l+3-32],N=o[l+4-32],k=o[l+5-32],P=o[l+6-32],D=o[l+7-32];o[l+0+0]=d+m+1>>1,o[l+1+0]=o[l+0+64]=m+b+1>>1,o[l+2+0]=o[l+1+64]=b+A+1>>1,o[l+3+0]=o[l+2+64]=A+N+1>>1,o[l+0+32]=it(d,m,b),o[l+1+32]=o[l+0+96]=it(m,b,A),o[l+2+32]=o[l+1+96]=it(b,A,N),o[l+3+32]=o[l+2+96]=it(A,N,k),o[l+3+64]=it(N,k,P),o[l+3+96]=it(k,P,D)}function El(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],A=o[l-1+96];o[l+0+0]=d+m+1>>1,o[l+2+0]=o[l+0+32]=m+b+1>>1,o[l+2+32]=o[l+0+64]=b+A+1>>1,o[l+1+0]=it(d,m,b),o[l+3+0]=o[l+1+32]=it(m,b,A),o[l+3+32]=o[l+1+64]=it(b,A,A),o[l+3+64]=o[l+2+64]=o[l+0+96]=o[l+1+96]=o[l+2+96]=o[l+3+96]=A}function jl(o,l){var d=o[l-1+0],m=o[l-1+32],b=o[l-1+64],A=o[l-1+96],N=o[l-1-32],k=o[l+0-32],P=o[l+1-32],D=o[l+2-32];o[l+0+0]=o[l+2+32]=d+N+1>>1,o[l+0+32]=o[l+2+64]=m+d+1>>1,o[l+0+64]=o[l+2+96]=b+m+1>>1,o[l+0+96]=A+b+1>>1,o[l+3+0]=it(k,P,D),o[l+2+0]=it(N,k,P),o[l+1+0]=o[l+3+32]=it(d,N,k),o[l+1+32]=o[l+3+64]=it(m,d,N),o[l+1+64]=o[l+3+96]=it(b,m,d),o[l+1+96]=it(A,b,m)}function Dl(o,l){var d;for(d=0;8>d;++d)n(o,l+32*d,o,l-32,8)}function to(o,l){var d;for(d=0;8>d;++d)a(o,l,o[l-1],8),l+=32}function Bi(o,l,d){var m;for(m=0;8>m;++m)a(l,d+32*m,o,8)}function li(o,l){var d,m=8;for(d=0;8>d;++d)m+=o[l+d-32]+o[l-1+32*d];Bi(m>>4,o,l)}function Ol(o,l){var d,m=4;for(d=0;8>d;++d)m+=o[l+d-32];Bi(m>>3,o,l)}function Ti(o,l){var d,m=4;for(d=0;8>d;++d)m+=o[l-1+32*d];Bi(m>>3,o,l)}function ro(o,l){Bi(128,o,l)}function fa(o,l,d){var m=o[l-d],b=o[l+0],A=3*(b-m)+zl[1020+o[l-2*d]-o[l+d]],N=ds[112+(A+4>>3)];o[l-d]=$r[255+m+ds[112+(A+3>>3)]],o[l+0]=$r[255+b-N]}function ts(o,l,d,m){var b=o[l+0],A=o[l+d];return un[255+o[l-2*d]-o[l-d]]>m||un[255+A-b]>m}function rs(o,l,d,m){return 4*un[255+o[l-d]-o[l+0]]+un[255+o[l-2*d]-o[l+d]]<=m}function ns(o,l,d,m,b){var A=o[l-3*d],N=o[l-2*d],k=o[l-d],P=o[l+0],D=o[l+d],J=o[l+2*d],le=o[l+3*d];return 4*un[255+k-P]+un[255+N-D]>m?0:un[255+o[l-4*d]-A]<=b&&un[255+A-N]<=b&&un[255+N-k]<=b&&un[255+le-J]<=b&&un[255+J-D]<=b&&un[255+D-P]<=b}function is(o,l,d,m){var b=2*m+1;for(m=0;16>m;++m)rs(o,l+m,d,b)&&fa(o,l+m,d)}function On(o,l,d,m){var b=2*m+1;for(m=0;16>m;++m)rs(o,l+m*d,1,b)&&fa(o,l+m*d,1)}function Jn(o,l,d,m){var b;for(b=3;0<b;--b)is(o,l+=4*d,d,m)}function ql(o,l,d,m){var b;for(b=3;0<b;--b)On(o,l+=4,d,m)}function ui(o,l,d,m,b,A,N,k){for(A=2*A+1;0<b--;){if(ns(o,l,d,A,N))if(ts(o,l,d,k))fa(o,l,d);else{var P=o,D=l,J=d,le=P[D-2*J],ue=P[D-J],Z=P[D+0],Ae=P[D+J],me=P[D+2*J],$=27*(we=zl[1020+3*(Z-ue)+zl[1020+le-Ae]])+63>>7,K=18*we+63>>7,we=9*we+63>>7;P[D-3*J]=$r[255+P[D-3*J]+we],P[D-2*J]=$r[255+le+K],P[D-J]=$r[255+ue+$],P[D+0]=$r[255+Z-$],P[D+J]=$r[255+Ae-K],P[D+2*J]=$r[255+me-we]}l+=m}}function _n(o,l,d,m,b,A,N,k){for(A=2*A+1;0<b--;){if(ns(o,l,d,A,N))if(ts(o,l,d,k))fa(o,l,d);else{var P=o,D=l,J=d,le=P[D-J],ue=P[D+0],Z=P[D+J],Ae=ds[112+((me=3*(ue-le))+4>>3)],me=ds[112+(me+3>>3)],$=Ae+1>>1;P[D-2*J]=$r[255+P[D-2*J]+$],P[D-J]=$r[255+le+me],P[D+0]=$r[255+ue-Ae],P[D+J]=$r[255+Z-$]}l+=m}}function no(o,l,d,m,b,A){ui(o,l,d,1,16,m,b,A)}function Mi(o,l,d,m,b,A){ui(o,l,1,d,16,m,b,A)}function Rl(o,l,d,m,b,A){var N;for(N=3;0<N;--N)_n(o,l+=4*d,d,1,16,m,b,A)}function ha(o,l,d,m,b,A){var N;for(N=3;0<N;--N)_n(o,l+=4,1,d,16,m,b,A)}function Bl(o,l,d,m,b,A,N,k){ui(o,l,b,1,8,A,N,k),ui(d,m,b,1,8,A,N,k)}function io(o,l,d,m,b,A,N,k){ui(o,l,1,b,8,A,N,k),ui(d,m,1,b,8,A,N,k)}function ao(o,l,d,m,b,A,N,k){_n(o,l+4*b,b,1,8,A,N,k),_n(d,m+4*b,b,1,8,A,N,k)}function as(o,l,d,m,b,A,N,k){_n(o,l+4,1,b,8,A,N,k),_n(d,m+4,1,b,8,A,N,k)}function da(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function so(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function os(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new F}function Tl(){this.xb=this.a=0,this.l=new oa,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new os,this.ab=0,this.gc=s(4,so),this.Oc=0}function pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zi(o,l,d,m,b,A,N){for(o=o==null?0:o[l+0],l=0;l<N;++l)b[A+l]=o+d[m+l]&255,o=b[A+l]}function lo(o,l,d,m,b,A,N){var k;if(o==null)zi(null,null,d,m,b,A,N);else for(k=0;k<N;++k)b[A+k]=o[l+k]+d[m+k]&255}function ci(o,l,d,m,b,A,N){if(o==null)zi(null,null,d,m,b,A,N);else{var k,P=o[l+0],D=P,J=P;for(k=0;k<N;++k)D=J+(P=o[l+k])-D,J=d[m+k]+(-256&D?0>D?0:255:D)&255,D=P,b[A+k]=J}}function uo(o,l,d,m){var b=l.width,A=l.o;if(e(o!=null&&l!=null),0>d||0>=m||d+m>A)return null;if(!o.Cc){if(o.ga==null){var N;if(o.ga=new pa,(N=o.ga==null)||(N=l.width*l.o,e(o.Gb.length==0),o.Gb=i(N),o.Uc=0,o.Gb==null?N=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,N=1),N=!N),!N){N=o.ga;var k=o.Fa,P=o.P,D=o.qc,J=o.mb,le=o.nb,ue=P+1,Z=D-1,Ae=N.l;if(e(k!=null&&J!=null&&l!=null),gi[0]=null,gi[1]=zi,gi[2]=lo,gi[3]=ci,N.ca=J,N.tb=le,N.c=l.width,N.i=l.height,e(0<N.c&&0<N.i),1>=D)l=0;else if(N.$a=k[P+0]>>0&3,N.Z=k[P+0]>>2&3,N.Lc=k[P+0]>>4&3,P=k[P+0]>>6&3,0>N.$a||1<N.$a||4<=N.Z||1<N.Lc||P)l=0;else if(Ae.put=mr,Ae.ac=Pt,Ae.bc=Dr,Ae.ma=N,Ae.width=l.width,Ae.height=l.height,Ae.Da=l.Da,Ae.v=l.v,Ae.va=l.va,Ae.j=l.j,Ae.o=l.o,N.$a)e:{e(N.$a==1),l=nn();t:for(;;){if(l==null){l=0;break e}if(e(N!=null),N.mc=l,l.c=N.c,l.i=N.i,l.l=N.l,l.l.ma=N,l.l.width=N.c,l.l.height=N.i,l.a=0,te(l.m,k,ue,Z),!jn(N.c,N.i,1,l,null)||(l.ab==1&&l.gc[0].hc==3&&rn(l.s)?(N.ic=1,k=l.c*l.i,l.Ta=null,l.Ua=0,l.V=i(k),l.Ba=0,l.V==null?(l.a=1,l=0):l=1):(N.ic=0,l=Ri(l,N.c)),!l))break t;l=1;break e}N.mc=null,l=0}else l=Z>=N.c*N.i;N=!l}if(N)return null;o.ga.Lc!=1?o.Ga=0:m=A-d}e(o.ga!=null),e(d+m<=A);e:{if(l=(k=o.ga).c,A=k.l.o,k.$a==0){if(ue=o.rc,Z=o.Vc,Ae=o.Fa,P=o.P+1+d*l,D=o.mb,J=o.nb+d*l,e(P<=o.P+o.qc),k.Z!=0)for(e(gi[k.Z]!=null),N=0;N<m;++N)gi[k.Z](ue,Z,Ae,P,D,J,l),ue=D,Z=J,J+=l,P+=l;else for(N=0;N<m;++N)n(D,J,Ae,P,l),ue=D,Z=J,J+=l,P+=l;o.rc=ue,o.Vc=Z}else{if(e(k.mc!=null),l=d+m,e((N=k.mc)!=null),e(l<=N.i),N.C>=l)l=1;else if(k.ic||ie(),k.ic){k=N.V,ue=N.Ba,Z=N.c;var me=N.i,$=(Ae=1,P=N.$/Z,D=N.$%Z,J=N.m,le=N.s,N.$),K=Z*me,we=Z*l,Le=le.wc,xe=$<we?Tt(le,D,P):null;e($<=K),e(l<=me),e(rn(le));t:for(;;){for(;!J.h&&$<we;){if(D&Le||(xe=Tt(le,D,P)),e(xe!=null),X(J),256>(me=or(xe.G[0],xe.H[0],J)))k[ue+$]=me,++$,++D>=Z&&(D=0,++P<=l&&!(P%16)&&Yr(N,P));else{if(!(280>me)){Ae=0;break t}me=yr(me-256,J);var Me,Oe=or(xe.G[4],xe.H[4],J);if(X(J),!($>=(Oe=Lr(Z,Oe=yr(Oe,J)))&&K-$>=me)){Ae=0;break t}for(Me=0;Me<me;++Me)k[ue+$+Me]=k[ue+$+Me-Oe];for($+=me,D+=me;D>=Z;)D-=Z,++P<=l&&!(P%16)&&Yr(N,P);$<we&&D&Le&&(xe=Tt(le,D,P))}e(J.h==q(J))}Yr(N,P>l?l:P);break t}!Ae||J.h&&$<K?(Ae=0,N.a=J.h?5:3):N.$=$,l=Ae}else l=bn(N,N.V,N.Ba,N.c,N.i,l,ta);if(!l){m=0;break e}}d+m>=A&&(o.Cc=1),m=1}if(!m)return null;if(o.Cc&&((m=o.ga)!=null&&(m.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+d*b}function f(o,l,d,m,b,A){for(;0<b--;){var N,k=o,P=l+(d?1:0),D=o,J=l+(d?0:3);for(N=0;N<m;++N){var le=D[J+4*N];le!=255&&(le*=32897,k[P+4*N+0]=k[P+4*N+0]*le>>23,k[P+4*N+1]=k[P+4*N+1]*le>>23,k[P+4*N+2]=k[P+4*N+2]*le>>23)}l+=A}}function w(o,l,d,m,b){for(;0<m--;){var A;for(A=0;A<d;++A){var N=o[l+2*A+0],k=15&(D=o[l+2*A+1]),P=4369*k,D=(240&D|D>>4)*P>>16;o[l+2*A+0]=(240&N|N>>4)*P>>16&240|(15&N|N<<4)*P>>16>>4&15,o[l+2*A+1]=240&D|k}l+=b}}function R(o,l,d,m,b,A,N,k){var P,D,J=255;for(D=0;D<b;++D){for(P=0;P<m;++P){var le=o[l+P];A[N+4*P]=le,J&=le}l+=d,N+=k}return J!=255}function G(o,l,d,m,b){var A;for(A=0;A<b;++A)d[m+A]=o[l+A]>>8}function ie(){ln=f,qt=w,Rt=R,Xt=G}function be(o,l,d){B[o]=function(m,b,A,N,k,P,D,J,le,ue,Z,Ae,me,$,K,we,Le){var xe,Me=Le-1>>1,Oe=k[P+0]|D[J+0]<<16,Qe=le[ue+0]|Z[Ae+0]<<16;e(m!=null);var Re=3*Oe+Qe+131074>>2;for(l(m[b+0],255&Re,Re>>16,me,$),A!=null&&(Re=3*Qe+Oe+131074>>2,l(A[N+0],255&Re,Re>>16,K,we)),xe=1;xe<=Me;++xe){var xt=k[P+xe]|D[J+xe]<<16,Nt=le[ue+xe]|Z[Ae+xe]<<16,_t=Oe+xt+Qe+Nt+524296,mt=_t+2*(xt+Qe)>>3;Re=mt+Oe>>1,Oe=(_t=_t+2*(Oe+Nt)>>3)+xt>>1,l(m[b+2*xe-1],255&Re,Re>>16,me,$+(2*xe-1)*d),l(m[b+2*xe-0],255&Oe,Oe>>16,me,$+(2*xe-0)*d),A!=null&&(Re=_t+Qe>>1,Oe=mt+Nt>>1,l(A[N+2*xe-1],255&Re,Re>>16,K,we+(2*xe-1)*d),l(A[N+2*xe+0],255&Oe,Oe>>16,K,we+(2*xe+0)*d)),Oe=xt,Qe=Nt}1&Le||(Re=3*Oe+Qe+131074>>2,l(m[b+Le-1],255&Re,Re>>16,me,$+(Le-1)*d),A!=null&&(Re=3*Qe+Oe+131074>>2,l(A[N+Le-1],255&Re,Re>>16,K,we+(Le-1)*d)))}}function Pe(){cn[ps]=Gh,cn[vs]=cc,cn[ac]=Yh,cn[gs]=fc,cn[ms]=hc,cn[Ul]=dc,cn[oc]=Jh,cn[Hl]=cc,cn[Wl]=fc,cn[ys]=hc,cn[Vl]=dc}function Te(o){return o&-16384?0>o?0:255:o>>$h}function $e(o,l){return Te((19077*o>>8)+(26149*l>>8)-14234)}function lt(o,l,d){return Te((19077*o>>8)-(6419*l>>8)-(13320*d>>8)+8708)}function ot(o,l){return Te((19077*o>>8)+(33050*l>>8)-17685)}function bt(o,l,d,m,b){m[b+0]=$e(o,d),m[b+1]=lt(o,l,d),m[b+2]=ot(o,l)}function Ht(o,l,d,m,b){m[b+0]=ot(o,l),m[b+1]=lt(o,l,d),m[b+2]=$e(o,d)}function Wt(o,l,d,m,b){var A=lt(o,l,d);l=A<<3&224|ot(o,l)>>3,m[b+0]=248&$e(o,d)|A>>5,m[b+1]=l}function tr(o,l,d,m,b){var A=240&ot(o,l)|15;m[b+0]=240&$e(o,d)|lt(o,l,d)>>4,m[b+1]=A}function wr(o,l,d,m,b){m[b+0]=255,bt(o,l,d,m,b+1)}function lr(o,l,d,m,b){Ht(o,l,d,m,b),m[b+3]=255}function xn(o,l,d,m,b){bt(o,l,d,m,b),m[b+3]=255}function Jr(o,l){return 0>o?0:o>l?l:o}function qn(o,l,d){B[o]=function(m,b,A,N,k,P,D,J,le){for(var ue=J+(-2&le)*d;J!=ue;)l(m[b+0],A[N+0],k[P+0],D,J),l(m[b+1],A[N+0],k[P+0],D,J+d),b+=2,++N,++P,J+=2*d;1&le&&l(m[b+0],A[N+0],k[P+0],D,J)}}function ss(o,l,d){return d==0?o==0?l==0?6:5:l==0?4:0:d}function co(o,l,d,m,b){switch(o>>>30){case 3:Kn(l,d,m,b,0);break;case 2:$t(l,d,m,b);break;case 1:Pr(l,d,m,b)}}function fo(o,l){var d,m,b=l.M,A=l.Nb,N=o.oc,k=o.pc+40,P=o.oc,D=o.pc+584,J=o.oc,le=o.pc+600;for(d=0;16>d;++d)N[k+32*d-1]=129;for(d=0;8>d;++d)P[D+32*d-1]=129,J[le+32*d-1]=129;for(0<b?N[k-1-32]=P[D-1-32]=J[le-1-32]=129:(a(N,k-32-1,127,21),a(P,D-32-1,127,9),a(J,le-32-1,127,9)),m=0;m<o.za;++m){var ue=l.ya[l.aa+m];if(0<m){for(d=-1;16>d;++d)n(N,k+32*d-4,N,k+32*d+12,4);for(d=-1;8>d;++d)n(P,D+32*d-4,P,D+32*d+4,4),n(J,le+32*d-4,J,le+32*d+4,4)}var Z=o.Gd,Ae=o.Hd+m,me=ue.ad,$=ue.Hc;if(0<b&&(n(N,k-32,Z[Ae].y,0,16),n(P,D-32,Z[Ae].f,0,8),n(J,le-32,Z[Ae].ea,0,8)),ue.Za){var K=N,we=k-32+16;for(0<b&&(m>=o.za-1?a(K,we,Z[Ae].y[15],4):n(K,we,Z[Ae+1].y,0,4)),d=0;4>d;d++)K[we+128+d]=K[we+256+d]=K[we+384+d]=K[we+0+d];for(d=0;16>d;++d,$<<=2)K=N,we=k+vc[d],An[ue.Ob[d]](K,we),co($,me,16*+d,K,we)}else if(K=ss(m,b,ue.Ob[0]),vi[K](N,k),$!=0)for(d=0;16>d;++d,$<<=2)co($,me,16*+d,N,k+vc[d]);for(d=ue.Gc,K=ss(m,b,ue.Dd),Zn[K](P,D),Zn[K](J,le),$=me,K=P,we=D,255&(ue=d>>0)&&(170&ue?mo($,256,K,we):on($,256,K,we)),ue=J,$=le,255&(d>>=8)&&(170&d?mo(me,320,ue,$):on(me,320,ue,$)),b<o.Ub-1&&(n(Z[Ae].y,0,N,k+480,16),n(Z[Ae].f,0,P,D+224,8),n(Z[Ae].ea,0,J,le+224,8)),d=8*A*o.B,Z=o.sa,Ae=o.ta+16*m+16*A*o.R,me=o.qa,ue=o.ra+8*m+d,$=o.Ha,K=o.Ia+8*m+d,d=0;16>d;++d)n(Z,Ae+d*o.R,N,k+32*d,16);for(d=0;8>d;++d)n(me,ue+d*o.B,P,D+32*d,8),n($,K+d*o.B,J,le+32*d,8)}}function va(o,l,d,m,b,A,N,k,P){var D=[0],J=[0],le=0,ue=P!=null?P.kd:0,Z=P??new oo;if(o==null||12>d)return 7;Z.data=o,Z.w=l,Z.ha=d,l=[l],d=[d],Z.gb=[Z.gb];e:{var Ae=l,me=d,$=Z.gb;if(e(o!=null),e(me!=null),e($!=null),$[0]=0,12<=me[0]&&!r(o,Ae[0],"RIFF")){if(r(o,Ae[0]+8,"WEBP")){$=3;break e}var K=Fe(o,Ae[0]+4);if(12>K||4294967286<K){$=3;break e}if(ue&&K>me[0]-8){$=7;break e}$[0]=K,Ae[0]+=12,me[0]-=12}$=0}if($!=0)return $;for(K=0<Z.gb[0],d=d[0];;){e:{var we=o;me=l,$=d;var Le=D,xe=J,Me=Ae=[0];if((Re=le=[le])[0]=0,8>$[0])$=7;else{if(!r(we,me[0],"VP8X")){if(Fe(we,me[0]+4)!=10){$=3;break e}if(18>$[0]){$=7;break e}var Oe=Fe(we,me[0]+8),Qe=1+je(we,me[0]+12);if(2147483648<=Qe*(we=1+je(we,me[0]+15))){$=3;break e}Me!=null&&(Me[0]=Oe),Le!=null&&(Le[0]=Qe),xe!=null&&(xe[0]=we),me[0]+=18,$[0]-=18,Re[0]=1}$=0}}if(le=le[0],Ae=Ae[0],$!=0)return $;if(me=!!(2&Ae),!K&&le)return 3;if(A!=null&&(A[0]=!!(16&Ae)),N!=null&&(N[0]=me),k!=null&&(k[0]=0),N=D[0],Ae=J[0],le&&me&&P==null){$=0;break}if(4>d){$=7;break}if(K&&le||!K&&!le&&!r(o,l[0],"ALPH")){d=[d],Z.na=[Z.na],Z.P=[Z.P],Z.Sa=[Z.Sa];e:{Oe=o,$=l,K=d;var Re=Z.gb;Le=Z.na,xe=Z.P,Me=Z.Sa,Qe=22,e(Oe!=null),e(K!=null),we=$[0];var xt=K[0];for(e(Le!=null),e(Me!=null),Le[0]=null,xe[0]=null,Me[0]=0;;){if($[0]=we,K[0]=xt,8>xt){$=7;break e}var Nt=Fe(Oe,we+4);if(4294967286<Nt){$=3;break e}var _t=8+Nt+1&-2;if(Qe+=_t,0<Re&&Qe>Re){$=3;break e}if(!r(Oe,we,"VP8 ")||!r(Oe,we,"VP8L")){$=0;break e}if(xt[0]<_t){$=7;break e}r(Oe,we,"ALPH")||(Le[0]=Oe,xe[0]=we+8,Me[0]=Nt),we+=_t,xt-=_t}}if(d=d[0],Z.na=Z.na[0],Z.P=Z.P[0],Z.Sa=Z.Sa[0],$!=0)break}d=[d],Z.Ja=[Z.Ja],Z.xa=[Z.xa];e:if(Re=o,$=l,K=d,Le=Z.gb[0],xe=Z.Ja,Me=Z.xa,Oe=$[0],we=!r(Re,Oe,"VP8 "),Qe=!r(Re,Oe,"VP8L"),e(Re!=null),e(K!=null),e(xe!=null),e(Me!=null),8>K[0])$=7;else{if(we||Qe){if(Re=Fe(Re,Oe+4),12<=Le&&Re>Le-12){$=3;break e}if(ue&&Re>K[0]-8){$=7;break e}xe[0]=Re,$[0]+=8,K[0]-=8,Me[0]=Qe}else Me[0]=5<=K[0]&&Re[Oe+0]==47&&!(Re[Oe+4]>>5),xe[0]=K[0];$=0}if(d=d[0],Z.Ja=Z.Ja[0],Z.xa=Z.xa[0],l=l[0],$!=0)break;if(4294967286<Z.Ja)return 3;if(k==null||me||(k[0]=Z.xa?2:1),N=[N],Ae=[Ae],Z.xa){if(5>d){$=7;break}k=N,ue=Ae,me=A,o==null||5>d?o=0:5<=d&&o[l+0]==47&&!(o[l+4]>>5)?(K=[0],Re=[0],Le=[0],te(xe=new x,o,l,d),Je(xe,K,Re,Le)?(k!=null&&(k[0]=K[0]),ue!=null&&(ue[0]=Re[0]),me!=null&&(me[0]=Le[0]),o=1):o=0):o=0}else{if(10>d){$=7;break}k=Ae,o==null||10>d||!Vo(o,l+3,d-3)?o=0:(ue=o[l+0]|o[l+1]<<8|o[l+2]<<16,me=16383&(o[l+7]<<8|o[l+6]),o=16383&(o[l+9]<<8|o[l+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=Z.Ja||!me||!o?o=0:(N&&(N[0]=me),k&&(k[0]=o),o=1))}if(!o||(N=N[0],Ae=Ae[0],le&&(D[0]!=N||J[0]!=Ae)))return 3;P!=null&&(P[0]=Z,P.offset=l-P.w,e(4294967286>l-P.w),e(P.offset==P.ha-d));break}return $==0||$==7&&le&&P==null?(A!=null&&(A[0]|=Z.na!=null&&0<Z.na.length),m!=null&&(m[0]=N),b!=null&&(b[0]=Ae),0):$}function ho(o,l,d){var m=l.width,b=l.height,A=0,N=0,k=m,P=b;if(l.Da=o!=null&&0<o.Da,l.Da&&(k=o.cd,P=o.bd,A=o.v,N=o.j,11>d||(A&=-2,N&=-2),0>A||0>N||0>=k||0>=P||A+k>m||N+P>b))return 0;if(l.v=A,l.j=N,l.va=A+k,l.o=N+P,l.U=k,l.T=P,l.da=o!=null&&0<o.da,l.da){if(!Ye(k,P,d=[o.ib],A=[o.hb]))return 0;l.ib=d[0],l.hb=A[0]}return l.ob=o!=null&&o.ob,l.Kb=o==null||!o.Sd,l.da&&(l.ob=l.ib<3*m/4&&l.hb<3*b/4,l.Kb=0),1}function po(o){if(o==null)return 2;if(11>o.S){var l=o.f.RGBA;l.fb+=(o.height-1)*l.A,l.A=-l.A}else l=o.f.kb,o=o.height,l.O+=(o-1)*l.fa,l.fa=-l.fa,l.N+=(o-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(o-1>>1)*l.Db,l.Db=-l.Db,l.F!=null&&(l.J+=(o-1)*l.lb,l.lb=-l.lb);return 0}function ga(o,l,d,m){if(m==null||0>=o||0>=l)return 2;if(d!=null){if(d.Da){var b=d.cd,A=d.bd,N=-2&d.v,k=-2&d.j;if(0>N||0>k||0>=b||0>=A||N+b>o||k+A>l)return 2;o=b,l=A}if(d.da){if(!Ye(o,l,b=[d.ib],A=[d.hb]))return 2;o=b[0],l=A[0]}}m.width=o,m.height=l;e:{var P=m.width,D=m.height;if(o=m.S,0>=P||0>=D||!(o>=ps&&13>o))o=2;else{if(0>=m.Rd&&m.sd==null){N=A=b=l=0;var J=(k=P*gc[o])*D;if(11>o||(A=(D+1)/2*(l=(P+1)/2),o==12&&(N=(b=P)*D)),(D=i(J+2*A+N))==null){o=1;break e}m.sd=D,11>o?((P=m.f.RGBA).eb=D,P.fb=0,P.A=k,P.size=J):((P=m.f.kb).y=D,P.O=0,P.fa=k,P.Fd=J,P.f=D,P.N=0+J,P.Ab=l,P.Cd=A,P.ea=D,P.W=0+J+A,P.Db=l,P.Ed=A,o==12&&(P.F=D,P.J=0+J+2*A),P.Tc=N,P.lb=b)}if(l=1,b=m.S,A=m.width,N=m.height,b>=ps&&13>b)if(11>b)o=m.f.RGBA,l&=(k=Math.abs(o.A))*(N-1)+A<=o.size,l&=k>=A*gc[b],l&=o.eb!=null;else{o=m.f.kb,k=(A+1)/2,J=(N+1)/2,P=Math.abs(o.fa),D=Math.abs(o.Ab);var le=Math.abs(o.Db),ue=Math.abs(o.lb),Z=ue*(N-1)+A;l&=P*(N-1)+A<=o.Fd,l&=D*(J-1)+k<=o.Cd,l=(l&=le*(J-1)+k<=o.Ed)&P>=A&D>=k&le>=k,l&=o.y!=null,l&=o.f!=null,l&=o.ea!=null,b==12&&(l&=ue>=A,l&=Z<=o.Tc,l&=o.F!=null)}else l=0;o=l?0:2}}return o!=0||d!=null&&d.fd&&(o=po(m)),o}var vr=64,ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ya=24,ba=32,vo=8,Rr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(o){return o},B.Predictor2=function(o,l,d){return l[d+0]},B.Predictor3=function(o,l,d){return l[d+1]},B.Predictor4=function(o,l,d){return l[d-1]},B.Predictor5=function(o,l,d){return Ne(Ne(o,l[d+1]),l[d+0])},B.Predictor6=function(o,l,d){return Ne(o,l[d-1])},B.Predictor7=function(o,l,d){return Ne(o,l[d+0])},B.Predictor8=function(o,l,d){return Ne(l[d-1],l[d+0])},B.Predictor9=function(o,l,d){return Ne(l[d+0],l[d+1])},B.Predictor10=function(o,l,d){return Ne(Ne(o,l[d-1]),Ne(l[d+0],l[d+1]))},B.Predictor11=function(o,l,d){var m=l[d+0];return 0>=Ke(m>>24&255,o>>24&255,(l=l[d-1])>>24&255)+Ke(m>>16&255,o>>16&255,l>>16&255)+Ke(m>>8&255,o>>8&255,l>>8&255)+Ke(255&m,255&o,255&l)?m:o},B.Predictor12=function(o,l,d){var m=l[d+0];return(De((o>>24&255)+(m>>24&255)-((l=l[d-1])>>24&255))<<24|De((o>>16&255)+(m>>16&255)-(l>>16&255))<<16|De((o>>8&255)+(m>>8&255)-(l>>8&255))<<8|De((255&o)+(255&m)-(255&l)))>>>0},B.Predictor13=function(o,l,d){var m=l[d-1];return(Ue((o=Ne(o,l[d+0]))>>24&255,m>>24&255)<<24|Ue(o>>16&255,m>>16&255)<<16|Ue(o>>8&255,m>>8&255)<<8|Ue(o>>0&255,m>>0&255))>>>0};var Ml=B.PredictorAdd0;B.PredictorAdd1=Ze,pe("Predictor2","PredictorAdd2"),pe("Predictor3","PredictorAdd3"),pe("Predictor4","PredictorAdd4"),pe("Predictor5","PredictorAdd5"),pe("Predictor6","PredictorAdd6"),pe("Predictor7","PredictorAdd7"),pe("Predictor8","PredictorAdd8"),pe("Predictor9","PredictorAdd9"),pe("Predictor10","PredictorAdd10"),pe("Predictor11","PredictorAdd11"),pe("Predictor12","PredictorAdd12"),pe("Predictor13","PredictorAdd13");var go=B.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var ls,an=B.ColorIndexInverseTransform,wa=B.MapARGB,us=B.VP8LColorIndexInverseTransformAlpha,cs=B.MapAlpha,fi=B.VP8LPredictorsAdd=[];fi.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Ui,Br,kr,hi,$n,Xn,_a,Kn,$t,mo,Pr,on,xa,fs,yo,Hi,Wi,di,Vi,Aa,Gi,pi,bo,sn,ln,qt,Rt,Xt,ar=i(511),Qn=i(2041),wo=i(225),Na=i(767),hs=0,zl=Qn,ds=wo,$r=Na,un=ar,ps=0,vs=1,ac=2,gs=3,ms=4,Ul=5,oc=6,Hl=7,Wl=8,ys=9,Vl=10,Eh=[2,3,7],jh=[3,3,11],sc=[280,256,256,256,40],Dh=[0,1,1,1,0],Oh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bh=8,Gl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,Th=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Uh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vi=[],An=[],Zn=[],Vh=1,uc=2,gi=[],cn=[];be("UpsampleRgbLinePair",bt,3),be("UpsampleBgrLinePair",Ht,3),be("UpsampleRgbaLinePair",xn,4),be("UpsampleBgraLinePair",lr,4),be("UpsampleArgbLinePair",wr,4),be("UpsampleRgba4444LinePair",tr,2),be("UpsampleRgb565LinePair",Wt,2);var Gh=B.UpsampleRgbLinePair,Yh=B.UpsampleBgrLinePair,cc=B.UpsampleRgbaLinePair,fc=B.UpsampleBgraLinePair,hc=B.UpsampleArgbLinePair,dc=B.UpsampleRgba4444LinePair,Jh=B.UpsampleRgb565LinePair,bs=16,ws=1<<bs-1,xo=-227,Jl=482,$h=6,pc=0,Xh=i(256),Kh=i(256),Qh=i(256),Zh=i(256),ed=i(Jl-xo),td=i(Jl-xo);qn("YuvToRgbRow",bt,3),qn("YuvToBgrRow",Ht,3),qn("YuvToRgbaRow",xn,4),qn("YuvToBgraRow",lr,4),qn("YuvToArgbRow",wr,4),qn("YuvToRgba4444Row",tr,2),qn("YuvToRgb565Row",Wt,2);var vc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_s=[0,2,8],rd=[8,7,6,4,4,2,2,2,1,1,1,1],nd=1;this.WebPDecodeRGBA=function(o,l,d,m,b){var A=vs,N=new da,k=new dr;N.ba=k,k.S=A,k.width=[k.width],k.height=[k.height];var P=k.width,D=k.height,J=new Vr;if(J==null||o==null)var le=2;else e(J!=null),le=va(o,l,d,J.width,J.height,J.Pd,J.Qd,J.format,null);if(le!=0?P=0:(P!=null&&(P[0]=J.width[0]),D!=null&&(D[0]=J.height[0]),P=1),P){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),b!=null&&(b[0]=k.height);e:{if(m=new oa,(b=new oo).data=o,b.w=l,b.ha=d,b.kd=1,l=[0],e(b!=null),((o=va(b.data,b.w,b.ha,null,null,null,l,null,b))==0||o==7)&&l[0]&&(o=4),(l=o)==0){if(e(N!=null),m.data=b.data,m.w=b.w+b.offset,m.ha=b.ha-b.offset,m.put=mr,m.ac=Pt,m.bc=Dr,m.ma=N,b.xa){if((o=nn())==null){N=1;break e}if(function(ue,Z){var Ae=[0],me=[0],$=[0];t:for(;;){if(ue==null)return 0;if(Z==null)return ue.a=2,0;if(ue.l=Z,ue.a=0,te(ue.m,Z.data,Z.w,Z.ha),!Je(ue.m,Ae,me,$)){ue.a=3;break t}if(ue.xb=uc,Z.width=Ae[0],Z.height=me[0],!jn(Ae[0],me[0],1,ue,null))break t;return 1}return e(ue.a!=0),0}(o,m)){if(m=(l=ga(m.width,m.height,N.Oa,N.ba))==0){t:{m=o;r:for(;;){if(m==null){m=0;break t}if(e(m.s.yc!=null),e(m.s.Ya!=null),e(0<m.s.Wb),e((d=m.l)!=null),e((b=d.ma)!=null),m.xb!=0){if(m.ca=b.ba,m.tb=b.tb,e(m.ca!=null),!ho(b.Oa,d,gs)){m.a=2;break r}if(!Ri(m,d.width)||d.da)break r;if((d.da||gt(m.ca.S))&&ie(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&ie()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!We(m.s.vb,m.s.Wa.Xa)){m.a=1;break r}m.xb=0}if(!bn(m,m.V,m.Ba,m.c,m.i,d.o,Or))break r;b.Dc=m.Ma,m=1;break t}e(m.a!=0),m=0}m=!m}m&&(l=o.a)}else l=o.a}else{if((o=new _l)==null){N=1;break e}if(o.Fa=b.na,o.P=b.P,o.qc=b.Sa,Go(o,m)){if((l=ga(m.width,m.height,N.Oa,N.ba))==0){if(o.Aa=0,d=N.Oa,e((b=o)!=null),d!=null){if(0<(P=0>(P=d.Md)?0:100<P?255:255*P/100)){for(D=J=0;4>D;++D)12>(le=b.pb[D]).lc&&(le.ia=P*rd[0>le.lc?0:le.lc]>>3),J|=le.ia;J&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=d.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}xl(o,m)||(l=o.a)}}else l=o.a}l==0&&N.Oa!=null&&N.Oa.fd&&(l=po(N.ba))}N=l}A=N!=0?null:11>A?k.f.RGBA.eb:k.f.kb.y}else A=null;return A};var gc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(B,ee){for(var he="",I=0;I<4;I++)he+=String.fromCharCode(B[ee++]);return he}function v(B,ee){return(B[ee+0]<<0|B[ee+1]<<8|B[ee+2]<<16)>>>0}function g(B,ee){return(B[ee+0]<<0|B[ee+1]<<8|B[ee+2]<<16|B[ee+3]<<24)>>>0}new c;var y=[0],p=[0],S=[],L=new c,C=t,_=function(B,ee){var he={},I=0,F=!1,z=0,T=0;if(he.frames=[],!function(j,q,H,X){for(var Y=0;Y<X;Y++)if(j[q+Y]!=H.charCodeAt(Y))return!0;return!1}(B,ee,"RIFF",4)){for(g(B,ee+=4),ee+=8;ee<B.length;){var oe=h(B,ee),se=g(B,ee+=4);ee+=4;var fe=se+(1&se);switch(oe){case"VP8 ":case"VP8L":he.frames[I]===void 0&&(he.frames[I]={}),(ve=he.frames[I]).src_off=F?T:ee-8,ve.src_size=z+se+8,I++,F&&(F=!1,z=0,T=0);break;case"VP8X":(ve=he.header={}).feature_flags=B[ee];var te=ee+4;ve.canvas_width=1+v(B,te),te+=3,ve.canvas_height=1+v(B,te),te+=3;break;case"ALPH":F=!0,z=fe+8,T=ee-8;break;case"ANIM":(ve=he.header).bgcolor=g(B,ee),te=ee+4,ve.loop_count=(Ee=B)[(x=te)+0]<<0|Ee[x+1]<<8,te+=2;break;case"ANMF":var de,ve;(ve=he.frames[I]={}).offset_x=2*v(B,ee),ee+=3,ve.offset_y=2*v(B,ee),ee+=3,ve.width=1+v(B,ee),ee+=3,ve.height=1+v(B,ee),ee+=3,ve.duration=v(B,ee),ee+=3,de=B[ee++],ve.dispose=1&de,ve.blend=de>>1&1}oe!="ANMF"&&(ee+=fe)}var Ee,x;return he}}(C,0);_.response=C,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,U=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,y=[E.canvas_height],p=[E.canvas_width];for(var V=0;V<U.length&&U[V].blend!=0;V++);}var W=U[0],ce=L.WebPDecodeRGBA(C,W.src_off,W.src_size,p,y);W.rgba=ce,W.imgwidth=p[0],W.imgheight=y[0];for(var Q=0;Q<p[0]*y[0]*4;Q++)S[Q]=ce[Q];return this.width=p,this.height=y,this.data=S,this}(function(t){var e=function(){return typeof Ou=="function"},r=function(y,p,S,L){var C=4,_=s;switch(L){case t.image_compression.FAST:C=1,_=i;break;case t.image_compression.MEDIUM:C=6,_=u;break;case t.image_compression.SLOW:C=9,_=c}y=n(y,p,S,_);var E=Ou(y,{level:C});return t.__addimage__.arrayBufferToBinaryString(E)},n=function(y,p,S,L){for(var C,_,E,U=y.length/p,V=new Uint8Array(y.length+U),W=v(),ce=0;ce<U;ce+=1){if(E=ce*p,C=y.subarray(E,E+p),L)V.set(L(C,S,_),E+ce);else{for(var Q,B=W.length,ee=[];Q<B;Q+=1)ee[Q]=W[Q](C,S,_);var he=g(ee.concat());V.set(ee[he],E+ce)}_=C}return V},a=function(y){var p=Array.apply([],y);return p.unshift(0),p},i=function(y,p){var S,L=[],C=y.length;L[0]=1;for(var _=0;_<C;_+=1)S=y[_-p]||0,L[_+1]=y[_]-S+256&255;return L},s=function(y,p,S){var L,C=[],_=y.length;C[0]=2;for(var E=0;E<_;E+=1)L=S&&S[E]||0,C[E+1]=y[E]-L+256&255;return C},u=function(y,p,S){var L,C,_=[],E=y.length;_[0]=3;for(var U=0;U<E;U+=1)L=y[U-p]||0,C=S&&S[U]||0,_[U+1]=y[U]+256-(L+C>>>1)&255;return _},c=function(y,p,S){var L,C,_,E,U=[],V=y.length;U[0]=4;for(var W=0;W<V;W+=1)L=y[W-p]||0,C=S&&S[W]||0,_=S&&S[W-p]||0,E=h(L,C,_),U[W+1]=y[W]-E+256&255;return U},h=function(y,p,S){if(y===p&&p===S)return y;var L=Math.abs(p-S),C=Math.abs(y-S),_=Math.abs(y+p-S-S);return L<=C&&L<=_?y:C<=_?p:S},v=function(){return[a,i,s,u,c]},g=function(y){var p=y.map(function(S){return S.reduce(function(L,C){return L+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(y,p,S,L){var C,_,E,U,V,W,ce,Q,B,ee,he,I,F,z,T,oe=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(E=new Kp(y)).imgData,_=E.bits,C=E.colorSpace,V=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){B=(Q=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,he=new Uint8Array(B*E.colors),ee=new Uint8Array(B);var fe,te=E.pixelBitlength-E.bits;for(z=0,T=0;z<B;z++){for(F=Q[z],fe=0;fe<te;)he[T++]=F>>>fe&255,fe+=E.bits;ee[z]=F>>>fe&255}}if(E.bits===16){B=(Q=new Uint32Array(E.decodePixels().buffer)).length,he=new Uint8Array(B*(32/E.pixelBitlength)*E.colors),ee=new Uint8Array(B*(32/E.pixelBitlength)),I=E.colors>1,z=0,T=0;for(var de=0;z<B;)F=Q[z++],he[T++]=F>>>0&255,I&&(he[T++]=F>>>16&255,F=Q[z++],he[T++]=F>>>0&255),ee[de++]=F>>>16&255;_=8}L!==t.image_compression.NONE&&e()?(y=r(he,E.width*E.colors,E.colors,L),ce=r(ee,E.width,1,L)):(y=he,ce=ee,oe=void 0)}if(E.colorType===3&&(C=this.color_spaces.INDEXED,W=E.palette,E.transparency.indexed)){var ve=E.transparency.indexed,Ee=0;for(z=0,B=ve.length;z<B;++z)Ee+=ve[z];if((Ee/=255)===B-1&&ve.indexOf(0)!==-1)U=[ve.indexOf(0)];else if(Ee!==B){for(Q=E.decodePixels(),ee=new Uint8Array(Q.length),z=0,B=Q.length;z<B;z++)ee[z]=ve[Q[z]];ce=r(ee,E.width,1)}}var x=function(j){var q;switch(j){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(L);return oe===this.decode.FLATE_DECODE&&(se="/Predictor "+x+" "),se+="/Colors "+V+" /BitsPerComponent "+_+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(ce&&this.__addimage__.isArrayBuffer(ce)||this.__addimage__.isArrayBufferView(ce))&&(ce=this.__addimage__.arrayBufferToBinaryString(ce)),{alias:S,data:y,index:p,filter:oe,decodeParameters:se,transparency:U,palette:W,sMask:ce,predictor:x,width:E.width,height:E.height,bitsPerComponent:_,colorSpace:C}}}})(tt.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new Qp(e),s=i.width,u=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:s,height:u},v=new mu(100).encode(h,100);return t.processJPEG.call(this,v,r,n,a)},t.processGIF87A=t.processGIF89A}(tt.API),Ln.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ln.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){It.log("bit decode error:"+r)}},Ln.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var c=this.palette[i>>7-u&1];this.data[s+4*u]=c.blue,this.data[s+4*u+1]=c.green,this.data[s+4*u+2]=c.red,this.data[s+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Ln.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,u=i>>4,c=15&i,h=this.palette[u];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*a+1>=this.width)break;h=this.palette[c],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ln.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ln.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,h=i>>15?255:0,v=n*this.width*4+4*a;this.data[v]=c,this.data[v+1]=u,this.data[v+2]=s,this.data[v+3]=h}this.pos+=t}},Ln.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,h=(s>>11)/e*255|0,v=a*this.width*4+4*i;this.data[v]=h,this.data[v+1]=c,this.data[v+2]=u,this.data[v+3]=255}this.pos+=t}},Ln.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ln.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=s}},Ln.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Ln(e,!1),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new mu(100).encode(c,100);return t.processJPEG.call(this,h,r,n,a)}}(tt.API),cf.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new cf(e),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},h=new mu(100).encode(c,100);return t.processJPEG.call(this,h,r,n,a)}}(tt.API),tt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),u=0,c=0,h=0;h<a;h+=4){var v=n[h],g=n[h+1],y=n[h+2],p=n[h+3];i[u++]=v,i[u++]=g,i[u++]=y,s[c++]=p}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},tt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ja=tt.API,Rs=ja.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,v=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,p=t.length,S=0,L=u[0]||c,C=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(y=g&&Lt(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/v:0,C.push((u[n]||L)/c+y)),S=n;return C},of=ja.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ja.processArabic&&(t=ja.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Rs.apply(this,arguments).reduce(function(i,s){return i+s},0)},sf=function(t,e,r,n){for(var a=[],i=0,s=t.length,u=0;i!==s&&u+e[i]<r;)u+=e[i],i++;a.push(t.slice(0,i));var c=i;for(u=0;i!==s;)u+e[i]>n&&(a.push(t.slice(c,i)),u=0,c=i),u+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},lf=function(t,e,r){r||(r={});var n,a,i,s,u,c,h,v=[],g=[v],y=r.textIndent||0,p=0,S=0,L=t.split(" "),C=Rs.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?L[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),E=[];L.map(function(V){(V=V.split(/\s*\n/)).length>1?E=E.concat(V.map(function(W,ce){return(ce&&W.length?`
`:"")+W})):E.push(V[0])}),L=E,c=of.apply(this,[_,r])}for(i=0,s=L.length;i<s;i++){var U=0;if(n=L[i],c&&n[0]==`
`&&(n=n.substr(1),U=1),y+p+(S=(a=Rs.apply(this,[n,r])).reduce(function(V,W){return V+W},0))>e||U){if(S>e){for(u=sf.apply(this,[n,a,e-(y+p),e]),v.push(u.shift()),v=[u.pop()];u.length;)g.push([u.shift()]);S=a.slice(n.length-(v[0]?v[0].length:0)).reduce(function(V,W){return V+W},0)}else v=[n];g.push(v),y=S+c,p=C}else v.push(n),y+=p+S,p=C}return h=c?function(V,W){return(W?_:"")+V.join(" ")}:function(V){return V.join(" ")},g.map(h)},ja.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var g=this.internal.getFont(v.fontName,v.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var u,c,h=[];for(u=0,c=n.length;u<c;u++)h=h.concat(lf.apply(this,[n[u],s,i]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(g){return"0x"+parseInt(g,10).toString(16)},s=t.__fontmetrics__.compress=function(g){var y,p,S,L,C=["{"];for(var _ in g){if(y=g[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=i(_).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof y=="number")y<0?(S=i(y).slice(3),L="-"):(S=i(y).slice(2),L=""),S=L+S.slice(0,-1)+n[S.slice(-1)];else{if(Lt(y)!=="object")throw new Error("Don't know what to do with value type "+Lt(y)+".");S=s(y)}C.push(p+S)}return C.push("}"),C.join("")},u=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,S,L,C={},_=1,E=C,U=[],V="",W="",ce=g.length-1,Q=1;Q<ce;Q+=1)(L=g[Q])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(L):L=="{"?(U.push([E,S]),E={},S=void 0):L=="}"?((p=U.pop())[0][p[1]]=E,S=void 0,E=p[0]):L=="-"?_=-1:S===void 0?r.hasOwnProperty(L)?(V+=r[L],S=parseInt(V,16)*_,_=1,V=""):V+=L:r.hasOwnProperty(L)?(W+=r[L],E[S]=parseInt(W,16)*_,_=1,S=void 0,W=""):W+=L;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,p=v.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var S=h.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])}(tt.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Fo(u)),s.metadata=t.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(tt),function(t){function e(){return(rt.canvg?Promise.resolve(rt.canvg):Iu(()=>import("./index.es-DtXVOD6B.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,a,i,s,u,c,h){if(isNaN(n)||isNaN(a))throw It.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw It.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=i,v.height=s;var g=v.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,v.width,v.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(S){return S.fromString(g,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(y)}).then(function(){p.addImage(v.toDataURL("image/jpeg",1),n,a,i,s,c,h)})}}(),tt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},tt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),c=[],h=0,v=0,g=0;function y(S,L){var C,_=!1;for(C=0;C<S.length;C+=1)S[C]===L&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=u.length;for(g=0;g<p;g+=1)r[u[g]].value=r[u[g]].defaultValue,r[u[g]].explicitSet=!1}if(Lt(t)==="object"){for(a in t)if(i=t[a],y(u,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&y(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")c.push(String(i[h]-1));else if(i[h].length>1){for(v=0;v<i[h].length;v+=1)typeof i[h][v]!="number"&&(n=!1);n===!0&&c.push([i[h][0]-1,i[h][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,L=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?L.push("/"+S+" /"+r[S].value):L.push("/"+S+" "+r[S].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+s.length+u.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+u+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(tt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var u,c=s.metadata.Unicode.widths,h=["","0","00","000","0000"],v=[""],g=0,y=i.length;g<y;++g){if(u=s.metadata.characterToGlyph(i.charCodeAt(g)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=i.charCodeAt(g),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return v.join("");u=u.toString(16),v.push(h[4-u.length],u)}return v.join("")},n=function(i){var s,u,c,h,v,g,y;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(u=Object.keys(i).sort(function(p,S){return p-S})).length;g<y;g++)s=u[g],c.length>=100&&(v+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(h=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+h+">"));return c.length&&(v+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,v=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),p="",S=0;S<y.length;S++)p+=String.fromCharCode(y[S]);var L=h();v({data:p,addLength1:!0,objectId:L}),c("endobj");var C=h();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var _=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Oa(u.fontName)),c("/FontFile2 "+L+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var E=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Oa(u.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Oa(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,h=s.newObject,v=s.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var S=h();v({data:y,addLength1:!0,objectId:S}),c("endobj");var L=h();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:L}),c("endobj");var C=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Oa(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var _=0;_<u.metadata.hmtx.widths.length;_++)u.metadata.hmtx.widths[_]=parseInt(u.metadata.hmtx.widths[_]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Oa(u.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,u=i.text||"",c=i.x,h=i.y,v=i.options||{},g=i.mutex||{},y=g.pdfEscape,p=g.activeFontKey,S=g.fonts,L=p,C="",_=0,E="",U=S[L].encoding;if(S[L].encoding!=="Identity-H")return{text:u,x:c,y:h,options:v,mutex:g};for(E=u,L=p,Array.isArray(u)&&(E=u[0]),_=0;_<E.length;_+=1)S[L].metadata.hasOwnProperty("cmap")&&(s=S[L].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),s||E[_].charCodeAt(0)<256&&S[L].metadata.hasOwnProperty("Unicode")?C+=E[_]:C+="";var V="";return parseInt(L.slice(1))<14||U==="WinAnsiEncoding"?V=y(C,L).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(V=r(C,S[L])),g.isHex=!0,{text:V,x:c,y:h,options:v,mutex:g}};e.events.push(["postProcessText",function(i){var s=i.text||"",u=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?u.push([a(Object.assign({},c,{text:s[h][0]})).text,s[h][1],s[h][2]]):u.push(a(Object.assign({},c,{text:s[h]})).text);i.text=u}else i.text=a(Object.assign({},c,{text:s})).text}])}(tt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,u,c,h,v,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,U=0;this.__bidiEngine__={};var V=function(I){var F=I.charCodeAt(),z=F>>8,T=L[z];return T!==void 0?g[256*T+(255&F)]:z===252||z===253?"AL":_.test(z)?"L":z===8?"R":"N"},W=function(I){for(var F,z=0;z<I.length;z++){if((F=V(I.charAt(z)))==="L")return!1;if(F==="R")return!0}return!1},ce=function(I,F,z,T){var oe,se,fe,te,de=F[T];switch(de){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(de="AN");break;case"AL":E=!0,de="R";break;case"WS":de="N";break;case"CS":T<1||T+1>=F.length||(oe=z[T-1])!=="EN"&&oe!=="AN"||(se=F[T+1])!=="EN"&&se!=="AN"?de="N":E&&(se="AN"),de=se===oe?se:"N";break;case"ES":de=(oe=T>0?z[T-1]:"B")==="EN"&&T+1<F.length&&F[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&z[T-1]==="EN"){de="EN";break}if(E){de="N";break}for(fe=T+1,te=F.length;fe<te&&F[fe]==="ET";)fe++;de=fe<te&&F[fe]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for(te=F.length,fe=T+1;fe<te&&F[fe]==="NSM";)fe++;if(fe<te){var ve=I[T],Ee=ve>=1425&&ve<=2303||ve===64286;if(oe=F[fe],Ee&&(oe==="R"||oe==="AL")){de="R";break}}}de=T<1||(oe=F[T-1])==="B"?"N":z[T-1];break;case"B":E=!1,a=!0,de=U;break;case"S":i=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":de="N"}return de},Q=function(I,F,z){var T=I.split("");return z&&B(T,z,{hiLevel:U}),T.reverse(),F&&F.reverse(),T.join("")},B=function(I,F,z){var T,oe,se,fe,te,de=-1,ve=I.length,Ee=0,x=[],j=U?p:y,q=[];for(E=!1,a=!1,i=!1,oe=0;oe<ve;oe++)q[oe]=V(I[oe]);for(se=0;se<ve;se++){if(te=Ee,x[se]=ce(I,q,x,se),T=240&(Ee=j[te][S[x[se]]]),Ee&=15,F[se]=fe=j[Ee][5],T>0)if(T===16){for(oe=de;oe<se;oe++)F[oe]=1;de=-1}else de=-1;if(j[Ee][6])de===-1&&(de=se);else if(de>-1){for(oe=de;oe<se;oe++)F[oe]=fe;de=-1}q[se]==="B"&&(F[se]=0),z.hiLevel|=fe}i&&function(H,X,Y){for(var re=0;re<Y;re++)if(H[re]==="S"){X[re]=U;for(var ne=re-1;ne>=0&&H[ne]==="WS";ne--)X[ne]=U}}(q,F,ve)},ee=function(I,F,z,T,oe){if(!(oe.hiLevel<I)){if(I===1&&U===1&&!a)return F.reverse(),void(z&&z.reverse());for(var se,fe,te,de,ve=F.length,Ee=0;Ee<ve;){if(T[Ee]>=I){for(te=Ee+1;te<ve&&T[te]>=I;)te++;for(de=Ee,fe=te-1;de<fe;de++,fe--)se=F[de],F[de]=F[fe],F[fe]=se,z&&(se=z[de],z[de]=z[fe],z[fe]=se);Ee=te}Ee++}}},he=function(I,F,z){var T=I.split(""),oe={hiLevel:U};return z||(z=[]),B(T,z,oe),function(se,fe,te){if(te.hiLevel!==0&&v)for(var de,ve=0;ve<se.length;ve++)fe[ve]===1&&(de=C.indexOf(se[ve]))>=0&&(se[ve]=C[de+1])}(T,z,oe),ee(2,T,F,z,oe),ee(1,T,F,z,oe),T.join("")};return this.__bidiEngine__.doBidiReorder=function(I,F,z){if(function(oe,se){if(se)for(var fe=0;fe<oe.length;fe++)se[fe]=fe;u===void 0&&(u=W(oe)),h===void 0&&(h=W(oe))}(I,F),s||!c||h)if(s&&c&&u^h)U=u?1:0,I=Q(I,F,z);else if(!s&&c&&h)U=u?1:0,I=he(I,F,z),I=Q(I,F);else if(!s||u||c||h){if(s&&!c&&u^h)I=Q(I,F),u?(U=0,I=he(I,F,z)):(U=1,I=he(I,F,z),I=Q(I,F));else if(s&&u&&!c&&h)U=1,I=he(I,F,z),I=Q(I,F);else if(!s&&!c&&u^h){var T=v;u?(U=1,I=he(I,F,z),U=0,v=!1,I=he(I,F,z),v=T):(U=0,I=he(I,F,z),I=Q(I,F),U=1,v=!1,I=he(I,F,z),v=T,I=Q(I,F))}}else U=0,I=he(I,F,z);else U=u?1:0,I=he(I,F,z);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,u=I.isInputRtl,h=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(s=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?s.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):s.push([r.doBidiReorder(a[u])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Di(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new d5(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Zp(this.contents),this.head=new t5(this),this.name=new o5(this),this.cmap=new vh(this),this.toUnicode={},this.hhea=new r5(this),this.maxp=new s5(this),this.hmtx=new l5(this),this.post=new i5(this),this.os2=new n5(this),this.loca=new h5(this),this.glyf=new u5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,u,c,h;for(h=[],s=0,u=(c=this.bbox).length;s<u;s++)e=c[s],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,u;for(s=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Fn,Di=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,u,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*u+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),Zp=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,u,c,h,v,g,y,p,S,L;for(L in p=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(p)/c),s=Math.floor(g/c),v=16*p-g,(a=new Di).writeInt(this.scalarType),a.writeShort(p),a.writeShort(g),a.writeShort(s),a.writeShort(v),i=16*p,h=a.pos+i,u=null,S=[],r)for(y=r[L],a.writeString(L),a.writeInt(t(y)),a.writeInt(h),a.writeInt(y.length),S=S.concat(y),L==="head"&&(u=h),h+=y.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=gh.call(r);r.length%4;)r.push(0);for(i=new Di(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),e5={}.hasOwnProperty,Gn=function(t,e){for(var r in e)e5.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Fn=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var t5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Di).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),ff=function(){function t(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,C,_,E,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,i=function(){var V,W;for(W=[],c=V=0;0<=y?V<y:V>y;c=0<=y?++V:--V)W.push(e.readUInt16());return W}(),e.pos+=2,L=function(){var V,W;for(W=[],c=V=0;0<=y?V<y:V>y;c=0<=y?++V:--V)W.push(e.readUInt16());return W}(),h=function(){var V,W;for(W=[],c=V=0;0<=y?V<y:V>y;c=0<=y?++V:--V)W.push(e.readUInt16());return W}(),v=function(){var V,W;for(W=[],c=V=0;0<=y?V<y:V>y;c=0<=y?++V:--V)W.push(e.readUInt16());return W}(),a=(this.length-e.pos+this.offset)/2,u=function(){var V,W;for(W=[],c=V=0;0<=a?V<a:V>a;c=0<=a?++V:--V)W.push(e.readUInt16());return W}(),c=_=0,U=i.length;_<U;c=++_)for(C=i[c],n=E=S=L[c];S<=C?E<=C:E>=C;n=S<=C?++E:--E)v[c]===0?s=n+h[c]:(s=u[v[c]/2+(n-S)-(y-c)]||0)!==0&&(s+=h[c]),this.codeMap[n]=65535&s}e.pos=g}return t.encode=function(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,C,_,E,U,V,W,ce,Q,B,ee,he,I,F,z,T,oe,se,fe,te,de,ve,Ee,x,j,q,H,X,Y,re,ne,Ce,Se,je;switch(T=new Di,s=Object.keys(e).sort(function(Fe,We){return Fe-We}),r){case"macroman":for(L=0,C=function(){var Fe=[];for(S=0;S<256;++S)Fe.push(0);return Fe}(),E={0:0},i={},oe=0,de=s.length;oe<de;oe++)E[ne=e[a=s[oe]]]==null&&(E[ne]=++L),i[a]={old:e[a],new:E[e[a]]},C[a]=E[e[a]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(C),{charMap:i,subtable:T.data,maxGlyphID:L+1};case"unicode":for(F=[],g=[],U=0,E={},n={},_=h=null,se=0,ve=s.length;se<ve;se++)E[W=e[a=s[se]]]==null&&(E[W]=++U),n[a]={old:W,new:E[W]},u=E[W]-a,_!=null&&u===h||(_&&g.push(_),F.push(a),h=u),_=a;for(_&&g.push(_),g.push(65535),F.push(65535),he=2*(ee=F.length),B=2*Math.pow(Math.log(ee)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,Q=2*ee-B,c=[],ce=[],p=[],S=fe=0,Ee=F.length;fe<Ee;S=++fe){if(I=F[S],v=g[S],I===65535){c.push(0),ce.push(0);break}if(I-(z=n[I].new)>=32768)for(c.push(0),ce.push(2*(p.length+ee-S)),a=te=I;I<=v?te<=v:te>=v;a=I<=v?++te:--te)p.push(n[a].new);else c.push(z-I),ce.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*ee+2*p.length),T.writeUInt16(0),T.writeUInt16(he),T.writeUInt16(B),T.writeUInt16(y),T.writeUInt16(Q),Y=0,x=g.length;Y<x;Y++)a=g[Y],T.writeUInt16(a);for(T.writeUInt16(0),re=0,j=F.length;re<j;re++)a=F[re],T.writeUInt16(a);for(Ce=0,q=c.length;Ce<q;Ce++)u=c[Ce],T.writeUInt16(u);for(Se=0,H=ce.length;Se<H;Se++)V=ce[Se],T.writeUInt16(V);for(je=0,X=p.length;je<X;je++)L=p[je],T.writeUInt16(L);return{charMap:n,subtable:T.data,maxGlyphID:U+1}}},t}(),vh=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new ff(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=ff.encode(r,n),(i=new Di).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),r5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),n5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),i5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],s=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;s=0<=c?++u:--u)h.push(r.readUInt32());return h}).call(this)}},e}(),a5=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},o5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,u,c,h,v,g,y,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(h={},s=g=0,y=a.length;g<y;s=++g)i=a[s],r.pos=i.offset,v=r.readString(i.length),u=new a5(v,i),h[p=i.nameID]==null&&(h[p]=[]),h[i.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),s5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),l5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,u,c,h;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,g;for(g=[],n=v=0;0<=i?v<i:v>i;n=0<=i?++v:--v)g.push(r.readInt16());return g}(),this.widths=(function(){var v,g,y,p;for(p=[],v=0,g=(y=this.metrics).length;v<g;v++)s=y[v],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(this.widths.push(a));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),gh=[].slice,u5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,u,c,h,v,g,y;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,u=(c=new Di(n.read(i))).readShort(),v=c.readShort(),y=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[r]=u===-1?new f5(c,v,y,h,g):new c5(c,u,v,y,h,g),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,u,c,h;for(u=[],s=[],c=0,h=n.length;c<h;c++)i=r[n[c]],s.push(u.length),i&&(u=u.concat(i.encode(a)));return s.push(u.length),{table:u,offsets:s}},e}(),c5=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),f5=function(){function t(e,r,n,a,i){var s,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Di(gh.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),h5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gn(e,Fn),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,u=0;u<a.length;++u)if(a[u]=i,s<n.length&&n[s]==u){++s,a[u]=i;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(i+=h)}for(var v=new Array(4*a.length),g=0;g<a.length;++g)v[4*g+3]=255&a[g],v[4*g+2]=(65280&a[g])>>8,v[4*g+1]=(16711680&a[g])>>16,v[4*g]=(4278190080&a[g])>>24;return v},e}(),d5=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,u,c;for(a={},s=0,u=e.length;s<u;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,u,c,h,v,g,y,p,S,L,C,_;for(a in n=vh.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},_=n.charMap)p[(c=_[a]).old]=c.new;for(S in y=n.maxGlyphID,s)S in p||(p[S]=y++);return v=function(E){var U,V;for(U in V={},E)V[E[U]]=U;return V}(p),g=Object.keys(v).sort(function(E,U){return E-U}),L=function(){var E,U,V;for(V=[],E=0,U=g.length;E<U;E++)u=g[E],V.push(v[u]);return V}(),i=this.font.glyf.encode(s,L,p),h=this.font.loca.encode(i.offsets,L),C={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();tt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var u,c,h;for(h=[],u=0,c=r.length;u<c;u++)n=r[u],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function mh(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,u=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,h=u*c,v=/\r\n|\r|\n/g,g="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(v):t,y=g.length||1),r+=u*(2-i),n.valign==="middle"?r-=y/2*h:n.valign==="bottom"&&(r-=y*h),n.halign==="center"||n.halign==="right"){var p=u;if(n.halign==="center"&&(p*=.5),g&&y>=1){for(var S=0;S<g.length;S++)a.text(g[S],e-a.getStringUnitWidth(g[S])*p,r),r+=h;return a}e-=a.getStringUnitWidth(t)*p}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var hf={},Ha=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:hf=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),u=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var v=t.unifyColor(e.fillColor);v&&(n=this.jsPDFDocument).setFillColor.apply(n,v),v=t.unifyColor(e.textColor),v&&(a=this.jsPDFDocument).setTextColor.apply(a,v),v=t.unifyColor(e.lineColor),v&&(i=this.jsPDFDocument).setDrawColor.apply(i,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return hf||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Uu=function(t,e){return Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Uu(t,e)};function yh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bh=function(t){yh(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function p5(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function v5(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function tl(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function wh(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=_h(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function _h(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function vl(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function xh(t,e){var r=vl(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function g5(t,e,r,n,a){var i={},s=1.3333333333333333,u=yu(e,function(U){return a.getComputedStyle(U).backgroundColor});u!=null&&(i.fillColor=u);var c=yu(e,function(U){return a.getComputedStyle(U).color});c!=null&&(i.textColor=c);var h=y5(n,r);h&&(i.cellPadding=h);var v="borderTopColor",g=s*r,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var p=(parseFloat(y)||0)/g;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?v="borderRightColor":i.lineWidth.bottom?v="borderBottomColor":i.lineWidth.left&&(v="borderLeftColor"));var S=yu(e,function(U){return a.getComputedStyle(U)[v]});S!=null&&(i.lineColor=S);var L=["left","right","center","justify"];L.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),L=["middle","bottom","top"],L.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var C=parseInt(n.fontSize||"");isNaN(C)||(i.fontSize=C/s);var _=m5(n);_&&(i.fontStyle=_);var E=(n.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(i.font=E),i}function m5(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function yu(t,e){var r=Ah(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Ah(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Ah(t.parentElement,e):r}function y5(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(u){return parseInt(u||"0")/n}),s=vl(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Nh(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=r.document.querySelector(e):u=e;var c=Object.keys(t.getFontList()),h=t.scaleFactor(),v=[],g=[],y=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:v,body:g,foot:y};for(var p=0;p<u.rows.length;p++){var S=u.rows[p],L=(s=(i=S==null?void 0:S.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),C=b5(c,h,r,S,n,a);C&&(L==="thead"?v.push(C):L==="tfoot"?y.push(C):g.push(C))}return{head:v,body:g,foot:y}}function b5(t,e,r,n,a,i){for(var s=new bh(n),u=0;u<n.cells.length;u++){var c=n.cells[u],h=r.getComputedStyle(c);if(a||h.display!=="none"){var v=void 0;i&&(v=g5(t,c,e,h,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:v,_element:c,content:w5(c)})}}var g=r.getComputedStyle(n);if(s.length>0&&(a||g.display!=="none"))return s}function w5(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function _5(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ii(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var u=arguments[s];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])}return i}function Sh(t,e){var r=new Ha(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();_5(a,n,e);var i=ii({},a,n,e),s;typeof window<"u"&&(s=window);var u=x5(a,n,e),c=A5(a,n,e),h=N5(r,i),v=L5(r,i,s);return{id:e.tableId,content:v,hooks:c,styles:u,settings:h}}function x5(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var h=t[c],v=e[c],g=r[c];n.columnStyles=ii({},h,v,g)}else{var y=[t,e,r],p=y.map(function(S){return S[c]||{}});n[c]=ii({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var u=s[i];a(u)}return n}function A5(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var u=s[i];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function N5(t,e){var r,n,a,i,s,u,c,h,v,g,y,p,S=vl(e.margin,40/t.scaleFactor()),L=(r=S5(t,e.startY))!==null&&r!==void 0?r:S.top,C;e.showFoot===!0?C="everyPage":e.showFoot===!1?C="never":C=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=e.useCss)!==null&&i!==void 0?i:!1,U=e.theme||(E?"plain":"striped"),V=!!e.horizontalPageBreak,W=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:E,theme:U,startY:L,margin:S,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:_,showFoot:C,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:V,horizontalPageBreakRepeat:W,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function S5(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function L5(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var u=Nh(t,e.html,r,s,e.useCss)||{};n=u.head||n,a=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||k5(n,a,i);return{columns:c,head:n,body:a,foot:i}}function k5(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(s=(u==null?void 0:u.colSpan)||1);for(var c=0;c<s;c++){var h=void 0;Array.isArray(n)?h=a.length:h=i+(c>0?"_".concat(c):"");var v={dataKey:h};a.push(v)}}),a}var Hu=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),P5=function(t){yh(e,t);function e(r,n,a,i,s,u){var c=t.call(this,r,n,u)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(Hu),C5=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var u=0,c=r;u<c.length;u++){var h=c[u],v=new P5(e,this,n,a,i,s),g=h(v)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new Hu(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new Hu(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Lh=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof bh&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var u=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),h=c+u;return h>a?h:a},0)},t}(),kh=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=s.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=vl(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),I5=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function F5(t,e){E5(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Wu(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Wu(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),D5(e),O5(e,t),j5(e)}function E5(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=xh(t,e);e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){var v=e.hooks.didParseCell;e.callCellHooks(t,v,h,i,c,null);var g=h.padding("horizontal");h.contentWidth=tl(h.text,h.styles,t)+g;var y=tl(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var p=10/r;h.minWidth=h.styles.minCellWidth||p,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,u=e.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var v=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=v.cellWidth||v.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function Wu(t,e,r){for(var n=e,a=t.reduce(function(p,S){return p+S.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],u=s.wrappedWidth/a,c=n*u,h=s.width+c,v=r(s),g=h<v?v:h;e-=g-s.width,s.width=g}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(p){return e<0?p.width>r(p):!0});y.length&&(e=Wu(y,e,r))}return e}function j5(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var v=i.cells[c.index];if(!v)continue;if(v.height=i.height,v.rowSpan>1){var g=n.length-a,y=v.rowSpan>g?g:v.rowSpan;e[c.index]={cell:v,left:y,row:i}}}}}function D5(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,u=0;u<t.columns.length;u++){var c=t.columns[u];if(s-=1,s>1&&t.columns[u+1])i+=c.width,delete n.cells[c.index];else if(a){var h=a;delete n.cells[c.index],a=null,h.width=c.width+i}else{var h=n.cells[c.index];if(!h)continue;if(s=h.colSpan,i=0,h.colSpan>1){a=h,i+=c.width;continue}h.width=c.width+i}}}function O5(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,u=t.columns;s<u.length;s++){var c=u[s],h=i.cells[c.index];if(h){e.applyStyles(h.styles,!0);var v=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,v+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=df(h.text,v,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=df(h.text,v,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,v);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<y*h.rowSpan?r={height:y,count:h.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>i.height&&(i.height=y)}}r.count--}}function df(t,e,r,n,a){return t.map(function(i){return q5(i,e,r,n,a)})}function q5(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=tl(t,r,n))return t;for(;e<tl(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Ph(t,e){var r=new Ha(t),n=R5(e,r.scaleFactor()),a=new C5(e,n);return F5(r,a),r.applyStyles(r.userStyles),a}function R5(t,e){var r=t.content,n=T5(r.columns);if(r.head.length===0){var a=pf(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=pf(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:bu("head",r.head,n,s,i,e),body:bu("body",r.body,n,s,i,e),foot:bu("foot",r.foot,n,s,i,e)}}function bu(t,e,r,n,a,i){var s={},u=e.map(function(c,h){for(var v=0,g={},y=0,p=0,S=0,L=r;S<L.length;S++){var C=L[S];if(s[C.index]==null||s[C.index].left===0)if(p===0){var _=void 0;Array.isArray(c)?_=c[C.index-y-v]:_=c[C.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=(_==null?void 0:_.styles)||{});var U=M5(t,C,h,a,n,i,E),V=new kh(_,U,t);g[C.dataKey]=V,g[C.index]=V,p=V.colSpan-1,s[C.index]={left:V.rowSpan-1,times:p}}else p--,y++;else s[C.index].left--,p=s[C.index].times,v++}return new Lh(c,h,t,g)});return u}function pf(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=B5(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function B5(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function T5(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new I5(a,e,r)})}function M5(t,e,r,n,a,i,s){var u=v5(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var h=ii({},u.table,u[t],a.styles,c),v=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},g=t==="body"?v:{},y=t==="body"&&r%2===0?ii({},u.alternateRow,a.alternateRowStyles):{},p=p5(i),S=ii({},p,h,y,g);return ii(S,s)}function z5(t,e,r){var n;r===void 0&&(r={});var a=xh(t,e),i=new Map,s=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var p=e.columns.find(function(S){return S.dataKey===y||S.index===y});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),u.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var h=!0,v=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;v<e.columns.length;){if(i.has(v)){v++;continue}var g=e.columns[v].wrappedWidth;if(h||a>=g)h=!1,s.push(v),u.push(e.columns[v]),a-=g;else break;v++}return{colIndexes:s,columns:u,lastIndex:v-1}}function U5(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=z5(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Ch(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(y,p){return y+p.height},0);u+=h}var v=new Ha(t);(r.pageBreak==="always"||r.startY!=null&&u>v.pageSize().height)&&(Fh(v),i.y=a.top),e.callWillDrawPageHooks(v,i);var g=ii({},i);e.startPageNumber=v.pageNumber(),r.horizontalPageBreak?H5(v,e,g,i):(v.applyStyles(v.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return oi(v,e,y,i,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(y,p){var S=p===e.body.length-1;rl(v,e,y,S,g,i,e.columns)}),v.applyStyles(v.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return oi(v,e,y,i,e.columns)})),wh(v,e,g,i),e.callEndPageHooks(v,i),e.finalY=i.y,t.lastAutoTable=e,v.applyStyles(v.userStyles)}function H5(t,e,r,n){var a=U5(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,v){t.applyStyles(t.userStyles),v>0?Eo(t,e,r,n,h.columns,!0):vf(t,e,n,h.columns),W5(t,e,r,n,h.columns),wu(t,e,n,h.columns)});else for(var s=-1,u=a[0],c=function(){var h=s;if(u){t.applyStyles(t.userStyles);var v=u.columns;s>=0?Eo(t,e,r,n,v,!0):vf(t,e,n,v),h=gf(t,e,s+1,n,v),wu(t,e,n,v)}var g=h-s;a.slice(1).forEach(function(y){t.applyStyles(t.userStyles),Eo(t,e,r,n,y.columns,!0),gf(t,e,s+1,n,y.columns,g),wu(t,e,n,y.columns)}),s=h};s<e.body.length-1;)c()}function vf(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return oi(t,e,i,r,n)})}function W5(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var u=s===e.body.length-1;rl(t,e,i,u,r,n,a)})}function gf(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),u=-1;return e.body.slice(r,s).forEach(function(c,h){var v=r+h===e.body.length-1,g=Ih(t,e,v,n);c.canEntireRowFit(g,a)&&(oi(t,e,c,n,a),u=r+h)}),u}function wu(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return oi(t,e,i,r,n)})}function V5(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function G5(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,u=r.columns;s<u.length;s++){var c=u[s],h=t.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var v=new kh(h.raw,h.styles,h.section);v=ii(v,h),v.text=[];var g=V5(h,e,n);h.text.length>g&&(v.text=h.text.splice(g,h.text.length));var y=n.scaleFactor(),p=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,p),h.contentHeight>=e&&(h.contentHeight=e,v.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),v.contentHeight=v.getContentHeight(y,p),v.contentHeight>i&&(i=v.contentHeight),a[c.index]=v}}var S=new Lh(t.raw,-1,t.section,a,!0);S.height=i;for(var L=0,C=r.columns;L<C.length;L++){var c=C[L],v=S.cells[c.index];v&&(v.height=S.height);var h=t.cells[c.index];h&&(h.height=t.height)}return S}function Y5(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,u=a-s;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),h=c<r;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var v=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>u;return g?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||n.settings.rowPageBreak==="avoid")}function rl(t,e,r,n,a,i,s){var u=Ih(t,e,n,i);if(r.canEntireRowFit(u,s))oi(t,e,r,i,s);else if(Y5(t,r,u,e)){var c=G5(r,u,e,t);oi(t,e,r,i,s),Eo(t,e,a,i,s),rl(t,e,c,n,a,i,s)}else Eo(t,e,a,i,s),rl(t,e,r,n,a,i,s)}function oi(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var u=s[i],c=r.cells[u.index];if(!c){n.x+=u.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,c,r,u,n);if(h===!1){n.x+=u.width;continue}J5(t,c,n);var v=c.getTextPos();mh(c.text,v.x,v.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,u,n),n.x+=u.width}n.y+=r.height}function J5(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=_h(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),$5(t,e,r,n.lineWidth))}function $5(t,e,r,n){var a,i,s,u;n.top&&(a=r.x,i=r.y,s=r.x+e.width,u=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,u)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,u=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,u)),n.left&&(a=r.x,i=r.y,s=r.x,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.left,a,i,s,u)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),c(n.right,a,i,s,u));function c(h,v,g,y,p){t.getDocument().setLineWidth(h),t.getDocument().line(v,g,y,p,"S")}}function Ih(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Eo(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(u){return oi(t,e,u,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;wh(t,e,r,n),Fh(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return oi(t,e,u,n,a)}),t.applyStyles(t.userStyles))}function Fh(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function X5(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=Sh(this,n),i=Ph(this,a);return Ch(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){mh(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Ha.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Ha.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ha(this),i=Nh(a,e,window,r,!1),s=i.head,u=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:c,rows:u,data:u}}}var _u;function K5(t,e){var r=Sh(t,e),n=Ph(t,r);Ch(t,n)}try{if(typeof window<"u"&&window){var mf=window,yf=mf.jsPDF||((_u=mf.jspdf)===null||_u===void 0?void 0:_u.jsPDF);yf&&X5(yf)}}catch(t){console.error("Could not apply autoTable plugin",t)}function Q5(t,e,r=""){const n=new tt;n.setFontSize(20),n.setTextColor(0,102,255),n.text("CRIBS School Assessment Results",105,20,{align:"center"}),r&&(n.setFontSize(16),n.setTextColor(0,0,0),n.text(`School: ${r}`,105,30,{align:"center"}));const a={"water-supply":"Water Supply Issues","water-demand":"Water Demand Issues","dust-impacts":"Airborne Dust Impacts","heat-impacts":"Heat Impacts","rainwater-entry":"Rainwater Entry","flood-management":"Flood Management","wildfire-impacts":"Wildfire Impacts","electricity-supply":"Electricity Supply","air-quality":"Air Quality"};n.setFontSize(16),n.setTextColor(0,0,0),n.text(`Assessment Category: ${a[e]||e}`,105,r?40:30,{align:"center"});const s=new Date().toLocaleDateString();if(n.setFontSize(12),n.text(`Date: ${s}`,105,r?50:40,{align:"center"}),n.setFontSize(14),n.setTextColor(0,102,255),n.text("Recommended Interventions:",20,r?65:55),t.length===0)n.setFontSize(12),n.setTextColor(0,0,0),n.text("No issues were identified in this category. Your school is doing well in this area!",20,r?75:65);else{const c=t.map((h,v)=>[`${v+1}. ${h.icon||""}`,h.text]);K5(n,{startY:r?70:60,head:[["","Recommendation"]],body:c,theme:"grid",headStyles:{fillColor:[255,192,77],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{cellWidth:20},1:{cellWidth:"auto"}},styles:{overflow:"linebreak",cellPadding:5}})}let u=r?85:75;return n.lastAutoTable&&n.lastAutoTable.finalY&&(u=n.lastAutoTable.finalY+20),n.setFontSize(10),n.setTextColor(128,128,128),n.text("Generated by School Climate Assessment Tool",105,u,{align:"center"}),n.text("Powered by AI-for-Education.org",105,u+14,{align:"center"}),n}function Z5(t,e,r=""){const n=Q5(t,e,r),a={"water-supply":"water","water-demand":"demand","dust-impacts":"dust","heat-impacts":"heat","rainwater-entry":"rain","flood-management":"flood","wildfire-impacts":"fire","electricity-supply":"elec","air-quality":"air"},i=new Date().toISOString().replace(/[:.]/g,"-").substring(0,19),s=`CRIBS_${a[e]||e}_${i}.pdf`;return n.save(s),s}var e0=Ve('<button class="mr-2 text-sm px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">← Start Over</button>'),t0=Ve('<button class="mr-2 text-sm px-3 py-1 rounded-lg bg-blue-100 hover:bg-blue-200 text-blue-700">View Flowchart</button>'),r0=Ve('<button class="text-sm px-3 py-1 rounded-lg bg-purple-100 hover:bg-purple-200 text-purple-700">Edit Flowchart</button>'),n0=Ve('<button class="text-sm px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300">Exit Editor</button>'),i0=Ve("<!> <!> <!> <!>",1),a0=Ve('<div class="container mx-auto px-4 py-8"><!></div>'),o0=Ve('<main class="container fade-in svelte-1op70pk"><!></main>'),s0=Ve("<!> <!>",1);function l0(t,e){gn(e,!1);let r=yt("welcome"),n=yt(null),a=yt(null),i=yt({}),s=yt(0),u={},c=yt([]),h=new Set,v=yt(new Set);const g={"water-supply":[{id:"ws-availability",title:"Water Availability",description:"Evaluate if the current water supply meets the facility needs.",startQuestionId:"ws1"},{id:"ws-storage",title:"Water Storage Capacity",description:"Assess if water storage and distribution systems are sufficient.",startQuestionId:"ws4"}],"water-demand":[{id:"wd-toilets",title:"Toilet Water Usage",description:"Evaluate toilet water consumption and alternatives.",startQuestionId:"wd1"},{id:"wd-irrigation",title:"Irrigation Water Usage",description:"Assess water usage for gardens and outdoor areas.",startQuestionId:"wd3"}],"dust-impacts":[{id:"di-internal",title:"Internal Dust Sources",description:"Evaluate dust sources within the facility grounds.",startQuestionId:"di1"},{id:"di-external",title:"External Dust Sources",description:"Assess impact of dust from outside the facility.",startQuestionId:"di2"},{id:"di-mitigation",title:"Dust Mitigation Options",description:"Explore options for reducing dust impacts on the facility.",startQuestionId:"di5"}],"heat-impacts":[{id:"hi-direct-sunlight",title:"Direct Sunlight Issues",description:"Evaluate how direct sunlight affects building temperature.",startQuestionId:"hi1"},{id:"hi-roof-heat",title:"Roof Heat Transfer",description:"Assess how heat transfers through the roof structure.",startQuestionId:"hi12"}],"rainwater-entry":[{id:"re-roof",title:"Roof Leakage",description:"Address rainwater entry through the roof.",startQuestionId:"re1"},{id:"re-windows",title:"Window Leakage",description:"Evaluate rainwater entry through windows.",startQuestionId:"re8"},{id:"re-doors",title:"Door Leakage",description:"Address rainwater entry under doors.",startQuestionId:"re12"}],"flood-management":[{id:"fm-external",title:"External Flooding",description:"Manage external flood water sources.",startQuestionId:"fm1"},{id:"fm-drainage",title:"Site Drainage",description:"Improve site drainage to manage rainwater.",startQuestionId:"fm5"},{id:"fm-building",title:"Building Protection",description:"Protect buildings from flood damage.",startQuestionId:"fm7"},{id:"fm-contamination",title:"Water Contamination",description:"Address water contamination during flooding.",startQuestionId:"fm11"}],"wildfire-impacts":[{id:"wi-air",title:"Air Quality",description:"Manage air quality impacts from wildfires.",startQuestionId:"wi1"},{id:"wi-prevention",title:"Fire Prevention",description:"Reduce risk of fires spreading to site.",startQuestionId:"wi2"},{id:"wi-escape",title:"Emergency Escape",description:"Plan evacuation routes and emergency access.",startQuestionId:"wi3"}],"electricity-supply":[{id:"es-increase",title:"Increase Supply",description:"Evaluate options to enhance electricity supply.",startQuestionId:"es1"},{id:"es-reduce",title:"Reduce Demand",description:"Implement strategies to reduce electricity consumption.",startQuestionId:"es5"},{id:"es-lighting",title:"Natural Lighting",description:"Improve natural lighting to reduce electricity needs.",startQuestionId:"es11"}],"air-quality":[{id:"aq-outdoor",title:"Outdoor Air Quality",description:"Address external air quality issues affecting the facility.",startQuestionId:"aq1"},{id:"aq-indoor",title:"Indoor Air Quality",description:"Improve indoor air quality within the facility.",startQuestionId:"aq9"}],"rain-noise":[{id:"rn-building",title:"Rain Noise Impact",description:"Assess and mitigate the impact of rain noise on buildings",startQuestionId:"rn1"}]};let y={};function p(){Ie(r,"categories"),V()}function S(F){if(Ie(n,F.detail.detail),g[O(n)]&&g[O(n)].length>1)W(),Ie(r,"branches");else{W(),Ie(r,"question");const z=J1(O(n));z?(Ie(i,z),h.add(O(i).id),Q()):(console.error("No first question found for category ID:",O(n)),Ie(r,"results"),Q())}}function L(F){const z=F.detail.detail;Ie(a,z);const T=g[O(n)].find(te=>te.id===z);if(!T){console.error("Branch not found:",z);return}ce(),Ie(r,"question");const oe=T.startQuestionId,fe=Yt[O(n)].find(te=>te.id===oe);fe?(Ie(i,fe),h.add(O(i).id),Q()):(console.error("Start question not found for branch:",z,"startQuestionId:",oe),Ie(r,"branches"))}function C(F){const z=F.detail.answer,T=O(i).id;u[T]=z;const oe=Y1(O(n),T,z);oe?oe.type==="recommendation"?(O(c).push(oe.data),Ie(c,O(c)),O(a)&&(y[O(a)]||(y[O(a)]=[]),y[O(a)].push(oe.data),O(v).add(O(a))),Ie(r,"results")):oe.type==="end"?(O(a)&&O(v).add(O(a)),Ie(r,"results")):oe.type==="question"?(Ie(i,oe.data),h.add(O(i).id)):(console.error("Unknown next step type:",oe.type),Ie(r,"results")):(console.error("Error determining next step from",T,"with answer",z),Ie(r,"results")),Q()}function _(){Ie(r,"categories"),V()}function E(){Ie(r,"branches"),ce()}function U(){const F=prompt("Enter school name (optional) for the PDF report:","");if(F===null)return;const z=[];for(const T in y)z.push(...y[T]);try{const T=Z5(z.length>0?z:O(c),O(n),F);alert(`Results exported successfully as ${T}`)}catch(T){console.error("Error exporting PDF:",T),alert("An error occurred while exporting the results.")}}function V(){Ie(n,null),Ie(a,null),Ie(i,{}),Ie(s,0),u={},Ie(c,[]),h=new Set,Ie(v,new Set),y={}}function W(){Ie(a,null),Ie(i,{}),Ie(s,0),u={},Ie(c,[]),h=new Set,Ie(v,new Set),y={}}function ce(){Ie(i,{}),Ie(s,0),u={},Ie(c,[]),h=new Set}function Q(){var F;if(O(r)==="question"&&O(n)){const z=Object.keys(u).length;Ie(s,Math.min(99,Math.round(z/3*100)))}else if(O(r)==="results")Ie(s,100);else if(O(r)==="branches"){const z=((F=g[O(n)])==null?void 0:F.length)||1,T=O(v).size;Ie(s,Math.round(T/z*100))}else Ie(s,0)}function B(){Ie(r,"editor")}Cn();var ee=s0(),he=Pn(ee);U1(he,{get progress(){return O(s)},children:(F,z)=>{var T=i0(),oe=Pn(T);{var se=j=>{var q=e0();ft("click",q,()=>Ie(r,"welcome")),ze(j,q)};ht(oe,j=>{O(r)!=="welcome"&&O(r)!=="editor"&&j(se)})}var fe=ke(oe,2);{var te=j=>{var q=t0();ft("click",q,()=>Ie(r,"visualization")),ze(j,q)};ht(fe,j=>{O(r)!=="visualization"&&O(r)!=="editor"&&j(te)})}var de=ke(fe,2);{var ve=j=>{var q=r0();ft("click",q,B),ze(j,q)};ht(de,j=>{O(r)!=="editor"&&j(ve)})}var Ee=ke(de,2);{var x=j=>{var q=n0();ft("click",q,()=>Ie(r,"welcome")),ze(j,q)};ht(Ee,j=>{O(r)==="editor"&&j(x)})}ze(F,T)},$$slots:{default:!0}});var I=ke(he,2);b1(I,()=>O(r),F=>{var z=o0(),T=ye(z);{var oe=fe=>{W1(fe,{$$events:{start:p}})},se=(fe,te)=>{{var de=Ee=>{K1(Ee,{$$events:{select:S}})},ve=(Ee,x)=>{{var j=H=>{const X=ir(()=>g[O(n)]||[]),Y=ir(()=>Array.from(O(v)));t2(H,{get category(){return O(n)},get branches(){return O(X)},get completedBranches(){return O(Y)},$$events:{select:L,back:_}})},q=(H,X)=>{{var Y=ne=>{a2(ne,{get question(){return O(i).text},get helpText(){return O(i).help},get currentCategory(){return O(n)},get questionId(){return O(i).id},$$events:{answer:C}})},re=(ne,Ce)=>{{var Se=Fe=>{const We=ir(()=>!!O(a));d2(Fe,{get results(){return O(c)},get category(){return O(n)},get fromBranch(){return O(We)},$$events:{categories:_,branches:E,export:U}})},je=(Fe,We)=>{{var ge=Ye=>{N2(Ye,{})},M=(Ye,Be)=>{{var ae=pe=>{var _e=a0(),Ne=ye(_e);pp(Ne,{}),ze(pe,_e)};ht(Ye,pe=>{O(r)==="editor"&&pe(ae)},Be)}};ht(Fe,Ye=>{O(r)==="visualization"?Ye(ge):Ye(M,!1)},We)}};ht(ne,Fe=>{O(r)==="results"?Fe(Se):Fe(je,!1)},Ce)}};ht(H,ne=>{O(r)==="question"?ne(Y):ne(re,!1)},X)}};ht(Ee,H=>{O(r)==="branches"?H(j):H(q,!1)},x)}};ht(fe,Ee=>{O(r)==="categories"?Ee(de):Ee(ve,!1)},te)}};ht(T,fe=>{O(r)==="welcome"?fe(oe):fe(se,!1)})}ze(F,z)}),ze(t,ee),mn()}g1(l0,{target:document.getElementById("app")});export{Lt as _};
